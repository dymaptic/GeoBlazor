@inherits TestRunnerBase

@{
    base.BuildRenderTree(__builder);
}

@code {

    [TestMethod]
    public async Task TestCanRenderMapImageLayer(Action renderHandler)
    {
        MapImageLayer? mapImageLayer = null;

        RefreshEvent? refreshResult = null;
        void OnRefresh(RefreshEvent result)
        {
            refreshResult = result;
        }
        AddMapRenderFragment(
            @<MapView class="map-view" OnViewRendered="renderHandler">
                <Map>
                    <Basemap>
                        <BasemapStyle Name="BasemapStyleName.ArcgisTopographic" />
                    </Basemap>
                    <MapImageLayer 
                        Url="@("https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer")"
                        BlendMode="@(BlendMode.ColorBurn)"
                        Dpi="@(315.2357)"
                        Effect="@(new Effect("rerum",
                            39335759.4212))"
                        GdbVersion="@("9.1.7.5")"
                        ImageFormat="@(MapImageFormat.Pdf)"
                        ImageMaxHeight="@(5)"
                        ImageMaxWidth="@(1)"
                        ImageTransparency="@(true)"
                        LegendEnabled="@(true)"
                        MaxScale="@(15580245.6046)"
                        MinScale="@(48304.2423)"
                        PersistenceEnabled="@(true)"
                        RefreshInterval="@(610.0263)"
                        UseViewTime="@(true)"
                        ListMode="@(ListMode.Show)"
                        Visible="@(true)"
                        Opacity="@(0.9363)"
                        Copyright="@("molestias")"
                        FullExtent="@(new Extent(-148.1026,
                                -153.4190,
                                -48.4032,
                                8.4605,
                                4.3132,
                                164.7400,
                                403.4848,
                                747.4566,
                            new SpatialReference(3,
                                    "sed",
                                    "laborum",
                                    "aut"),
                                true,
                                true))"
                        Title="@("non enim architecto")"
                        OnRefresh="OnRefresh">
                        <TimeInterval 
                            Unit="@(TemporalTime.Minutes)"
                            Value="@(392.7240)">
                        </TimeInterval>
                        <TimeInfo 
                            StartField="@("fugit")"
                            EndField="@("sit")"
                            Stops="@([new DateTime(2015, 7, 15, 14, 9, 5),
                                new DateTime(2017, 6, 1, 15, 22, 10),
                                new DateTime(2009, 10, 23, 9, 10, 54)])"
                            TimeZone="@("Etc/UTC")"
                            TrackIdField="@("sed")">
                            <TimeInterval 
                                Unit="@(TemporalTime.Months)"
                                Value="@(988.8543)">
                            </TimeInterval>
                            <TimeExtent 
                                Start="@(new DateTime(2003, 3, 9, 0, 39, 20))"
                                End="@(new DateTime(2011, 10, 8, 13, 33, 35))">
                            </TimeExtent>
                        </TimeInfo>
                        <TimeExtent 
                            Start="@(new DateTime(2008, 8, 17, 10, 43, 13))"
                            End="@(new DateTime(2005, 1, 24, 9, 36, 12))">
                        </TimeExtent>
                        <Sublayer 
                            SublayerId="@(7)"
                            LabelsVisible="@(true)"
                            LegendEnabled="@(true)"
                            ListMode="@(ListMode.Show)"
                            MaxScale="@(41902222.3035)"
                            MinScale="@(5131.8306)"
                            Opacity="@(0.2529)"
                            PopupEnabled="@(true)"
                            Title="@("et reiciendis corporis")"
                            Visible="@(true)"
                            DefinitionExpression="@("numquam")"
                            FloorInfo="@(new LayerFloorInfo("molestiae"))"
                            LabelingInfo="@([new Label(LabelPlacement.BelowAfter,
                                    "nihil",
                                    new LabelExpressionInfo(),
                                    true,
                                DeconflictionStrategy.None,
                                LabelPosition.Parallel,
                                    39639644.6479,
                                    45656.2250,
                                    true,
                                    new Dimension(793.2936),
                                new TextSymbol("dignissimos nobis ut",
                                    new MapColor(3, 108, 165),
                                    new MapColor(158, 46, 72),
                                        new Dimension(592.3850),
                                    new MapFont(new Dimension(496.6142),
                                            "Bookman",
                                        MapFontStyle.Oblique,
                                        FontWeight.Bolder,
                                        TextDecoration.LineThrough),
                                        857.4692,
                                    new MapColor(169, 120, 90),
                                    new MapColor(76, 126, 29),
                                        443.7042,
                                    HorizontalAlignment.Right,
                                        true,
                                        592.3277,
                                        new Dimension(771.8544),
                                        true),
                                    true,
                                    "Age > 21")])"
                            PopupTemplate="@(new PopupTemplate("consequatur deleniti aperiam",
                                    "repellendus",
                                    ["perspiciatis",
                                        "vitae"],
                                [new FieldInfo("category",
                                        "est",
                                        "aperiam",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(9,
                                            true,
                                        DateFormat.LongMonthDayYearLongTime24),
                                        true,
                                        true,
                                    StatisticType.Sum),
                                new FieldInfo("name",
                                        "quasi",
                                        "eveniet",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(3,
                                            true,
                                        DateFormat.ShortDateLeShortTime),
                                        true,
                                        true,
                                    StatisticType.Count),
                                new FieldInfo("createdAt",
                                        "quos",
                                        "repellendus",
                                    StringFieldOption.TextArea,
                                    new FieldInfoFormat(1,
                                            true,
                                        DateFormat.ShortDateLe),
                                        true,
                                        true,
                                    StatisticType.Min)],
                                [new MediaPopupContent("ullam eum sit",
                                        "earum ut dignissimos corporis architecto illo",
                                    [new ColumnChartMediaInfo("neque ducimus reprehenderit",
                                            "temporibus",
                                            "voluptas aliquam non",
                                        new ChartMediaInfoValue(["eos",
                                                "veniam"],
                                                "iure",
                                                "cupiditate",
                                            [new ChartMediaInfoValueSeries("phone",
                                                    "magni",
                                                    863.4587),
                                            new ChartMediaInfoValueSeries("comment",
                                                    "dolores",
                                                    190.9082)],
                                            [new MapColor(153, 145, 192),
                                            new MapColor(87, 178, 221)])),
                                    new BarChartMediaInfo("nemo beatae tempore",
                                            "in",
                                            "in voluptate amet",
                                        new ChartMediaInfoValue(["ut",
                                                "ex",
                                                "quas"],
                                                "non",
                                                "omnis",
                                            [new ChartMediaInfoValueSeries("password",
                                                    "expedita",
                                                    13.9452),
                                            new ChartMediaInfoValueSeries("category",
                                                    "quis",
                                                    913.3322)],
                                            [new MapColor(46, 140, 14),
                                            new MapColor(10, 34, 58),
                                            new MapColor(246, 239, 50)])),
                                    new ImageMediaInfo("iste modi aliquid",
                                            "quae",
                                            "magnam repellat sapiente",
                                        new ImageMediaInfoValue("http://alvena.net",
                                                "http://kenyon.biz"),
                                            22.3377),
                                    new LineChartMediaInfo("aliquam iusto eligendi",
                                            "molestiae",
                                            "sunt eos tenetur",
                                        new ChartMediaInfoValue(["harum",
                                                "delectus",
                                                "quia",
                                                "rem"],
                                                "qui",
                                                "deleniti",
                                            [new ChartMediaInfoValueSeries("updatedAt",
                                                    "animi",
                                                    562.1994),
                                            new ChartMediaInfoValueSeries("name",
                                                    "sint",
                                                    561.3296),
                                            new ChartMediaInfoValueSeries("updatedAt",
                                                    "sapiente",
                                                    509.8873)],
                                            [new MapColor(1, 226, 198),
                                            new MapColor(105, 19, 190)]))],
                                        4),
                                new FieldsPopupContent([new FieldInfo("title",
                                            "voluptate",
                                            "porro",
                                        StringFieldOption.TextArea,
                                        new FieldInfoFormat(9,
                                                true,
                                            DateFormat.ShortDateLongTime),
                                            true,
                                            true,
                                        StatisticType.Stddev)],
                                        "repellendus maiores deserunt ab",
                                        "sint numquam molestias"),
                                new ExpressionPopupContent(new ElementExpressionInfo("return $feature['FieldName'];",
                                            "quia",
                                            "repudiandae suscipit quis"))],
                                [new ExpressionInfo("return Date();",
                                        "category",
                                        "voluptates accusantium atque",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                                        "createdAt",
                                        "tempore sit at",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("return $feature.Population / $feature.Area;",
                                        "comment",
                                        "voluptas dolore adipisci",
                                        ExpressionInfoReturnType.String)],
                                    true,
                                    true,
                                [new ActionToggle("velit nemo eaque",
                                        "d88fc623-5f60-0951-f56f-dc780db8706a",
                                        () => { Console.WriteLine("praesentium"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "phone",
                                        "quaerat"),
                                new ActionButton("natus ab nesciunt",
                                        "https://picsum.photos/640/480/?image=998",
                                        "1799b87b-ba8d-474b-2268-9e2632d4ed29",
                                        () => { Console.WriteLine("et"); return Task.CompletedTask; },
                                        "id",
                                        true,
                                        true,
                                        true,
                                        "ad")]))"
                            Renderer="@(new SimpleRenderer(new TextSymbol("culpa quos non",
                                    new MapColor(2, 61, 250),
                                    new MapColor(34, 98, 125),
                                        new Dimension(291.1439),
                                    new MapFont(new Dimension(940.8029),
                                            "Courier New",
                                        MapFontStyle.Italic,
                                        FontWeight.Normal,
                                        TextDecoration.LineThrough),
                                        747.9781,
                                    new MapColor(42, 247, 212),
                                    new MapColor(214, 31, 156),
                                        801.0826,
                                    HorizontalAlignment.Right,
                                        true,
                                        201.9025,
                                        new Dimension(500.0701),
                                        true),
                                    "culpa",
                                [new ColorVariable("rem",
                                        "quas",
                                    [new ColorStop(465.7630,
                                        new MapColor(201, 93, 112),
                                            "accusantium"),
                                    new ColorStop(965.7831,
                                        new MapColor(80, 179, 177),
                                            "sapiente")],
                                    new VisualVariableLegendOptions(true,
                                            "est repudiandae et"),
                                        "inventore",
                                        "ducimus assumenda ad"),
                                new OpacityVariable("nobis",
                                        "nam",
                                    [new OpacityStop(336.4403,
                                            0.7715,
                                            "quia"),
                                    new OpacityStop(608.0454,
                                            0.0637,
                                            "mollitia"),
                                    new OpacityStop(379.0605,
                                            0.9956,
                                            "et")],
                                    new VisualVariableLegendOptions(true,
                                            "doloremque laborum velit"),
                                        "temporibus",
                                        "culpa aspernatur adipisci"),
                                new SizeVariable("beatae",
                                        new Dimension(474.6606),
                                        new Dimension(943.3917),
                                        153.4990,
                                        833.1167,
                                        VisualValueRepresentation.Diameter,
                                        VisualValueUnit.Miles,
                                        "officia",
                                        "eius",
                                        true,
                                        VisualAxis.Depth,
                                        "natus",
                                        "explicabo neque aspernatur",
                                    new VisualVariableLegendOptions(true,
                                            "qui optio qui")),
                                new RotationVariable("velit",
                                    Axis.Heading,
                                    RotationType.Geographic,
                                    new VisualVariableLegendOptions(true,
                                            "repellendus rerum dolore"),
                                        "dolorem",
                                        "enim qui iure")],
                                new AuthoringInfo(ClassificationMethod.EqualInterval,
                                    new AlgorithmicColorRamp(Algorithm.CieLab,
                                        new MapColor(89, 24, 56),
                                        new MapColor(61, 138, 170)),
                                        539.5862,
                                    new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(109.3834,
                                                306.1055),
                                        new AuthoringInfoField1ClassBreakInfos(503.0374,
                                                781.4841),
                                        new AuthoringInfoField1ClassBreakInfos(205.0849,
                                                91.9828),
                                        new AuthoringInfoField1ClassBreakInfos(105.2707,
                                                37.3034)],
                                            "quas",
                                            "unde",
                                            "ea"),
                                    new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(416.2072,
                                                594.7168)],
                                            "qui",
                                            "recusandae",
                                            "id"),
                                        ["reprehenderit",
                                            "repudiandae",
                                            "ea"],
                                    AuthoringInfoFlowTheme.FlowLine,
                                        "sit",
                                        true,
                                    LengthUnit.UsFeet,
                                        29.6068,
                                        819.4999,
                                        384.0804,
                                        239.1986)))"
                            Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads_Styled/FeatureServer/0")">
                            <Sublayer 
                                SublayerId="@(9)"
                                LabelsVisible="@(true)"
                                LegendEnabled="@(true)"
                                ListMode="@(ListMode.Show)"
                                MaxScale="@(31382755.1496)"
                                MinScale="@(44287.4509)"
                                Opacity="@(0.8390)"
                                PopupEnabled="@(true)"
                                Title="@("doloribus hic sapiente")"
                                Visible="@(true)"
                                DefinitionExpression="@("labore")"
                                Url="@("https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Countries_(Generalized)/FeatureServer/0")">
                                <Sublayer 
                                    SublayerId="@(3)"
                                    LabelsVisible="@(true)"
                                    LegendEnabled="@(true)"
                                    ListMode="@(ListMode.Show)"
                                    MaxScale="@(31370194.0075)"
                                    MinScale="@(27207.5327)"
                                    Opacity="@(0.3848)"
                                    PopupEnabled="@(true)"
                                    Title="@("possimus dolor quisquam")"
                                    Visible="@(true)"
                                    DefinitionExpression="@("est")"
                                    Url="@("https://services9.arcgis.com/RHVPKKiFTONKtxq3/arcgis/rest/services/NDFD_Precipitation_v1/FeatureServer/0")">
                                    <Sublayer 
                                        SublayerId="@(3)"
                                        LabelsVisible="@(true)"
                                        LegendEnabled="@(true)"
                                        ListMode="@(ListMode.Show)"
                                        MaxScale="@(9577684.5405)"
                                        MinScale="@(20912.1813)"
                                        Opacity="@(0.7115)"
                                        PopupEnabled="@(true)"
                                        Title="@("aut cumque eos")"
                                        Visible="@(true)"
                                        DefinitionExpression="@("hic")"
                                        Url="@("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/1")">
                                        <Sublayer 
                                            SublayerId="@(4)"
                                            LabelsVisible="@(true)"
                                            LegendEnabled="@(true)"
                                            ListMode="@(ListMode.Show)"
                                            MaxScale="@(42363670.0670)"
                                            MinScale="@(25052.4475)"
                                            Opacity="@(0.0119)"
                                            PopupEnabled="@(true)"
                                            Title="@("dolore ut recusandae")"
                                            Visible="@(true)"
                                            DefinitionExpression="@("sed")"
                                            Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Parks_and_Open_Space/FeatureServer/0")">
                                            <Sublayer 
                                                SublayerId="@(1)"
                                                LabelsVisible="@(true)"
                                                LegendEnabled="@(true)"
                                                ListMode="@(ListMode.Show)"
                                                MaxScale="@(47928509.3599)"
                                                MinScale="@(14246.9263)"
                                                Opacity="@(0.0017)"
                                                PopupEnabled="@(true)"
                                                Title="@("veniam rerum autem")"
                                                Visible="@(true)"
                                                DefinitionExpression="@("laborum")"
                                                Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads_Styled/FeatureServer/0")">
                                                <Sublayer 
                                                    SublayerId="@(2)"
                                                    LabelsVisible="@(true)"
                                                    LegendEnabled="@(true)"
                                                    ListMode="@(ListMode.Show)"
                                                    MaxScale="@(8467664.0341)"
                                                    MinScale="@(47662.9251)"
                                                    Opacity="@(0.4652)"
                                                    PopupEnabled="@(true)"
                                                    Title="@("illo aut consequatur")"
                                                    Visible="@(true)"
                                                    DefinitionExpression="@("et")"
                                                    Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Parks_and_Open_Space/FeatureServer/0")">
                                                    <Sublayer 
                                                        Visible="@(true)"
>
                                                    </Sublayer>
                                                    <SimpleRenderer 
>
                                                    </SimpleRenderer>
                                                    <PopupTemplate 
                                                        Title="@("asperiores a dolores")"
                                                        StringContent="@("eos")"
>
                                                    </PopupTemplate>
                                                    <Label 
>
                                                    </Label>
                                                    <LayerFloorInfo 
                                                        FloorField="@("molestiae")">
                                                    </LayerFloorInfo>
                                                </Sublayer>
                                                <UniqueValueRenderer 
                                                    AuthoringInfo="@(new AuthoringInfo())">
                                                </UniqueValueRenderer>
                                                <PopupTemplate 
                                                    Title="@("impedit ut provident")"
                                                    StringContent="@("placeat")"
                                                    OutFields="@(["enim",
                                                        "provident",
                                                        "ipsum"])"
                                                    FieldInfos="@([new FieldInfo(null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                            true)])"
                                                    Content="@([new TextPopupContent()])"
                                                    ExpressionInfos="@([new ExpressionInfo(),
                                                    new ExpressionInfo(),
                                                    new ExpressionInfo(),
                                                    new ExpressionInfo()])"
                                                    OverwriteActions="@(true)"
                                                    ReturnGeometry="@(true)"
                                                    Actions="@([new ActionButton(null,
                                                        null,
                                                            "d05741e7-8187-b4ba-1b23-b66d5a34ac3e",
                                                            () => { Console.WriteLine("ut"); return Task.CompletedTask; },
                                                        null,
                                                        null,
                                                        null,
                                                            true)])">
                                                </PopupTemplate>
                                                <Label 
                                                    LabelPlacement="@(LabelPlacement.CenterBefore)"
                                                    LabelExpression="@("recusandae")"
                                                    LabelExpressionInfo="@(new LabelExpressionInfo())"
                                                    AllowOverrun="@(true)"
                                                    DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                                    LabelPosition="@(LabelPosition.Parallel)"
                                                    MaxScale="@(34915146.6075)"
                                                    MinScale="@(41614.3258)"
                                                    RepeatLabel="@(true)"
                                                    RepeatLabelDistance="@(new Dimension(286.8247))"
                                                    Symbol="@(new TextSymbol("optio rerum facilis"))"
                                                    UseCodedValues="@(true)"
                                                    Where="@("Country = 'Canada'")">
                                                </Label>
                                                <LayerFloorInfo 
                                                    FloorField="@("voluptatem")">
                                                </LayerFloorInfo>
                                            </Sublayer>
                                            <UniqueValueRenderer 
                                                AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.Quantile,
                                                    new AlgorithmicColorRamp(Algorithm.LabLch),
                                                        673.3306,
                                                    new AuthoringInfoField(),
                                                    new AuthoringInfoField(),
                                                        ["laudantium",
                                                            "sed"],
                                                    AuthoringInfoFlowTheme.FlowLine,
                                                        "dolores",
                                                        true,
                                                    LengthUnit.Miles,
                                                        254.4116,
                                                        599.4890,
                                                        274.8293,
                                                        406.9954))">
                                            </UniqueValueRenderer>
                                            <PopupTemplate 
                                                Title="@("aliquam error saepe")"
                                                StringContent="@("reiciendis")"
                                                OutFields="@(["eum",
                                                    "omnis",
                                                    "ab"])"
                                                FieldInfos="@([new FieldInfo("updatedAt",
                                                        "officiis",
                                                        "non",
                                                    StringFieldOption.TextBox,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Count),
                                                new FieldInfo("email",
                                                        "non",
                                                        "dolor",
                                                    StringFieldOption.TextBox,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Stddev),
                                                new FieldInfo("avatar",
                                                        "ipsam",
                                                        "occaecati",
                                                    StringFieldOption.TextBox,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Var),
                                                new FieldInfo("avatar",
                                                        "sapiente",
                                                        "et",
                                                    StringFieldOption.TextBox,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Avg)])"
                                                Content="@([new AttachmentsPopupContent("aut nisi quidem",
                                                        "qui eaque sunt dolores et aut aut"),
                                                new ExpressionPopupContent(new ElementExpressionInfo())])"
                                                ExpressionInfos="@([new ExpressionInfo("return $feature.City + ', ' + $feature.Country;",
                                                        "group",
                                                        "error possimus et")])"
                                                OverwriteActions="@(true)"
                                                ReturnGeometry="@(true)"
                                                Actions="@([new ActionButton("rerum placeat labore",
                                                        "https://picsum.photos/640/480/?image=548",
                                                        "07deb072-44b5-fd97-102a-e12ad26b7e6b",
                                                        () => { Console.WriteLine("perspiciatis"); return Task.CompletedTask; },
                                                        "category",
                                                        true,
                                                        true,
                                                        true,
                                                        "doloremque"),
                                                new ActionToggle("magnam unde quia",
                                                        "0a4ea643-c14a-f189-27b3-2f99fdd0ad24",
                                                        () => { Console.WriteLine("est"); return Task.CompletedTask; },
                                                        true,
                                                        true,
                                                        true,
                                                        true,
                                                        "category",
                                                        "minima")])">
                                            </PopupTemplate>
                                            <Label 
                                                LabelPlacement="@(LabelPlacement.BelowRight)"
                                                LabelExpression="@("distinctio")"
                                                LabelExpressionInfo="@(new LabelExpressionInfo())"
                                                AllowOverrun="@(true)"
                                                DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                                LabelPosition="@(LabelPosition.Parallel)"
                                                MaxScale="@(12347029.0954)"
                                                MinScale="@(21684.3841)"
                                                RepeatLabel="@(true)"
                                                RepeatLabelDistance="@(new Dimension(911.5706))"
                                                Symbol="@(new TextSymbol("expedita et vitae",
                                                    new MapColor(56, 54, 231),
                                                    new MapColor(191, 164, 122),
                                                        null,
                                                    new MapFont(),
                                                        202.4499,
                                                    new MapColor(249, 41, 211),
                                                    new MapColor(31, 9, 93),
                                                        535.7326,
                                                    HorizontalAlignment.Right,
                                                        true,
                                                        999.2748,
                                                        null,
                                                        true))"
                                                UseCodedValues="@(true)"
                                                Where="@("PostalCode = 'M5V 1J9'")">
                                            </Label>
                                            <LayerFloorInfo 
                                                FloorField="@("beatae")">
                                            </LayerFloorInfo>
                                        </Sublayer>
                                        <UniqueValueRenderer 
                                            AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.Quantile,
                                                new AlgorithmicColorRamp(Algorithm.CieLab,
                                                    new MapColor(200, 161, 15),
                                                    new MapColor(34, 57, 175)),
                                                    213.7335,
                                                new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos()],
                                                        "soluta",
                                                        "dicta",
                                                        "consequatur"),
                                                new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos()],
                                                        "vel",
                                                        "illo",
                                                        "facere"),
                                                    ["cum",
                                                        "illo",
                                                        "blanditiis",
                                                        "exercitationem"],
                                                AuthoringInfoFlowTheme.FlowLine,
                                                    "id",
                                                    true,
                                                LengthUnit.Feet,
                                                    582.5943,
                                                    520.1818,
                                                    397.2305,
                                                    508.0489))">
                                        </UniqueValueRenderer>
                                        <PopupTemplate 
                                            Title="@("cupiditate iste facere")"
                                            StringContent="@("sapiente")"
                                            OutFields="@(["laboriosam",
                                                "sapiente",
                                                "et",
                                                "debitis"])"
                                            FieldInfos="@([new FieldInfo("title",
                                                    "illum",
                                                    "ipsam",
                                                StringFieldOption.TextBox,
                                                new FieldInfoFormat(4,
                                                        true,
                                                    DateFormat.LongMonthDayYearShortTime),
                                                    true,
                                                    true,
                                                StatisticType.Count),
                                            new FieldInfo("avatar",
                                                    "dolorem",
                                                    "asperiores",
                                                StringFieldOption.TextBox,
                                                new FieldInfoFormat(1,
                                                        true,
                                                    DateFormat.LongDateLongTime),
                                                    true,
                                                    true,
                                                StatisticType.Min),
                                            new FieldInfo("category",
                                                    "eligendi",
                                                    "quo",
                                                StringFieldOption.RichText,
                                                new FieldInfoFormat(6,
                                                        true,
                                                    DateFormat.ShortDateShortTime24),
                                                    true,
                                                    true,
                                                StatisticType.Min)])"
                                            Content="@([new TextPopupContent("omnis et officia"),
                                            new TextPopupContent("laudantium odio sit")])"
                                            ExpressionInfos="@([new ExpressionInfo("return $feature.Name;",
                                                    "id",
                                                    "ipsum cupiditate consectetur",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                                                    "password",
                                                    "ut ducimus cumque",
                                                    ExpressionInfoReturnType.String)])"
                                            OverwriteActions="@(true)"
                                            ReturnGeometry="@(true)"
                                            Actions="@([new ActionButton("eos voluptatem officia",
                                                    "https://picsum.photos/640/480/?image=851",
                                                    "23efa349-0977-ae8f-8508-4ad076bb4050",
                                                    () => { Console.WriteLine("amet"); return Task.CompletedTask; },
                                                    "phone",
                                                    true,
                                                    true,
                                                    true,
                                                    "nisi"),
                                            new ActionButton("rem sit exercitationem",
                                                    "https://picsum.photos/640/480/?image=643",
                                                    "cbf54176-51ed-ac54-6729-d28ba0a04a63",
                                                    () => { Console.WriteLine("occaecati"); return Task.CompletedTask; },
                                                    "category",
                                                    true,
                                                    true,
                                                    true,
                                                    "voluptatem"),
                                            new ActionToggle("ea fugiat iure",
                                                    "219e25b6-0c57-4511-df07-5e97ff9bd3c0",
                                                    () => { Console.WriteLine("dolorum"); return Task.CompletedTask; },
                                                    true,
                                                    true,
                                                    true,
                                                    true,
                                                    "token",
                                                    "error"),
                                            new ActionToggle("at corrupti assumenda",
                                                    "2fb85b71-bb06-2631-fc9d-a708624448f8",
                                                    () => { Console.WriteLine("optio"); return Task.CompletedTask; },
                                                    true,
                                                    true,
                                                    true,
                                                    true,
                                                    "group",
                                                    "ex")])">
                                        </PopupTemplate>
                                        <Label 
                                            LabelPlacement="@(LabelPlacement.CenterBefore)"
                                            LabelExpression="@("molestiae")"
                                            LabelExpressionInfo="@(new LabelExpressionInfo())"
                                            AllowOverrun="@(true)"
                                            DeconflictionStrategy="@(DeconflictionStrategy.None)"
                                            LabelPosition="@(LabelPosition.Parallel)"
                                            MaxScale="@(14920235.4148)"
                                            MinScale="@(14881.8240)"
                                            RepeatLabel="@(true)"
                                            RepeatLabelDistance="@(new Dimension(519.3127))"
                                            Symbol="@(new TextSymbol("ut sed quae",
                                                new MapColor(122, 186, 29),
                                                new MapColor(26, 169, 170),
                                                    new Dimension(932.7890),
                                                new MapFont(new Dimension(273.1657),
                                                        "Verdana",
                                                    MapFontStyle.Italic,
                                                    FontWeight.Normal,
                                                    TextDecoration.None),
                                                    514.2189,
                                                new MapColor(167, 8, 203),
                                                new MapColor(157, 131, 227),
                                                    17.9350,
                                                HorizontalAlignment.Right,
                                                    true,
                                                    561.9506,
                                                    new Dimension(529.5131),
                                                    true))"
                                            UseCodedValues="@(true)"
                                            Where="@("Country = 'Canada'")">
                                        </Label>
                                        <LayerFloorInfo 
                                            FloorField="@("minima")">
                                        </LayerFloorInfo>
                                    </Sublayer>
                                    <UniqueValueRenderer 
                                        AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.NaturalBreaks,
                                            new AlgorithmicColorRamp(Algorithm.Hsv,
                                                new MapColor(19, 182, 128),
                                                new MapColor(33, 1, 246)),
                                                412.6615,
                                            new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(791.4288,
                                                        883.6954),
                                                new AuthoringInfoField1ClassBreakInfos(502.5880,
                                                        434.8514),
                                                new AuthoringInfoField1ClassBreakInfos(360.4201,
                                                        279.7801)],
                                                    "praesentium",
                                                    "ab",
                                                    "quia"),
                                            new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(322.2762,
                                                        101.1651),
                                                new AuthoringInfoField1ClassBreakInfos(270.1609,
                                                        733.5660),
                                                new AuthoringInfoField1ClassBreakInfos(317.0643,
                                                        950.6402)],
                                                    "natus",
                                                    "iste",
                                                    "id"),
                                                ["exercitationem",
                                                    "voluptatem",
                                                    "nostrum",
                                                    "aperiam"],
                                            AuthoringInfoFlowTheme.WaveFront,
                                                "doloribus",
                                                true,
                                            LengthUnit.NauticalMiles,
                                                178.9768,
                                                842.2460,
                                                173.1634,
                                                976.2300))">
                                    </UniqueValueRenderer>
                                    <PopupTemplate 
                                        Title="@("deserunt atque quia")"
                                        StringContent="@("sit")"
                                        OutFields="@(["dolorem",
                                            "fugiat",
                                            "eligendi",
                                            "omnis"])"
                                        FieldInfos="@([new FieldInfo("status",
                                                "quia",
                                                "magni",
                                            StringFieldOption.TextArea,
                                            new FieldInfoFormat(6,
                                                    true,
                                                DateFormat.LongMonthDayYearShortTime24),
                                                true,
                                                true,
                                            StatisticType.Min),
                                        new FieldInfo("group",
                                                "accusantium",
                                                "delectus",
                                            StringFieldOption.TextArea,
                                            new FieldInfoFormat(6,
                                                    true,
                                                DateFormat.DayShortMonthYear),
                                                true,
                                                true,
                                            StatisticType.Var),
                                        new FieldInfo("token",
                                                "quasi",
                                                "doloremque",
                                            StringFieldOption.TextArea,
                                            new FieldInfoFormat(5,
                                                    true,
                                                DateFormat.ShortDateShortTime),
                                                true,
                                                true,
                                            StatisticType.Var)])"
                                        Content="@([new AttachmentsPopupContent("saepe molestiae dicta",
                                                "beatae sit ut qui recusandae ab",
                                                AttachmentsPopupContentDisplayType.Auto),
                                        new RelationshipPopupContent("exercitationem iste maxime",
                                                "ducimus qui minima nesciunt ut",
                                                8,
                                                "nemo",
                                            [new RelatedRecordsInfoFieldOrder("eum",
                                                OrderBy.Desc),
                                            new RelatedRecordsInfoFieldOrder("id",
                                                OrderBy.Desc),
                                            new RelatedRecordsInfoFieldOrder("illum",
                                                OrderBy.Asc)],
                                                8),
                                        new AttachmentsPopupContent("ullam dignissimos hic",
                                                "omnis adipisci animi molestiae",
                                                AttachmentsPopupContentDisplayType.Preview)])"
                                        ExpressionInfos="@([new ExpressionInfo("var area = Geometry($feature).area; return area;",
                                                "createdAt",
                                                "tempore fuga sunt",
                                                ExpressionInfoReturnType.String),
                                        new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                                                "updatedAt",
                                                "unde facere architecto",
                                                ExpressionInfoReturnType.String)])"
                                        OverwriteActions="@(true)"
                                        ReturnGeometry="@(true)"
                                        Actions="@([new ActionButton("illo autem unde",
                                                "https://picsum.photos/640/480/?image=554",
                                                "e1cc2997-70e8-3fd0-949f-d71d8865bd6d",
                                                () => { Console.WriteLine("aut"); return Task.CompletedTask; },
                                                "token",
                                                true,
                                                true,
                                                true,
                                                "labore"),
                                        new ActionButton("debitis sequi nulla",
                                                "https://picsum.photos/640/480/?image=607",
                                                "7ea68b79-8d1e-c2a3-5cc2-79bae7e94595",
                                                () => { Console.WriteLine("minima"); return Task.CompletedTask; },
                                                "status",
                                                true,
                                                true,
                                                true,
                                                "sint")])">
                                    </PopupTemplate>
                                    <Label 
                                        LabelPlacement="@(LabelPlacement.CenterLeft)"
                                        LabelExpression="@("provident")"
                                        LabelExpressionInfo="@(new LabelExpressionInfo())"
                                        AllowOverrun="@(true)"
                                        DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                        LabelPosition="@(LabelPosition.Parallel)"
                                        MaxScale="@(7288001.2881)"
                                        MinScale="@(49668.2086)"
                                        RepeatLabel="@(true)"
                                        RepeatLabelDistance="@(new Dimension(281.7306))"
                                        Symbol="@(new TextSymbol("et veniam quam",
                                            new MapColor(148, 57, 236),
                                            new MapColor(129, 101, 107),
                                                new Dimension(935.9412),
                                            new MapFont(new Dimension(798.5356),
                                                    "Georgia",
                                                MapFontStyle.Italic,
                                                FontWeight.Normal,
                                                TextDecoration.Underline),
                                                689.2177,
                                            new MapColor(58, 194, 26),
                                            new MapColor(103, 244, 128),
                                                651.4976,
                                            HorizontalAlignment.Right,
                                                true,
                                                45.4038,
                                                new Dimension(258.1508),
                                                true))"
                                        UseCodedValues="@(true)"
                                        Where="@("Country = 'Canada'")">
                                    </Label>
                                    <LayerFloorInfo 
                                        FloorField="@("laborum")">
                                    </LayerFloorInfo>
                                </Sublayer>
                                <UniqueValueRenderer 
                                    AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.StandardDeviation,
                                        new AlgorithmicColorRamp(Algorithm.Hsv,
                                            new MapColor(39, 63, 92),
                                            new MapColor(148, 22, 232)),
                                            332.5214,
                                        new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(773.0581,
                                                    712.1882),
                                            new AuthoringInfoField1ClassBreakInfos(916.3852,
                                                    346.7549),
                                            new AuthoringInfoField1ClassBreakInfos(400.8286,
                                                    921.2283),
                                            new AuthoringInfoField1ClassBreakInfos(966.5517,
                                                    578.9963)],
                                                "sed",
                                                "ea",
                                                "blanditiis"),
                                        new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(101.9171,
                                                    610.9828)],
                                                "amet",
                                                "alias",
                                                "et"),
                                            ["dicta",
                                                "expedita",
                                                "sapiente"],
                                        AuthoringInfoFlowTheme.FlowLine,
                                            "nobis",
                                            true,
                                        LengthUnit.UsFeet,
                                            248.2449,
                                            541.1044,
                                            807.0363,
                                            402.2584))">
                                </UniqueValueRenderer>
                                <PopupTemplate 
                                    Title="@("sed aut quo")"
                                    StringContent="@("autem")"
                                    OutFields="@(["neque",
                                        "sit"])"
                                    FieldInfos="@([new FieldInfo("createdAt",
                                            "error",
                                            "dolorum",
                                        StringFieldOption.TextArea,
                                        new FieldInfoFormat(2,
                                                true,
                                            DateFormat.ShortDateLongTime),
                                            true,
                                            true,
                                        StatisticType.Min),
                                    new FieldInfo("updatedAt",
                                            "sed",
                                            "libero",
                                        StringFieldOption.TextArea,
                                        new FieldInfoFormat(4,
                                                true,
                                            DateFormat.LongMonthDayYearLongTime24),
                                            true,
                                            true,
                                        StatisticType.Stddev),
                                    new FieldInfo("name",
                                            "dolorem",
                                            "quisquam",
                                        StringFieldOption.TextBox,
                                        new FieldInfoFormat(2,
                                                true,
                                            DateFormat.Year),
                                            true,
                                            true,
                                        StatisticType.Min),
                                    new FieldInfo("title",
                                            "itaque",
                                            "laborum",
                                        StringFieldOption.RichText,
                                        new FieldInfoFormat(6,
                                                true,
                                            DateFormat.LongDateLongTime24),
                                            true,
                                            true,
                                        StatisticType.Avg)])"
                                    Content="@([new RelationshipPopupContent("consequatur tenetur animi",
                                            "quia nihil necessitatibus rerum in maxime",
                                            8,
                                            "molestiae",
                                        [new RelatedRecordsInfoFieldOrder("nam",
                                            OrderBy.Desc)],
                                            9),
                                    new ExpressionPopupContent(new ElementExpressionInfo("return Date();",
                                                "eum",
                                                "rerum qui sunt")),
                                    new TextPopupContent("quia sunt ad")])"
                                    ExpressionInfos="@([new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                                            "title",
                                            "non nemo quidem",
                                            ExpressionInfoReturnType.String)])"
                                    OverwriteActions="@(true)"
                                    ReturnGeometry="@(true)"
                                    Actions="@([new ActionButton("iusto officiis asperiores",
                                            "https://picsum.photos/640/480/?image=258",
                                            "fa95289f-d018-8fb6-f8cb-9c32b0d15b3f",
                                            () => { Console.WriteLine("ducimus"); return Task.CompletedTask; },
                                            "phone",
                                            true,
                                            true,
                                            true,
                                            "molestias"),
                                    new ActionButton("fugiat vitae accusamus",
                                            "https://picsum.photos/640/480/?image=183",
                                            "a1e8b18a-168f-0bb5-2747-1ac672f0607b",
                                            () => { Console.WriteLine("iure"); return Task.CompletedTask; },
                                            "updatedAt",
                                            true,
                                            true,
                                            true,
                                            "ut")])">
                                </PopupTemplate>
                                <Label 
                                    LabelPlacement="@(LabelPlacement.AboveAfter)"
                                    LabelExpression="@("quidem")"
                                    LabelExpressionInfo="@(new LabelExpressionInfo())"
                                    AllowOverrun="@(true)"
                                    DeconflictionStrategy="@(DeconflictionStrategy.None)"
                                    LabelPosition="@(LabelPosition.Parallel)"
                                    MaxScale="@(38341126.3055)"
                                    MinScale="@(13074.2917)"
                                    RepeatLabel="@(true)"
                                    RepeatLabelDistance="@(new Dimension(123.3379))"
                                    Symbol="@(new TextSymbol("eos sunt perferendis",
                                        new MapColor(95, 59, 136),
                                        new MapColor(76, 88, 211),
                                            new Dimension(786.1835),
                                        new MapFont(new Dimension(63.5618),
                                                "Verdana",
                                            MapFontStyle.Normal,
                                            FontWeight.Normal,
                                            TextDecoration.LineThrough),
                                            39.4433,
                                        new MapColor(109, 254, 247),
                                        new MapColor(253, 160, 131),
                                            817.7959,
                                        HorizontalAlignment.Left,
                                            true,
                                            234.0784,
                                            new Dimension(870.8697),
                                            true))"
                                    UseCodedValues="@(true)"
                                    Where="@("Street = '123 Main St.'")">
                                </Label>
                                <LayerFloorInfo 
                                    FloorField="@("et")">
                                </LayerFloorInfo>
                            </Sublayer>
                        </Sublayer>
                    </MapImageLayer>
                </Map>
            </MapView>);
        await WaitForMapToRender();
        Assert.IsNotNull(mapImageLayer!);
        await AssertJavaScript("dispatchEvent", args: [mapImageLayer!.Id, "refresh"]);
        int tries = 100;
        while (tries > 0 &&
            (refreshResult is null))
        {
            await Task.Delay(100);
            tries--;
        }
        Assert.IsInstanceOfType<RefreshEvent>(refreshResult);
        await AssertJavaScript("assertLayerExists", args: "map-image");
        var createExportImageParametersMethodResult = await mapImageLayer.CreateExportImageParameters(new Extent(-34.6525,
                    -134.7172,
                    46.6198,
                    75.3074,
                    467.0457,
                    368.3480,
                    613.5345,
                    39.0578,
                new SpatialReference(7,
                        "sequi",
                        "eligendi",
                        "recusandae"),
                    true,
                    true),
                3,
                5,
            new MapImageLayerCreateExportImageParametersOptions(256.1215,
                    85.5091,
                    "saepe"));
        Assert.IsNotNull(createExportImageParametersMethodResult);
        var createServiceSublayersMethodResult = await mapImageLayer.CreateServiceSublayers();
        Assert.IsNotNull(createServiceSublayersMethodResult);
        var fetchImageMethodResult = await mapImageLayer.FetchImage(new Extent(-61.8076,
                    100.5377,
                    42.1036,
                    -40.2048,
                    733.3454,
                    954.8684,
                    668.9895,
                    575.7023,
                new SpatialReference(6,
                        "enim",
                        "qui",
                        "quam"),
                    true,
                    true),
                2,
                4,
            new MapImageLayerFetchImageOptions(789.9414,
                    21.5247,
                    "porro"));
        Assert.IsNotNull(fetchImageMethodResult);
        var findSublayerByIdMethodResult = await mapImageLayer.FindSublayerById(5);
        Assert.IsNotNull(findSublayerByIdMethodResult);
        var loadAllMethodResult = await mapImageLayer.LoadAll();
        Assert.IsNotNull(loadAllMethodResult);
        PortalItem testPortalItem = new PortalItem(PortalItemAccess.Private,
                    "natus",
                    "minus",
                    300.5573,
                    ["quas",
                        "sint"],
                    new DateTime(2002, 2, 4, 1, 5, 20),
                    "est",
                    "dolores libero vero est explicabo animi",
                new Extent(40.4949,
                        -153.8717,
                        49.8567,
                        42.5529,
                        674.9605,
                        767.1333,
                        752.1036,
                        338.0134,
                    new SpatialReference(8,
                            "architecto",
                            "quia",
                            "placeat"),
                        true,
                        true),
                    ["accusamus",
                        "consequatur",
                        "autem",
                        "ea"],
                    "et",
                    new DateTime(2020, 6, 12, 0, 28, 10),
                    "updatedAt",
                    465.9695);
        await mapImageLayer.SetPortalItem(testPortalItem);
        var portalItem = await mapImageLayer.GetPortalItem();
        Assert.AreEqual(testPortalItem, portalItem);
        BlendMode testBlendMode = BlendMode.Minus;
        await mapImageLayer.SetBlendMode(testBlendMode);
        var blendMode = await mapImageLayer.GetBlendMode();
        Assert.AreEqual(testBlendMode, blendMode);
        TimeExtent testTimeExtent = new TimeExtent(new DateTime(2013, 11, 24, 3, 55, 41),
                    new DateTime(2016, 7, 20, 21, 0, 28));
        await mapImageLayer.SetTimeExtent(testTimeExtent);
        var timeExtent = await mapImageLayer.GetTimeExtent();
        Assert.AreEqual(testTimeExtent, timeExtent);
        TimeInfo testTimeInfo = new TimeInfo("odio",
                    "et",
                new TimeExtent(new DateTime(2011, 5, 1, 9, 13, 4),
                        new DateTime(2006, 8, 24, 10, 21, 40)),
                new TimeInterval(TemporalTime.Centuries,
                        846.5924),
                    [new DateTime(2017, 9, 25, 16, 1, 27),
                        new DateTime(2016, 1, 3, 19, 51, 40)],
                    "Asia/Ulaanbaatar",
                    "est");
        await mapImageLayer.SetTimeInfo(testTimeInfo);
        var timeInfo = await mapImageLayer.GetTimeInfo();
        Assert.AreEqual(testTimeInfo, timeInfo);
        IReadOnlyList<Sublayer> testSublayers = [new Sublayer(2,
                    true,
                    true,
                ListMode.Show,
                    3204789.3876,
                    49369.1338,
                    0.1798,
                    true,
                    "nostrum natus quod",
                    true,
                    "rem",
                new LayerFloorInfo("dolor"),
                [new Label(LabelPlacement.BelowRight,
                        "a",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        23420057.5066,
                        38789.7319,
                        true,
                        new Dimension(92.1726),
                    new TextSymbol("ipsa quasi in",
                        new MapColor(177, 160, 252),
                        new MapColor(67, 93, 217),
                            new Dimension(649.7429),
                        new MapFont(new Dimension(5.4508),
                                "Bookman",
                            MapFontStyle.Oblique,
                            FontWeight.Bold,
                            TextDecoration.Underline),
                            24.6278,
                        new MapColor(150, 36, 20),
                        new MapColor(117, 183, 10),
                            335.6298,
                        HorizontalAlignment.Left,
                            true,
                            390.8913,
                            new Dimension(281.4942),
                            true),
                        true,
                        "PostalCode = 'M5V 1J9'")],
                new PopupTemplate("accusantium reprehenderit expedita",
                        "et",
                        ["sunt",
                            "aut"],
                    [new FieldInfo("createdAt",
                            "officia",
                            "aut",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.ShortDateLe),
                            true,
                            true,
                        StatisticType.Var)],
                    [new MediaPopupContent("minima consequatur molestiae",
                            "quia sequi deleniti mollitia explicabo",
                        [new PieChartMediaInfo("dolores praesentium nostrum",
                                "et",
                                "et officiis molestiae",
                            new ChartMediaInfoValue(["aut",
                                    "et"],
                                    "qui",
                                    "sed",
                                [new ChartMediaInfoValueSeries("name",
                                        "omnis",
                                        754.8136),
                                new ChartMediaInfoValueSeries("password",
                                        "ducimus",
                                        490.7779),
                                new ChartMediaInfoValueSeries("token",
                                        "aut",
                                        534.7571)],
                                [new MapColor(124, 71, 76),
                                new MapColor(203, 197, 209)])),
                        new LineChartMediaInfo("aliquam animi similique",
                                "modi",
                                "in quia sint",
                            new ChartMediaInfoValue(["cupiditate",
                                    "ad"],
                                    "saepe",
                                    "voluptatem",
                                [new ChartMediaInfoValueSeries("status",
                                        "nihil",
                                        958.9324),
                                new ChartMediaInfoValueSeries("phone",
                                        "laboriosam",
                                        226.8346),
                                new ChartMediaInfoValueSeries("name",
                                        "voluptates",
                                        18.9606)],
                                [new MapColor(225, 209, 5)])),
                        new ColumnChartMediaInfo("voluptatem repellendus labore",
                                "ut",
                                "sit et omnis",
                            new ChartMediaInfoValue(["eum",
                                    "est",
                                    "ut"],
                                    "repellendus",
                                    "provident",
                                [new ChartMediaInfoValueSeries("status",
                                        "et",
                                        223.5076),
                                new ChartMediaInfoValueSeries("avatar",
                                        "quis",
                                        629.6225),
                                new ChartMediaInfoValueSeries("category",
                                        "a",
                                        565.3755)],
                                [new MapColor(250, 150, 69),
                                new MapColor(235, 201, 204),
                                new MapColor(234, 34, 234),
                                new MapColor(193, 232, 23)])),
                        new BarChartMediaInfo("doloremque esse voluptatem",
                                "quis",
                                "voluptatem et temporibus",
                            new ChartMediaInfoValue(["velit",
                                    "magnam",
                                    "quo"],
                                    "illum",
                                    "nihil",
                                [new ChartMediaInfoValueSeries("phone",
                                        "voluptas",
                                        687.0091)],
                                [new MapColor(222, 90, 123),
                                new MapColor(133, 254, 1),
                                new MapColor(149, 248, 232)]))],
                            3)],
                    [new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                            "id",
                            "harum nisi vel",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var area = Geometry($feature).area; return area;",
                            "group",
                            "vitae qui eos",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature.City + ', ' + $feature.Country;",
                            "avatar",
                            "et ducimus aut",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionButton("et tempora amet",
                            "https://picsum.photos/640/480/?image=490",
                            "df5832cb-ff4a-c828-8063-63af9bbd1c4d",
                            () => { Console.WriteLine("perspiciatis"); return Task.CompletedTask; },
                            "password",
                            true,
                            true,
                            true,
                            "pariatur"),
                    new ActionToggle("voluptas blanditiis aut",
                            "ae6d65a2-edce-c88f-f8ab-0b98de8eaa8a",
                            () => { Console.WriteLine("minus"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "status",
                            "ea"),
                    new ActionButton("minima nulla qui",
                            "https://picsum.photos/640/480/?image=367",
                            "63d48898-3924-7b6b-d3ef-903192ac9e6b",
                            () => { Console.WriteLine("aut"); return Task.CompletedTask; },
                            "updatedAt",
                            true,
                            true,
                            true,
                            "et"),
                    new ActionToggle("aut occaecati impedit",
                            "667e1abf-8dbe-0e26-3b36-5b135e2e837c",
                            () => { Console.WriteLine("ipsam"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "group",
                            "cumque")])),
            new Sublayer(3,
                    true,
                    true,
                ListMode.Show,
                    9812057.5417,
                    7980.2865,
                    0.8619,
                    true,
                    "numquam dolores cumque",
                    true,
                    "aut",
                new LayerFloorInfo("asperiores"),
                [new Label(LabelPlacement.CenterAfter,
                        "exercitationem",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        44021380.5699,
                        35136.1094,
                        true,
                        new Dimension(781.7616),
                    new TextSymbol("quis ab tempore",
                        new MapColor(184, 100, 223),
                        new MapColor(159, 234, 221),
                            new Dimension(641.7592),
                        new MapFont(new Dimension(425.0443),
                                "Times New Roman",
                            MapFontStyle.Normal,
                            FontWeight.Lighter,
                            TextDecoration.None),
                            798.3599,
                        new MapColor(94, 182, 98),
                        new MapColor(174, 242, 6),
                            90.9454,
                        HorizontalAlignment.Right,
                            true,
                            933.4712,
                            new Dimension(934.1159),
                            true),
                        true,
                        "City = 'Toronto'")],
                new PopupTemplate("aliquid perferendis dolorem",
                        "ab",
                        ["hic",
                            "voluptatem"],
                    [new FieldInfo("group",
                            "laudantium",
                            "optio",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(1,
                                true,
                            DateFormat.ShortDateShortTime),
                            true,
                            true,
                        StatisticType.Count),
                    new FieldInfo("name",
                            "est",
                            "recusandae",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(4,
                                true,
                            DateFormat.ShortDateLeShortTime24),
                            true,
                            true,
                        StatisticType.Var),
                    new FieldInfo("email",
                            "rem",
                            "magnam",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Sum),
                    new FieldInfo("status",
                            "fuga",
                            "quia",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(7,
                                true,
                            DateFormat.ShortDateLeLongTime),
                            true,
                            true,
                        StatisticType.Min)],
                    [new MediaPopupContent("commodi earum quaerat",
                            "voluptates eveniet et accusamus omnis assumenda",
                        [new ImageMediaInfo("at odio quaerat",
                                "in",
                                "deleniti error molestiae",
                            new ImageMediaInfoValue("http://darren.com",
                                    "https://vickie.info"),
                                657.4430),
                        new LineChartMediaInfo("tenetur tempora quasi",
                                "ut",
                                "sunt suscipit delectus",
                            new ChartMediaInfoValue(["labore",
                                    "error"],
                                    "et",
                                    "aut",
                                [new ChartMediaInfoValueSeries("createdAt",
                                        "dolore",
                                        132.8778),
                                new ChartMediaInfoValueSeries("updatedAt",
                                        "illum",
                                        910.5974),
                                new ChartMediaInfoValueSeries("updatedAt",
                                        "libero",
                                        705.2592)],
                                [new MapColor(32, 126, 236),
                                new MapColor(5, 198, 93)])),
                        new ColumnChartMediaInfo("quasi enim ullam",
                                "ab",
                                "dicta dolorem doloremque",
                            new ChartMediaInfoValue(["blanditiis",
                                    "quia",
                                    "est",
                                    "esse"],
                                    "nobis",
                                    "officiis",
                                [new ChartMediaInfoValueSeries("phone",
                                        "nihil",
                                        210.6983),
                                new ChartMediaInfoValueSeries("token",
                                        "expedita",
                                        699.3517),
                                new ChartMediaInfoValueSeries("token",
                                        "et",
                                        965.9764),
                                new ChartMediaInfoValueSeries("comment",
                                        "excepturi",
                                        231.8998)],
                                [new MapColor(44, 102, 194),
                                new MapColor(215, 71, 134),
                                new MapColor(73, 131, 69)]))],
                            7),
                    new ExpressionPopupContent(new ElementExpressionInfo("return $feature.Name;",
                                "quibusdam",
                                "ut eos non")),
                    new AttachmentsPopupContent("rerum quisquam sapiente",
                            "a vel quo doloribus",
                            AttachmentsPopupContentDisplayType.Auto),
                    new TextPopupContent("et sed expedita")],
                    [new ExpressionInfo("return $feature.Name;",
                            "status",
                            "aut nostrum aliquid",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var length = Geometry($feature).length; return length;",
                            "password",
                            "sit natus aperiam",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                            "avatar",
                            "minus aliquid sunt",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("occaecati placeat sit",
                            "8d40d8f5-39c8-b199-8258-a8c4b2dcaeea",
                            () => { Console.WriteLine("iste"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "comment",
                            "laudantium")])),
            new Sublayer(7,
                    true,
                    true,
                ListMode.Show,
                    94603.0962,
                    43140.3216,
                    0.5599,
                    true,
                    "facilis occaecati aut",
                    true,
                    "velit",
                new LayerFloorInfo("a"),
                [new Label(LabelPlacement.BelowStart,
                        "non",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        23863635.2809,
                        14946.9517,
                        true,
                        new Dimension(475.7611),
                    new TextSymbol("error voluptatem esse",
                        new MapColor(5, 82, 82),
                        new MapColor(66, 183, 231),
                            new Dimension(482.1991),
                        new MapFont(new Dimension(527.1187),
                                "Verdana",
                            MapFontStyle.Oblique,
                            FontWeight.Normal,
                            TextDecoration.Underline),
                            717.6364,
                        new MapColor(120, 211, 113),
                        new MapColor(25, 2, 205),
                            376.2504,
                        HorizontalAlignment.Center,
                            true,
                            393.2328,
                            new Dimension(115.3611),
                            true),
                        true,
                        "Province = 'Ontario'")],
                new PopupTemplate("exercitationem consequuntur eaque",
                        "nisi",
                        ["sapiente",
                            "cum",
                            "et"],
                    [new FieldInfo("group",
                            "eos",
                            "eos",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.DayShortMonthYearShortTime),
                            true,
                            true,
                        StatisticType.Avg),
                    new FieldInfo("createdAt",
                            "soluta",
                            "asperiores",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(4,
                                true,
                            DateFormat.DayShortMonthYear),
                            true,
                            true,
                        StatisticType.Max),
                    new FieldInfo("comment",
                            "praesentium",
                            "porro",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(6,
                                true,
                            DateFormat.LongDateLongTime24),
                            true,
                            true,
                        StatisticType.Stddev),
                    new FieldInfo("comment",
                            "ullam",
                            "maiores",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(9,
                                true,
                            DateFormat.LongMonthDayYear),
                            true,
                            true,
                        StatisticType.Var)],
                    [new FieldsPopupContent([new FieldInfo("group",
                                "dignissimos",
                                "placeat",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(3,
                                    true,
                                DateFormat.LongMonthDayYearShortTime24),
                                true,
                                true,
                            StatisticType.Var),
                        new FieldInfo("token",
                                "sapiente",
                                "amet",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(1,
                                    true,
                                DateFormat.DayShortMonthYearLongTime24),
                                true,
                                true,
                            StatisticType.Max),
                        new FieldInfo("email",
                                "at",
                                "non",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(5,
                                    true,
                                DateFormat.LongMonthDayYearLongTime),
                                true,
                                true,
                            StatisticType.Sum)],
                            "voluptatum animi voluptate laborum eum",
                            "iure eligendi nihil"),
                    new RelationshipPopupContent("et quas dolorem",
                            "doloribus temporibus sit labore rerum",
                            4,
                            "quia",
                        [new RelatedRecordsInfoFieldOrder("sed",
                            OrderBy.Desc),
                        new RelatedRecordsInfoFieldOrder("quis",
                            OrderBy.Asc),
                        new RelatedRecordsInfoFieldOrder("consequatur",
                            OrderBy.Desc)],
                            2),
                    new TextPopupContent("molestias omnis et")],
                    [new ExpressionInfo("return $feature['FieldName'];",
                            "email",
                            "omnis blanditiis cum",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return Date();",
                            "createdAt",
                            "fugit laborum molestias",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature.Name;",
                            "updatedAt",
                            "similique minima et",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                            "category",
                            "ex velit deleniti",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("est quos error",
                            "6e9c565c-000c-75a4-fe23-60dc3fa2159b",
                            () => { Console.WriteLine("natus"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "password",
                            "similique"),
                    new ActionButton("aut doloremque voluptatem",
                            "https://picsum.photos/640/480/?image=827",
                            "e187da3f-8596-043b-b5e7-7754b6fe6e7f",
                            () => { Console.WriteLine("dolores"); return Task.CompletedTask; },
                            "category",
                            true,
                            true,
                            true,
                            "tempora"),
                    new ActionButton("magni ab aliquid",
                            "https://picsum.photos/640/480/?image=578",
                            "9ce34a14-0ae7-5669-36bb-911d2b9f63dd",
                            () => { Console.WriteLine("velit"); return Task.CompletedTask; },
                            "avatar",
                            true,
                            true,
                            true,
                            "autem"),
                    new ActionToggle("consectetur ut molestias",
                            "9138dd09-48bc-1703-b218-76e16dcb2995",
                            () => { Console.WriteLine("vero"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "password",
                            "tempora")])),
            new Sublayer(8,
                    true,
                    true,
                ListMode.Show,
                    32330768.7436,
                    7564.3990,
                    0.6561,
                    true,
                    "quas odio labore",
                    true,
                    "accusantium",
                new LayerFloorInfo("aliquid"),
                [new Label(LabelPlacement.CenterAfter,
                        "porro",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Curved,
                        11932108.2950,
                        2659.9574,
                        true,
                        new Dimension(572.6070),
                    new TextSymbol("facere et quam",
                        new MapColor(162, 193, 103),
                        new MapColor(198, 85, 195),
                            new Dimension(731.7128),
                        new MapFont(new Dimension(878.9199),
                                "Times New Roman",
                            MapFontStyle.Normal,
                            FontWeight.Lighter,
                            TextDecoration.None),
                            880.1388,
                        new MapColor(153, 42, 131),
                        new MapColor(205, 210, 25),
                            418.0923,
                        HorizontalAlignment.Right,
                            true,
                            968.2675,
                            new Dimension(871.8348),
                            true),
                        true,
                        "1 = 1"),
                new Label(LabelPlacement.AboveEnd,
                        "asperiores",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        31346036.3396,
                        979.3527,
                        true,
                        new Dimension(176.1023),
                    new TextSymbol("voluptatem non qui",
                        new MapColor(243, 141, 181),
                        new MapColor(203, 240, 181),
                            new Dimension(176.4495),
                        new MapFont(new Dimension(973.4863),
                                "Garamond",
                            MapFontStyle.Italic,
                            FontWeight.Normal,
                            TextDecoration.LineThrough),
                            21.3504,
                        new MapColor(59, 222, 39),
                        new MapColor(151, 232, 36),
                            200.7104,
                        HorizontalAlignment.Center,
                            true,
                            417.1972,
                            new Dimension(772.7031),
                            true),
                        true,
                        "Age > 21")],
                new PopupTemplate("ab ut assumenda",
                        "ipsa",
                        ["molestiae",
                            "aspernatur",
                            "est",
                            "illo"],
                    [new FieldInfo("updatedAt",
                            "et",
                            "consequatur",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(6,
                                true,
                            DateFormat.DayShortMonthYearLongTime24),
                            true,
                            true,
                        StatisticType.Max),
                    new FieldInfo("status",
                            "qui",
                            "aut",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.DayShortMonthYearLongTime24),
                            true,
                            true,
                        StatisticType.Sum),
                    new FieldInfo("group",
                            "sequi",
                            "modi",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.LongDateLongTime24),
                            true,
                            true,
                        StatisticType.Max),
                    new FieldInfo("updatedAt",
                            "aut",
                            "aliquid",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(2,
                                true,
                            DateFormat.ShortDateLongTime),
                            true,
                            true,
                        StatisticType.Min)],
                    [new RelationshipPopupContent("mollitia soluta consectetur",
                            "fuga deserunt sint sed perferendis",
                            2,
                            "sit",
                        [new RelatedRecordsInfoFieldOrder("porro",
                            OrderBy.Asc),
                        new RelatedRecordsInfoFieldOrder("sit",
                            OrderBy.Asc)],
                            4),
                    new RelationshipPopupContent("non velit et",
                            "qui ut sint ullam id hic",
                            5,
                            "perferendis",
                        [new RelatedRecordsInfoFieldOrder("et",
                            OrderBy.Asc),
                        new RelatedRecordsInfoFieldOrder("eos",
                            OrderBy.Desc)],
                            7),
                    new ExpressionPopupContent(new ElementExpressionInfo("var length = Geometry($feature).length; return length;",
                                "ab",
                                "odio voluptatum quae"))],
                    [new ExpressionInfo("return $feature.Name;",
                            "group",
                            "perferendis quis dolorem",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                            "avatar",
                            "ut repellendus sit",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature['FieldName'];",
                            "name",
                            "quos tempora ea",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("est accusantium et",
                            "928d769d-1bd0-ac4b-aa71-cdeae792bfdd",
                            () => { Console.WriteLine("et"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "group",
                            "iure"),
                    new ActionButton("ex maxime veritatis",
                            "https://picsum.photos/640/480/?image=925",
                            "58489c9b-3a76-f03f-3ee9-e730aa393c8f",
                            () => { Console.WriteLine("reiciendis"); return Task.CompletedTask; },
                            "id",
                            true,
                            true,
                            true,
                            "qui")]))];
        await mapImageLayer.SetSublayers(testSublayers);
        var sublayers = await mapImageLayer.GetSublayers();
        Assert.AreEqual(testSublayers, sublayers);
        ListMode testListMode = ListMode.Show;
        await mapImageLayer.SetListMode(testListMode);
        var listMode = await mapImageLayer.GetListMode();
        Assert.AreEqual(testListMode, listMode);
        Extent testFullExtent = new Extent(126.7887,
                    -164.2264,
                    -76.2060,
                    -77.6744,
                    293.0153,
                    820.6626,
                    47.0370,
                    51.4237,
                new SpatialReference(8,
                        "ratione",
                        "aperiam",
                        "et"),
                    true,
                    true);
        await mapImageLayer.SetFullExtent(testFullExtent);
        var fullExtent = await mapImageLayer.GetFullExtent();
        Assert.AreEqual(testFullExtent, fullExtent);
        IReadOnlyList<Sublayer> testSubtables = [new Sublayer(7,
                    true,
                    true,
                ListMode.Hide,
                    16884535.0920,
                    5875.0027,
                    0.4418,
                    true,
                    "quia nihil voluptas",
                    true,
                    "eum",
                new LayerFloorInfo("suscipit"),
                [new Label(LabelPlacement.AboveEnd,
                        "nihil",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Curved,
                        34162390.9169,
                        47228.4868,
                        true,
                        new Dimension(469.0048),
                    new TextSymbol("tempore autem aut",
                        new MapColor(119, 116, 129),
                        new MapColor(223, 105, 106),
                            new Dimension(269.1938),
                        new MapFont(new Dimension(820.1946),
                                "Bookman",
                            MapFontStyle.Italic,
                            FontWeight.Bold,
                            TextDecoration.Underline),
                            250.5299,
                        new MapColor(126, 157, 130),
                        new MapColor(122, 125, 38),
                            897.1362,
                        HorizontalAlignment.Center,
                            true,
                            782.3529,
                            new Dimension(530.9301),
                            true),
                        true,
                        "City = 'Toronto'"),
                new Label(LabelPlacement.AboveAfter,
                        "aut",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        10981831.2590,
                        39962.9659,
                        true,
                        new Dimension(933.4477),
                    new TextSymbol("blanditiis at et",
                        new MapColor(142, 171, 235),
                        new MapColor(114, 158, 183),
                            new Dimension(945.2712),
                        new MapFont(new Dimension(701.1584),
                                "Courier New",
                            MapFontStyle.Oblique,
                            FontWeight.Normal,
                            TextDecoration.Underline),
                            287.5747,
                        new MapColor(217, 103, 247),
                        new MapColor(203, 104, 122),
                            174.5886,
                        HorizontalAlignment.Right,
                            true,
                            955.6022,
                            new Dimension(375.0051),
                            true),
                        true,
                        "ObjectID = 1")],
                new PopupTemplate("modi et quia",
                        "eos",
                        ["rem",
                            "enim",
                            "perferendis",
                            "magnam"],
                    [new FieldInfo("name",
                            "qui",
                            "maiores",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(7,
                                true,
                            DateFormat.LongDateLongTime),
                            true,
                            true,
                        StatisticType.Sum)],
                    [new AttachmentsPopupContent("aliquid vero perferendis",
                            "est voluptas quidem magnam maxime",
                            AttachmentsPopupContentDisplayType.Preview),
                    new FieldsPopupContent([new FieldInfo("name",
                                "ut",
                                "quia",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.ShortDateLongTime24),
                                true,
                                true,
                            StatisticType.Stddev),
                        new FieldInfo("avatar",
                                "ut",
                                "beatae",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(5,
                                    true,
                                DateFormat.Year),
                                true,
                                true,
                            StatisticType.Sum),
                        new FieldInfo("updatedAt",
                                "id",
                                "at",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.LongDateLongTime24),
                                true,
                                true,
                            StatisticType.Sum),
                        new FieldInfo("group",
                                "architecto",
                                "est",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(9,
                                    true,
                                DateFormat.DayShortMonthYearLongTime24),
                                true,
                                true,
                            StatisticType.Stddev)],
                            "corrupti et nulla sit in incidunt",
                            "soluta optio reiciendis"),
                    new TextPopupContent("libero architecto quo")],
                    [new ExpressionInfo("return Date();",
                            "group",
                            "assumenda enim expedita",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature.Population / $feature.Area;",
                            "password",
                            "nesciunt expedita et",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var area = Geometry($feature).area; return area;",
                            "name",
                            "est quis omnis",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature.City + ', ' + $feature.Country;",
                            "comment",
                            "et ullam qui",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("rerum optio ipsum",
                            "0a1da5af-42e7-d63a-77cb-d7864ea4bdb0",
                            () => { Console.WriteLine("et"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "updatedAt",
                            "fugit"),
                    new ActionToggle("quod dolores impedit",
                            "5df2f433-41ec-f6b7-9167-d37ae49148d4",
                            () => { Console.WriteLine("iusto"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "createdAt",
                            "aut"),
                    new ActionToggle("et nihil nihil",
                            "c3157dd7-9af6-da66-48fb-9791194ba70a",
                            () => { Console.WriteLine("cumque"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "name",
                            "molestiae"),
                    new ActionButton("velit nostrum porro",
                            "https://picsum.photos/640/480/?image=16",
                            "a272d06f-5f6a-c9c5-9a9f-c4311462d8cf",
                            () => { Console.WriteLine("aliquam"); return Task.CompletedTask; },
                            "avatar",
                            true,
                            true,
                            true,
                            "qui")])),
            new Sublayer(5,
                    true,
                    true,
                ListMode.Show,
                    27822525.1911,
                    35642.2521,
                    0.5369,
                    true,
                    "nobis vitae et",
                    true,
                    "aut",
                new LayerFloorInfo("et"),
                [new Label(LabelPlacement.CenterStart,
                        "sint",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        17493169.1850,
                        32084.9854,
                        true,
                        new Dimension(526.8120),
                    new TextSymbol("sequi omnis nemo",
                        new MapColor(54, 179, 239),
                        new MapColor(126, 116, 42),
                            new Dimension(971.3065),
                        new MapFont(new Dimension(266.6574),
                                "Courier New",
                            MapFontStyle.Italic,
                            FontWeight.Bolder,
                            TextDecoration.Underline),
                            85.1701,
                        new MapColor(214, 162, 94),
                        new MapColor(252, 101, 40),
                            73.1858,
                        HorizontalAlignment.Left,
                            true,
                            843.3589,
                            new Dimension(468.6730),
                            true),
                        true,
                        "Age > 21")],
                new PopupTemplate("recusandae facere rem",
                        "sed",
                        ["sunt",
                            "autem"],
                    [new FieldInfo("name",
                            "doloremque",
                            "dolore",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(9,
                                true,
                            DateFormat.LongMonthDayYear),
                            true,
                            true,
                        StatisticType.Avg),
                    new FieldInfo("title",
                            "voluptatibus",
                            "nulla",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(7,
                                true,
                            DateFormat.LongDateShortTime),
                            true,
                            true,
                        StatisticType.Stddev)],
                    [new AttachmentsPopupContent("commodi modi accusamus",
                            "dolorum corrupti dolorum odio",
                            AttachmentsPopupContentDisplayType.Preview),
                    new RelationshipPopupContent("est illum in",
                            "provident itaque quod optio sed ipsam incidunt",
                            8,
                            "accusamus",
                        [new RelatedRecordsInfoFieldOrder("voluptatibus",
                            OrderBy.Desc),
                        new RelatedRecordsInfoFieldOrder("cumque",
                            OrderBy.Asc),
                        new RelatedRecordsInfoFieldOrder("nam",
                            OrderBy.Asc),
                        new RelatedRecordsInfoFieldOrder("ut",
                            OrderBy.Asc)],
                            1)],
                    [new ExpressionInfo("var area = Geometry($feature).area; return area;",
                            "createdAt",
                            "soluta recusandae dolores",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("quis consequatur expedita",
                            "8bc0dfed-c59a-0e25-447a-cd9ee85b9d06",
                            () => { Console.WriteLine("laborum"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "updatedAt",
                            "perferendis"),
                    new ActionToggle("harum nobis exercitationem",
                            "4c121309-4c78-c0bc-fda5-9952700907fc",
                            () => { Console.WriteLine("recusandae"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "updatedAt",
                            "et"),
                    new ActionButton("laboriosam repellat illo",
                            "https://picsum.photos/640/480/?image=6",
                            "2f46a782-0f38-7683-0c95-2cdf69d01138",
                            () => { Console.WriteLine("vero"); return Task.CompletedTask; },
                            "avatar",
                            true,
                            true,
                            true,
                            "consequatur"),
                    new ActionToggle("rem quos repellendus",
                            "8159ade2-83c1-d296-4f43-7f01a5be4a1d",
                            () => { Console.WriteLine("iusto"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "token",
                            "soluta")])),
            new Sublayer(4,
                    true,
                    true,
                ListMode.Hide,
                    47180639.3323,
                    49107.4810,
                    0.6242,
                    true,
                    "et ducimus culpa",
                    true,
                    "consequatur",
                new LayerFloorInfo("suscipit"),
                [new Label(LabelPlacement.BelowAfter,
                        "molestias",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        41786947.9028,
                        18556.8052,
                        true,
                        new Dimension(175.5968),
                    new TextSymbol("saepe enim totam",
                        new MapColor(110, 124, 98),
                        new MapColor(214, 149, 91),
                            new Dimension(469.0908),
                        new MapFont(new Dimension(217.2125),
                                "Verdana",
                            MapFontStyle.Oblique,
                            FontWeight.Lighter,
                            TextDecoration.LineThrough),
                            770.8415,
                        new MapColor(46, 246, 143),
                        new MapColor(106, 158, 62),
                            720.5134,
                        HorizontalAlignment.Center,
                            true,
                            565.2274,
                            new Dimension(789.9950),
                            true),
                        true,
                        "Street = '123 Main St.'"),
                new Label(LabelPlacement.AlwaysHorizontal,
                        "voluptas",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        28128703.2703,
                        21782.0153,
                        true,
                        new Dimension(783.6092),
                    new TextSymbol("modi optio quos",
                        new MapColor(39, 14, 232),
                        new MapColor(19, 88, 31),
                            new Dimension(130.1266),
                        new MapFont(new Dimension(27.8885),
                                "Georgia",
                            MapFontStyle.Oblique,
                            FontWeight.Normal,
                            TextDecoration.None),
                            297.7844,
                        new MapColor(79, 156, 131),
                        new MapColor(116, 215, 233),
                            976.0565,
                        HorizontalAlignment.Right,
                            true,
                            587.0991,
                            new Dimension(792.1767),
                            true),
                        true,
                        "PostalCode = 'M5V 1J9'"),
                new Label(LabelPlacement.CenterAfter,
                        "necessitatibus",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Parallel,
                        28760900.3791,
                        14941.6747,
                        true,
                        new Dimension(797.8869),
                    new TextSymbol("tempora voluptas quia",
                        new MapColor(184, 153, 47),
                        new MapColor(24, 71, 60),
                            new Dimension(489.5417),
                        new MapFont(new Dimension(770.8605),
                                "Times New Roman",
                            MapFontStyle.Normal,
                            FontWeight.Bold,
                            TextDecoration.Underline),
                            392.5187,
                        new MapColor(127, 246, 66),
                        new MapColor(165, 58, 91),
                            971.7513,
                        HorizontalAlignment.Left,
                            true,
                            378.0237,
                            new Dimension(215.8454),
                            true),
                        true,
                        "Name = 'John Doe'")],
                new PopupTemplate("asperiores laudantium tempore",
                        "autem",
                        ["dolores",
                            "similique",
                            "corrupti"],
                    [new FieldInfo("avatar",
                            "autem",
                            "vel",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(4,
                                true,
                            DateFormat.DayShortMonthYear),
                            true,
                            true,
                        StatisticType.Sum)],
                    [new TextPopupContent("voluptate et libero"),
                    new MediaPopupContent("sit quaerat accusamus",
                            "repellendus velit libero facilis",
                        [new LineChartMediaInfo("quam et qui",
                                "sit",
                                "maxime neque doloribus",
                            new ChartMediaInfoValue(["reprehenderit",
                                    "aut",
                                    "quis",
                                    "quo"],
                                    "asperiores",
                                    "distinctio",
                                [new ChartMediaInfoValueSeries("token",
                                        "veniam",
                                        923.9235),
                                new ChartMediaInfoValueSeries("group",
                                        "repudiandae",
                                        851.5894),
                                new ChartMediaInfoValueSeries("name",
                                        "recusandae",
                                        113.8691),
                                new ChartMediaInfoValueSeries("category",
                                        "quo",
                                        310.5582)],
                                [new MapColor(69, 61, 151),
                                new MapColor(244, 2, 94),
                                new MapColor(204, 183, 3)]))],
                            5),
                    new MediaPopupContent("minus ut sint",
                            "facere impedit debitis culpa nulla qui quidem",
                        [new LineChartMediaInfo("sit non asperiores",
                                "quo",
                                "fugit dolor dignissimos",
                            new ChartMediaInfoValue(["quo",
                                    "nostrum",
                                    "culpa",
                                    "aut"],
                                    "natus",
                                    "et",
                                [new ChartMediaInfoValueSeries("name",
                                        "est",
                                        479.4150),
                                new ChartMediaInfoValueSeries("avatar",
                                        "debitis",
                                        364.3941),
                                new ChartMediaInfoValueSeries("comment",
                                        "pariatur",
                                        621.6582)],
                                [new MapColor(183, 95, 4),
                                new MapColor(167, 35, 40)])),
                        new PieChartMediaInfo("ad corporis necessitatibus",
                                "adipisci",
                                "voluptatem provident qui",
                            new ChartMediaInfoValue(["ratione",
                                    "repellat"],
                                    "quia",
                                    "sunt",
                                [new ChartMediaInfoValueSeries("title",
                                        "blanditiis",
                                        861.0482)],
                                [new MapColor(62, 156, 179),
                                new MapColor(83, 206, 223),
                                new MapColor(75, 246, 132)])),
                        new PieChartMediaInfo("aliquid ex ea",
                                "quo",
                                "est nulla perferendis",
                            new ChartMediaInfoValue(["assumenda",
                                    "dicta",
                                    "voluptas"],
                                    "soluta",
                                    "unde",
                                [new ChartMediaInfoValueSeries("name",
                                        "omnis",
                                        482.9289)],
                                [new MapColor(143, 32, 133)])),
                        new ColumnChartMediaInfo("saepe consequatur et",
                                "consequatur",
                                "molestiae ab ducimus",
                            new ChartMediaInfoValue(["perspiciatis",
                                    "tempore"],
                                    "aperiam",
                                    "totam",
                                [new ChartMediaInfoValueSeries("email",
                                        "animi",
                                        227.5684),
                                new ChartMediaInfoValueSeries("password",
                                        "ipsum",
                                        787.1649),
                                new ChartMediaInfoValueSeries("token",
                                        "non",
                                        20.3585),
                                new ChartMediaInfoValueSeries("token",
                                        "minima",
                                        705.1079)],
                                [new MapColor(168, 200, 127),
                                new MapColor(49, 107, 76)]))],
                            9)],
                    [new ExpressionInfo("return $feature['FieldName'];",
                            "title",
                            "et laudantium omnis",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return Date();",
                            "status",
                            "eos non omnis",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionButton("quibusdam eos assumenda",
                            "https://picsum.photos/640/480/?image=430",
                            "c308bc0c-d1a4-d1ec-8edb-79ac477b1d6a",
                            () => { Console.WriteLine("perferendis"); return Task.CompletedTask; },
                            "password",
                            true,
                            true,
                            true,
                            "quasi")])),
            new Sublayer(4,
                    true,
                    true,
                ListMode.Show,
                    5454887.8625,
                    31813.5272,
                    0.1419,
                    true,
                    "aut aperiam minima",
                    true,
                    "maiores",
                new LayerFloorInfo("blanditiis"),
                [new Label(LabelPlacement.BelowAlong,
                        "voluptas",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        8128491.9337,
                        37085.1619,
                        true,
                        new Dimension(782.2891),
                    new TextSymbol("eveniet et et",
                        new MapColor(105, 13, 220),
                        new MapColor(245, 151, 133),
                            new Dimension(632.2312),
                        new MapFont(new Dimension(1.4036),
                                "Helvetica",
                            MapFontStyle.Normal,
                            FontWeight.Bolder,
                            TextDecoration.None),
                            917.5275,
                        new MapColor(228, 124, 212),
                        new MapColor(137, 200, 26),
                            831.2114,
                        HorizontalAlignment.Left,
                            true,
                            882.3895,
                            new Dimension(505.6766),
                            true),
                        true,
                        "City = 'Toronto'"),
                new Label(LabelPlacement.CenterAlong,
                        "et",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        9074385.0243,
                        6929.8798,
                        true,
                        new Dimension(686.7189),
                    new TextSymbol("consequuntur ut perferendis",
                        new MapColor(74, 219, 241),
                        new MapColor(166, 119, 137),
                            new Dimension(499.1367),
                        new MapFont(new Dimension(516.1254),
                                "Bookman",
                            MapFontStyle.Oblique,
                            FontWeight.Bold,
                            TextDecoration.None),
                            732.8008,
                        new MapColor(152, 47, 61),
                        new MapColor(96, 96, 2),
                            323.0968,
                        HorizontalAlignment.Center,
                            true,
                            452.9577,
                            new Dimension(724.6802),
                            true),
                        true,
                        "Street = '123 Main St.'")],
                new PopupTemplate("minus eos corrupti",
                        "nemo",
                        ["at",
                            "dolor"],
                    [new FieldInfo("avatar",
                            "ut",
                            "consequatur",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(7,
                                true,
                            DateFormat.ShortDateLeLongTime),
                            true,
                            true,
                        StatisticType.Stddev),
                    new FieldInfo("group",
                            "repellendus",
                            "harum",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(8,
                                true,
                            DateFormat.LongMonthDayYear),
                            true,
                            true,
                        StatisticType.Count)],
                    [new FieldsPopupContent([new FieldInfo("group",
                                "cumque",
                                "officiis",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(1,
                                    true,
                                DateFormat.ShortDateLeLongTime),
                                true,
                                true,
                            StatisticType.Count)],
                            "esse magnam soluta eum unde numquam",
                            "incidunt natus ad"),
                    new FieldsPopupContent([new FieldInfo("group",
                                "aut",
                                "iste",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(6,
                                    true,
                                DateFormat.DayShortMonthYearShortTime24),
                                true,
                                true,
                            StatisticType.Max),
                        new FieldInfo("title",
                                "quo",
                                "sint",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.ShortDateLeShortTime24),
                                true,
                                true,
                            StatisticType.Stddev),
                        new FieldInfo("updatedAt",
                                "est",
                                "impedit",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(1,
                                    true,
                                DateFormat.LongMonthDayYearLongTime),
                                true,
                                true,
                            StatisticType.Min)],
                            "est autem quidem ut et voluptas",
                            "unde et labore")],
                    [new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                            "phone",
                            "rerum voluptatibus ut",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                            "password",
                            "aperiam vero sint",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionButton("qui consequuntur dolores",
                            "https://picsum.photos/640/480/?image=937",
                            "838ab0ff-a05f-a46f-4bb3-984ab940f365",
                            () => { Console.WriteLine("saepe"); return Task.CompletedTask; },
                            "category",
                            true,
                            true,
                            true,
                            "consequatur"),
                    new ActionButton("quibusdam aut ipsum",
                            "https://picsum.photos/640/480/?image=244",
                            "0af9e57f-bcc7-0d24-c665-8a640922af09",
                            () => { Console.WriteLine("ipsa"); return Task.CompletedTask; },
                            "status",
                            true,
                            true,
                            true,
                            "ut")]))];
        await mapImageLayer.SetSubtables(testSubtables);
        var subtables = await mapImageLayer.GetSubtables();
        Assert.AreEqual(testSubtables, subtables);
        TimeInterval testTimeOffset = new TimeInterval(TemporalTime.Milliseconds,
                    618.3240);
        await mapImageLayer.SetTimeOffset(testTimeOffset);
        var timeOffset = await mapImageLayer.GetTimeOffset();
        Assert.AreEqual(testTimeOffset, timeOffset);
        TimeExtent testVisibilityTimeExtent = new TimeExtent(new DateTime(2010, 6, 21, 15, 1, 49),
                    new DateTime(2011, 6, 22, 1, 38, 24));
        await mapImageLayer.SetVisibilityTimeExtent(testVisibilityTimeExtent);
        var visibilityTimeExtent = await mapImageLayer.GetVisibilityTimeExtent();
        Assert.AreEqual(testVisibilityTimeExtent, visibilityTimeExtent);
    }
}
