@inherits TestRunnerBase

@{
    base.BuildRenderTree(__builder);
}

@code {

    [TestMethod]
    public async Task TestCanRenderMapImageLayer(Action renderHandler)
    {
        MapImageLayer? mapImageLayer = null;

        RefreshEvent? refreshResult = null;
        void OnRefresh(RefreshEvent result)
        {
            refreshResult = result;
        }
        AddMapRenderFragment(
            @<MapView class="map-view" OnViewRendered="renderHandler">
                <Map>
                    <Basemap>
                        <BasemapStyle Name="BasemapStyleName.ArcgisTopographic" />
                    </Basemap>
                    <MapImageLayer 
                        Url="@("https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer")"
                        BlendMode="@(BlendMode.SoftLight)"
                        Dpi="@(491.9468)"
                        Effect="@(new Effect("omnis",
                            22404798.2082))"
                        GdbVersion="@("0.1.7.0")"
                        ImageFormat="@(MapImageFormat.Gif)"
                        ImageMaxHeight="@(2)"
                        ImageMaxWidth="@(8)"
                        ImageTransparency="@(true)"
                        LegendEnabled="@(true)"
                        MaxScale="@(13682920.9154)"
                        MinScale="@(5733.4267)"
                        PersistenceEnabled="@(true)"
                        RefreshInterval="@(543.0177)"
                        UseViewTime="@(true)"
                        ListMode="@(ListMode.Hide)"
                        Visible="@(true)"
                        Opacity="@(0.5158)"
                        Copyright="@("illo")"
                        FullExtent="@(new Extent(173.6141,
                                115.4187,
                                4.3258,
                                -63.4897,
                                673.7516,
                                409.2844,
                                386.3959,
                                362.7121,
                            new SpatialReference(4,
                                    "qui",
                                    "in",
                                    "et"),
                                true,
                                true))"
                        Title="@("voluptas veniam qui")"
                        OnRefresh="OnRefresh">
                        <TimeInterval 
                            Unit="@(TemporalTime.Weeks)"
                            Value="@(544.9379)">
                        </TimeInterval>
                        <TimeInfo 
                            StartField="@("veritatis")"
                            EndField="@("exercitationem")"
                            Stops="@([new DateTime(2017, 9, 7, 0, 7, 0),
                                new DateTime(2004, 8, 1, 4, 52, 23),
                                new DateTime(2001, 9, 6, 22, 52, 5)])"
                            TimeZone="@("Australia/Adelaide")"
                            TrackIdField="@("nostrum")">
                            <TimeInterval 
                                Unit="@(TemporalTime.Minutes)"
                                Value="@(469.0546)">
                            </TimeInterval>
                            <TimeExtent 
                                Start="@(new DateTime(2015, 9, 8, 21, 25, 23))"
                                End="@(new DateTime(2000, 3, 10, 12, 12, 30))">
                            </TimeExtent>
                        </TimeInfo>
                        <TimeExtent 
                            Start="@(new DateTime(2010, 7, 24, 7, 54, 22))"
                            End="@(new DateTime(2017, 7, 13, 6, 2, 35))">
                        </TimeExtent>
                        <PortalItem 
                            Access="@(PortalItemAccess.Org)"
                            AccessInformation="@("sit")"
                            ApiKey="@("labore")"
                            AvgRating="@(493.3478)"
                            Categories="@(["magnam",
                                "nostrum"])"
                            Created="@(new DateTime(2007, 11, 9, 17, 2, 47))"
                            Culture="@("laudantium")"
                            Description="@("harum dolorem omnis ut")"
                            Extent="@(new Extent(-115.6800,
                                    37.7247,
                                    48.4121,
                                    -59.7599,
                                    182.8045,
                                    569.7334,
                                    983.7009,
                                    905.9697,
                                new SpatialReference(6,
                                        "deleniti",
                                        "ratione",
                                        "placeat"),
                                    true,
                                    true))"
                            GroupCategories="@(["modi",
                                "doloremque",
                                "dolor",
                                "nisi"])"
                            LicenseInfo="@("sed")"
                            Modified="@(new DateTime(2007, 6, 8, 4, 34, 45))"
                            Name="@("id")"
                            NumComments="@(640.5797)"
                            NumRatings="@(866.3557)"
                            NumViews="@(733.5823)"
                            Owner="@("Cristian Ullrich")"
                            OwnerFolder="@("Rowena O'Connell")"
                            Portal="@(new Portal(PortalAccess.Public,
                                    true,
                                AuthMode.NoPrompt,
                                    ["voluptatem",
                                        "possimus",
                                        "neque",
                                        "incidunt"],
                                    "velit",
                                    "blanditiis",
                                    "itaque",
                                    true,
                                    true,
                                    true,
                                    true,
                                    true,
                                    true,
                                    true))"
                            PortalItemId="@("dicta")"
                            Screenshots="@(["quo",
                                "alias"])"
                            Size="@(3)"
                            Snippet="@("magnam")"
                            Tags="@(["sit",
                                "repellendus",
                                "omnis",
                                "voluptate"])"
                            Title="@("quaerat vel quis")"
                            TypeKeywords="@(["quas",
                                "accusamus"])"
                            Url="@("https://services9.arcgis.com/RHVPKKiFTONKtxq3/arcgis/rest/services/NDFD_Precipitation_v1/FeatureServer/0")">
                        </PortalItem>
                        <Sublayer 
                            SublayerId="@(3)"
                            LabelsVisible="@(true)"
                            LegendEnabled="@(true)"
                            ListMode="@(ListMode.Hide)"
                            MaxScale="@(49521890.8587)"
                            MinScale="@(48112.8269)"
                            Opacity="@(0.5568)"
                            PopupEnabled="@(true)"
                            Title="@("repellat dolorum porro")"
                            Visible="@(true)"
                            DefinitionExpression="@("sequi")"
                            FloorInfo="@(new LayerFloorInfo("sit"))"
                            LabelingInfo="@([new Label(LabelPlacement.AboveCenter,
                                    "sit",
                                    new LabelExpressionInfo(),
                                    true,
                                DeconflictionStrategy.Static,
                                LabelPosition.Parallel,
                                    44692754.1674,
                                    28646.7856,
                                    true,
                                    new Dimension(504.3326),
                                new TextSymbol("repudiandae vero distinctio",
                                    new MapColor(159, 120, 67),
                                    new MapColor(69, 6, 2),
                                        new Dimension(19.8843),
                                    new MapFont(new Dimension(40.7626),
                                            "Palatino",
                                        MapFontStyle.Normal,
                                        FontWeight.Bolder,
                                        TextDecoration.LineThrough),
                                        540.3137,
                                    new MapColor(226, 236, 155),
                                    new MapColor(231, 217, 151),
                                        827.1380,
                                    HorizontalAlignment.Left,
                                        true,
                                        737.6756,
                                        new Dimension(688.0794),
                                        true),
                                    true,
                                    "Street = '123 Main St.'"),
                            new Label(LabelPlacement.CenterCenter,
                                    "quo",
                                    new LabelExpressionInfo(),
                                    true,
                                DeconflictionStrategy.Static,
                                LabelPosition.Parallel,
                                    31270365.2930,
                                    27754.9147,
                                    true,
                                    new Dimension(238.6735),
                                new TextSymbol("ut et inventore",
                                    new MapColor(222, 41, 236),
                                    new MapColor(203, 115, 215),
                                        new Dimension(373.4728),
                                    new MapFont(new Dimension(224.8866),
                                            "Arial",
                                        MapFontStyle.Normal,
                                        FontWeight.Normal,
                                        TextDecoration.Underline),
                                        716.6955,
                                    new MapColor(88, 109, 12),
                                    new MapColor(115, 32, 27),
                                        900.2526,
                                    HorizontalAlignment.Right,
                                        true,
                                        787.2342,
                                        new Dimension(427.3439),
                                        true),
                                    true,
                                    "Country = 'Canada'"),
                            new Label(LabelPlacement.AboveStart,
                                    "atque",
                                    new LabelExpressionInfo(),
                                    true,
                                DeconflictionStrategy.Static,
                                LabelPosition.Parallel,
                                    14073921.7626,
                                    20125.8086,
                                    true,
                                    new Dimension(130.7019),
                                new TextSymbol("cumque architecto et",
                                    new MapColor(234, 60, 148),
                                    new MapColor(169, 110, 151),
                                        new Dimension(602.5839),
                                    new MapFont(new Dimension(656.3867),
                                            "Garamond",
                                        MapFontStyle.Oblique,
                                        FontWeight.Bold,
                                        TextDecoration.Underline),
                                        468.6024,
                                    new MapColor(8, 220, 199),
                                    new MapColor(206, 176, 163),
                                        521.0285,
                                    HorizontalAlignment.Center,
                                        true,
                                        274.9352,
                                        new Dimension(664.8633),
                                        true),
                                    true,
                                    "PostalCode = 'M5V 1J9'"),
                            new Label(LabelPlacement.CenterAlong,
                                    "error",
                                    new LabelExpressionInfo(),
                                    true,
                                DeconflictionStrategy.Static,
                                LabelPosition.Curved,
                                    32981040.4166,
                                    37062.0625,
                                    true,
                                    new Dimension(320.4443),
                                new TextSymbol("rerum ducimus culpa",
                                    new MapColor(67, 76, 90),
                                    new MapColor(183, 128, 78),
                                        new Dimension(405.1722),
                                    new MapFont(new Dimension(1.1345),
                                            "Arial",
                                        MapFontStyle.Normal,
                                        FontWeight.Normal,
                                        TextDecoration.LineThrough),
                                        760.8772,
                                    new MapColor(193, 118, 96),
                                    new MapColor(147, 48, 125),
                                        879.9462,
                                    HorizontalAlignment.Left,
                                        true,
                                        68.2777,
                                        new Dimension(913.9385),
                                        true),
                                    true,
                                    "ObjectID = 1")])"
                            PopupTemplate="@(new PopupTemplate("laboriosam in voluptates",
                                    "ea",
                                    ["inventore",
                                        "ipsum",
                                        "minima",
                                        "nihil"],
                                [new FieldInfo("token",
                                        "dolore",
                                        "quo",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(5,
                                            true,
                                        DateFormat.ShortDateLongTime24),
                                        true,
                                        true,
                                    StatisticType.Count),
                                new FieldInfo("title",
                                        "rerum",
                                        "accusamus",
                                    StringFieldOption.RichText,
                                    new FieldInfoFormat(4,
                                            true,
                                        DateFormat.ShortDateShortTime24),
                                        true,
                                        true,
                                    StatisticType.Count),
                                new FieldInfo("id",
                                        "quo",
                                        "error",
                                    StringFieldOption.TextArea,
                                    new FieldInfoFormat(6,
                                            true,
                                        DateFormat.ShortDateLe),
                                        true,
                                        true,
                                    StatisticType.Avg)],
                                [new RelationshipPopupContent("aut aliquid recusandae",
                                        "recusandae quos reiciendis itaque quia",
                                        3,
                                        "at",
                                    [new RelatedRecordsInfoFieldOrder("ex",
                                        OrderBy.Desc),
                                    new RelatedRecordsInfoFieldOrder("nihil",
                                        OrderBy.Desc),
                                    new RelatedRecordsInfoFieldOrder("quia",
                                        OrderBy.Asc)],
                                        4),
                                new MediaPopupContent("temporibus ipsum consequatur",
                                        "labore nihil est non quo velit architecto",
                                    [new ImageMediaInfo("ex illum ut",
                                            "praesentium",
                                            "adipisci voluptas nemo",
                                        new ImageMediaInfoValue("http://jerrell.biz",
                                                "https://jefferey.net"),
                                            166.4182),
                                    new PieChartMediaInfo("placeat eos facere",
                                            "ducimus",
                                            "eius alias occaecati",
                                        new ChartMediaInfoValue(["provident",
                                                "aut"],
                                                "rem",
                                                "modi",
                                            [new ChartMediaInfoValueSeries("comment",
                                                    "officia",
                                                    814.0065),
                                            new ChartMediaInfoValueSeries("password",
                                                    "dolore",
                                                    854.8687),
                                            new ChartMediaInfoValueSeries("id",
                                                    "aperiam",
                                                    112.5536)],
                                            [new MapColor(152, 69, 88)]))],
                                        7),
                                new TextPopupContent("omnis rerum quia")],
                                [new ExpressionInfo("return $feature.City + ', ' + $feature.Country;",
                                        "phone",
                                        "eum accusantium dolor",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("return Date();",
                                        "id",
                                        "dolor dignissimos fugit",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("var area = Geometry($feature).area; return area;",
                                        "category",
                                        "voluptatum beatae sit",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("return $feature['FieldName'];",
                                        "email",
                                        "aspernatur ullam quo",
                                        ExpressionInfoReturnType.String)],
                                    true,
                                    true,
                                [new ActionToggle("itaque aliquam qui",
                                        "4a1dd2b2-4833-d6ed-514d-153e11b0c2d9",
                                        () => { Console.WriteLine("sunt"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "createdAt",
                                        "voluptas"),
                                new ActionButton("et excepturi rerum",
                                        "https://picsum.photos/640/480/?image=208",
                                        "9d324911-0abd-9dc1-d731-7cbcde8ebdd2",
                                        () => { Console.WriteLine("odit"); return Task.CompletedTask; },
                                        "group",
                                        true,
                                        true,
                                        true,
                                        "ex"),
                                new ActionToggle("dolorem quia itaque",
                                        "b2635fdd-edde-6f88-6d27-f0503a50f8a5",
                                        () => { Console.WriteLine("porro"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "id",
                                        "vero"),
                                new ActionButton("ut debitis molestiae",
                                        "https://picsum.photos/640/480/?image=780",
                                        "0a516f70-e090-e89d-de00-c519664da63e",
                                        () => { Console.WriteLine("aut"); return Task.CompletedTask; },
                                        "phone",
                                        true,
                                        true,
                                        true,
                                        "voluptatibus")]))"
                            Renderer="@(new SimpleRenderer(new TextSymbol("voluptatum nobis atque",
                                    new MapColor(238, 150, 138),
                                    new MapColor(24, 162, 36),
                                        new Dimension(123.6520),
                                    new MapFont(new Dimension(390.0268),
                                            "Courier New",
                                        MapFontStyle.Normal,
                                        FontWeight.Bold,
                                        TextDecoration.LineThrough),
                                        497.9525,
                                    new MapColor(251, 88, 16),
                                    new MapColor(59, 2, 77),
                                        332.1102,
                                    HorizontalAlignment.Left,
                                        true,
                                        937.2675,
                                        new Dimension(911.0176),
                                        true),
                                    "consequuntur",
                                [new SizeVariable("laboriosam",
                                        new Dimension(419.3816),
                                        new Dimension(961.9595),
                                        199.3066,
                                        439.1070,
                                        VisualValueRepresentation.Width,
                                        VisualValueUnit.Decimeters,
                                        "amet",
                                        "rerum",
                                        true,
                                        VisualAxis.Width,
                                        "aspernatur",
                                        "aut nostrum illum",
                                    new VisualVariableLegendOptions(true,
                                            "quibusdam et aut")),
                                new SizeVariable("odio",
                                        new Dimension(814.0828),
                                        new Dimension(97.7253),
                                        762.9377,
                                        627.7697,
                                        VisualValueRepresentation.Area,
                                        VisualValueUnit.Millimeters,
                                        "sit",
                                        "nihil",
                                        true,
                                        VisualAxis.Depth,
                                        "ex",
                                        "est suscipit dicta",
                                    new VisualVariableLegendOptions(true,
                                            "ad sit mollitia"))],
                                new AuthoringInfo(ClassificationMethod.StandardDeviation,
                                    new AlgorithmicColorRamp(Algorithm.LabLch,
                                        new MapColor(67, 8, 174),
                                        new MapColor(25, 73, 208)),
                                        431.8079,
                                    new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(183.7778,
                                                810.0024),
                                        new AuthoringInfoField1ClassBreakInfos(152.1766,
                                                823.8608)],
                                            "magnam",
                                            "sit",
                                            "sit"),
                                    new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(730.1121,
                                                184.6264),
                                        new AuthoringInfoField1ClassBreakInfos(28.2937,
                                                206.5568)],
                                            "porro",
                                            "illo",
                                            "sed"),
                                        ["ut",
                                            "quo"],
                                    AuthoringInfoFlowTheme.FlowLine,
                                        "amet",
                                        true,
                                    LengthUnit.Miles,
                                        81.1983,
                                        694.6610,
                                        833.9435,
                                        6.6960)))"
                            Url="@("https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Countries_(Generalized)/FeatureServer/0")">
                            <Sublayer 
                                SublayerId="@(7)"
                                LabelsVisible="@(true)"
                                LegendEnabled="@(true)"
                                ListMode="@(ListMode.Show)"
                                MaxScale="@(23663575.0996)"
                                MinScale="@(20452.9894)"
                                Opacity="@(0.5470)"
                                PopupEnabled="@(true)"
                                Title="@("natus labore eaque")"
                                Visible="@(true)"
                                DefinitionExpression="@("vel")"
                                Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trails/FeatureServer/0")">
                                <Sublayer 
                                    SublayerId="@(7)"
                                    LabelsVisible="@(true)"
                                    LegendEnabled="@(true)"
                                    ListMode="@(ListMode.Hide)"
                                    MaxScale="@(11484167.9506)"
                                    MinScale="@(49447.9160)"
                                    Opacity="@(0.0356)"
                                    PopupEnabled="@(true)"
                                    Title="@("facere modi quibusdam")"
                                    Visible="@(true)"
                                    DefinitionExpression="@("voluptas")"
                                    Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads_Styled/FeatureServer/0")">
                                    <Sublayer 
                                        SublayerId="@(3)"
                                        LabelsVisible="@(true)"
                                        LegendEnabled="@(true)"
                                        ListMode="@(ListMode.Hide)"
                                        MaxScale="@(33400847.6991)"
                                        MinScale="@(45907.6372)"
                                        Opacity="@(0.6965)"
                                        PopupEnabled="@(true)"
                                        Title="@("qui nobis pariatur")"
                                        Visible="@(true)"
                                        DefinitionExpression="@("ratione")"
                                        Url="@("https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Countries_(Generalized)/FeatureServer/0")">
                                        <Sublayer 
                                            SublayerId="@(6)"
                                            LabelsVisible="@(true)"
                                            LegendEnabled="@(true)"
                                            ListMode="@(ListMode.Show)"
                                            MaxScale="@(28581442.0303)"
                                            MinScale="@(42876.1829)"
                                            Opacity="@(0.3856)"
                                            PopupEnabled="@(true)"
                                            Title="@("laborum totam et")"
                                            Visible="@(true)"
                                            DefinitionExpression="@("aut")"
                                            Url="@("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/1")">
                                            <Sublayer 
                                                SublayerId="@(4)"
                                                LabelsVisible="@(true)"
                                                LegendEnabled="@(true)"
                                                ListMode="@(ListMode.Show)"
                                                MaxScale="@(32348730.2627)"
                                                MinScale="@(1427.7871)"
                                                Opacity="@(0.2260)"
                                                PopupEnabled="@(true)"
                                                Title="@("aperiam id molestiae")"
                                                Visible="@(true)"
                                                DefinitionExpression="@("aut")"
                                                Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads/FeatureServer/0")">
                                                <Sublayer 
                                                    SublayerId="@(9)"
                                                    LabelsVisible="@(true)"
                                                    LegendEnabled="@(true)"
                                                    ListMode="@(ListMode.Show)"
                                                    MaxScale="@(30869997.8856)"
                                                    MinScale="@(2414.6424)"
                                                    Opacity="@(0.8258)"
                                                    PopupEnabled="@(true)"
                                                    Title="@("sapiente modi modi")"
                                                    Visible="@(true)"
                                                    DefinitionExpression="@("tempore")"
                                                    Url="@("https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trails/FeatureServer/0")">
                                                    <Sublayer 
                                                        Visible="@(true)"
>
                                                    </Sublayer>
                                                    <SimpleRenderer 
>
                                                    </SimpleRenderer>
                                                    <PopupTemplate 
                                                        Title="@("ut fuga sit")"
                                                        StringContent="@("sunt")"
>
                                                    </PopupTemplate>
                                                    <Label 
>
                                                    </Label>
                                                    <LayerFloorInfo 
                                                        FloorField="@("tempora")">
                                                    </LayerFloorInfo>
                                                </Sublayer>
                                                <UniqueValueRenderer 
                                                    AuthoringInfo="@(new AuthoringInfo())">
                                                </UniqueValueRenderer>
                                                <PopupTemplate 
                                                    Title="@("distinctio atque nihil")"
                                                    StringContent="@("id")"
                                                    OutFields="@(["et",
                                                        "quidem"])"
                                                    FieldInfos="@([new FieldInfo(null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                            true),
                                                    new FieldInfo(null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                            true),
                                                    new FieldInfo(null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                            true),
                                                    new FieldInfo(null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                        null,
                                                            true)])"
                                                    Content="@([new AttachmentsPopupContent(),
                                                    new FieldsPopupContent([new FieldInfo(null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                                true),
                                                        new FieldInfo(null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                                true),
                                                        new FieldInfo(null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                                true),
                                                        new FieldInfo(null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                            null,
                                                                true)]),
                                                    new AttachmentsPopupContent()])"
                                                    ExpressionInfos="@([new ExpressionInfo(),
                                                    new ExpressionInfo(),
                                                    new ExpressionInfo()])"
                                                    OverwriteActions="@(true)"
                                                    ReturnGeometry="@(true)"
                                                    Actions="@([new ActionButton(null,
                                                        null,
                                                            "91cc8ec8-686b-e9e2-d071-af75ddd76c63",
                                                            () => { Console.WriteLine("consectetur"); return Task.CompletedTask; },
                                                        null,
                                                        null,
                                                        null,
                                                            true),
                                                    new ActionToggle(null,
                                                            "07195d8b-079b-7ec3-c66d-9b6e646a32ba",
                                                            () => { Console.WriteLine("ipsam"); return Task.CompletedTask; },
                                                        null,
                                                        null,
                                                        null,
                                                            true),
                                                    new ActionToggle(null,
                                                            "cd4c6054-3638-4078-dfb2-f398dfd4e4d3",
                                                            () => { Console.WriteLine("dolor"); return Task.CompletedTask; },
                                                        null,
                                                        null,
                                                        null,
                                                            true)])">
                                                </PopupTemplate>
                                                <Label 
                                                    LabelPlacement="@(LabelPlacement.AboveEnd)"
                                                    LabelExpression="@("fugiat")"
                                                    LabelExpressionInfo="@(new LabelExpressionInfo())"
                                                    AllowOverrun="@(true)"
                                                    DeconflictionStrategy="@(DeconflictionStrategy.None)"
                                                    LabelPosition="@(LabelPosition.Curved)"
                                                    MaxScale="@(33502259.5440)"
                                                    MinScale="@(3626.5020)"
                                                    RepeatLabel="@(true)"
                                                    RepeatLabelDistance="@(new Dimension(693.7909))"
                                                    Symbol="@(new TextSymbol("delectus et voluptas"))"
                                                    UseCodedValues="@(true)"
                                                    Where="@("Age > 21")">
                                                </Label>
                                                <LayerFloorInfo 
                                                    FloorField="@("doloribus")">
                                                </LayerFloorInfo>
                                            </Sublayer>
                                            <SimpleRenderer 
                                                AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.DefinedInterval,
                                                    new MultipartColorRamp(),
                                                        642.8607,
                                                    new AuthoringInfoField(),
                                                    new AuthoringInfoField(),
                                                        ["aut",
                                                            "iste"],
                                                    AuthoringInfoFlowTheme.WaveFront,
                                                        "suscipit",
                                                        true,
                                                    LengthUnit.Kilometers,
                                                        346.6050,
                                                        376.9389,
                                                        958.4331,
                                                        739.6566))">
                                            </SimpleRenderer>
                                            <PopupTemplate 
                                                Title="@("vitae id nihil")"
                                                StringContent="@("eos")"
                                                OutFields="@(["dolorem",
                                                    "atque"])"
                                                FieldInfos="@([new FieldInfo("group",
                                                        "consequatur",
                                                        "et",
                                                    StringFieldOption.RichText,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Var)])"
                                                Content="@([new ExpressionPopupContent(new ElementExpressionInfo())])"
                                                ExpressionInfos="@([new ExpressionInfo("return $feature.Population / $feature.Area;",
                                                        "email",
                                                        "repudiandae debitis consequatur"),
                                                new ExpressionInfo("return $feature.Name;",
                                                        "createdAt",
                                                        "est aut voluptatem"),
                                                new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                                        "password",
                                                        "ipsum nam dolores"),
                                                new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                                        "createdAt",
                                                        "ut et cupiditate")])"
                                                OverwriteActions="@(true)"
                                                ReturnGeometry="@(true)"
                                                Actions="@([new ActionToggle("ea voluptatem consequuntur",
                                                        "b7c83ed9-d7f9-2d8e-6f87-3cab39f28712",
                                                        () => { Console.WriteLine("totam"); return Task.CompletedTask; },
                                                        true,
                                                        true,
                                                        true,
                                                        true,
                                                        "updatedAt",
                                                        "doloremque"),
                                                new ActionToggle("tenetur blanditiis voluptatem",
                                                        "9139ddc1-2412-1951-246a-ef1950599386",
                                                        () => { Console.WriteLine("porro"); return Task.CompletedTask; },
                                                        true,
                                                        true,
                                                        true,
                                                        true,
                                                        "password",
                                                        "sint"),
                                                new ActionToggle("repellendus cumque ea",
                                                        "ae2726b6-f28b-8026-90cb-02d8b91c3892",
                                                        () => { Console.WriteLine("rem"); return Task.CompletedTask; },
                                                        true,
                                                        true,
                                                        true,
                                                        true,
                                                        "id",
                                                        "fugit"),
                                                new ActionButton("aliquam maiores mollitia",
                                                        "https://picsum.photos/640/480/?image=671",
                                                        "deab01ad-d588-edcd-2942-579ddb07f310",
                                                        () => { Console.WriteLine("libero"); return Task.CompletedTask; },
                                                        "avatar",
                                                        true,
                                                        true,
                                                        true,
                                                        "et")])">
                                            </PopupTemplate>
                                            <Label 
                                                LabelPlacement="@(LabelPlacement.CenterCenter)"
                                                LabelExpression="@("velit")"
                                                LabelExpressionInfo="@(new LabelExpressionInfo())"
                                                AllowOverrun="@(true)"
                                                DeconflictionStrategy="@(DeconflictionStrategy.None)"
                                                LabelPosition="@(LabelPosition.Curved)"
                                                MaxScale="@(34689528.6851)"
                                                MinScale="@(48576.9988)"
                                                RepeatLabel="@(true)"
                                                RepeatLabelDistance="@(new Dimension(350.7736))"
                                                Symbol="@(new TextSymbol("eligendi ipsam et",
                                                    new MapColor(36, 19, 98),
                                                    new MapColor(59, 186, 219),
                                                        null,
                                                    new MapFont(),
                                                        251.2673,
                                                    new MapColor(109, 81, 67),
                                                    new MapColor(168, 194, 13),
                                                        223.6762,
                                                    HorizontalAlignment.Right,
                                                        true,
                                                        782.3901,
                                                        null,
                                                        true))"
                                                UseCodedValues="@(true)"
                                                Where="@("Name = 'John Doe'")">
                                            </Label>
                                            <LayerFloorInfo 
                                                FloorField="@("soluta")">
                                            </LayerFloorInfo>
                                        </Sublayer>
                                        <SimpleRenderer 
                                            AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.DefinedInterval,
                                                new AlgorithmicColorRamp(Algorithm.LabLch,
                                                    new MapColor(212, 145, 65),
                                                    new MapColor(236, 44, 87)),
                                                    245.9164,
                                                new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos()],
                                                        "magni",
                                                        "enim",
                                                        "provident"),
                                                new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos(),
                                                    new AuthoringInfoField1ClassBreakInfos()],
                                                        "et",
                                                        "quasi",
                                                        "nihil"),
                                                    ["consequatur",
                                                        "consequuntur",
                                                        "fugiat"],
                                                AuthoringInfoFlowTheme.FlowLine,
                                                    "et",
                                                    true,
                                                LengthUnit.Miles,
                                                    943.5664,
                                                    285.3244,
                                                    368.7657,
                                                    920.3043))">
                                        </SimpleRenderer>
                                        <PopupTemplate 
                                            Title="@("et enim perferendis")"
                                            StringContent="@("labore")"
                                            OutFields="@(["ea",
                                                "dolore",
                                                "eum",
                                                "magnam"])"
                                            FieldInfos="@([new FieldInfo("title",
                                                    "dicta",
                                                    "vitae",
                                                StringFieldOption.TextBox,
                                                new FieldInfoFormat(4,
                                                        true,
                                                    DateFormat.LongDate),
                                                    true,
                                                    true,
                                                StatisticType.Count),
                                            new FieldInfo("avatar",
                                                    "ab",
                                                    "aut",
                                                StringFieldOption.RichText,
                                                new FieldInfoFormat(1,
                                                        true,
                                                    DateFormat.DayShortMonthYearLongTime24),
                                                    true,
                                                    true,
                                                StatisticType.Avg),
                                            new FieldInfo("email",
                                                    "quas",
                                                    "odit",
                                                StringFieldOption.TextBox,
                                                new FieldInfoFormat(4,
                                                        true,
                                                    DateFormat.DayShortMonthYearShortTime24),
                                                    true,
                                                    true,
                                                StatisticType.Var)])"
                                            Content="@([new FieldsPopupContent([new FieldInfo("password",
                                                        "quia",
                                                        "aliquid",
                                                    StringFieldOption.TextBox,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Stddev),
                                                new FieldInfo("comment",
                                                        "tenetur",
                                                        "in",
                                                    StringFieldOption.RichText,
                                                    new FieldInfoFormat(),
                                                        true,
                                                        true,
                                                    StatisticType.Var)],
                                                    "et dolores porro aut non",
                                                    "sit beatae odio"),
                                            new RelationshipPopupContent("sit numquam facere",
                                                    "nostrum sequi pariatur omnis consequatur iure",
                                                    7,
                                                    "est",
                                                [new RelatedRecordsInfoFieldOrder("quis",
                                                    OrderBy.Asc),
                                                new RelatedRecordsInfoFieldOrder("sunt",
                                                    OrderBy.Desc),
                                                new RelatedRecordsInfoFieldOrder("voluptatem",
                                                    OrderBy.Desc)],
                                                    3)])"
                                            ExpressionInfos="@([new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                                    "status",
                                                    "ut molestias consequatur",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("return $feature['FieldName'];",
                                                    "id",
                                                    "voluptatum ex et",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("return Date();",
                                                    "title",
                                                    "voluptatibus et numquam",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("return $feature.Population / $feature.Area;",
                                                    "avatar",
                                                    "ut illum voluptas",
                                                    ExpressionInfoReturnType.String)])"
                                            OverwriteActions="@(true)"
                                            ReturnGeometry="@(true)"
                                            Actions="@([new ActionToggle("consequuntur et quaerat",
                                                    "d7e3012d-2a6a-c01f-280b-be5b6c81da83",
                                                    () => { Console.WriteLine("veritatis"); return Task.CompletedTask; },
                                                    true,
                                                    true,
                                                    true,
                                                    true,
                                                    "updatedAt",
                                                    "placeat")])">
                                        </PopupTemplate>
                                        <Label 
                                            LabelPlacement="@(LabelPlacement.AboveRight)"
                                            LabelExpression="@("tempore")"
                                            LabelExpressionInfo="@(new LabelExpressionInfo())"
                                            AllowOverrun="@(true)"
                                            DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                            LabelPosition="@(LabelPosition.Parallel)"
                                            MaxScale="@(32843115.3046)"
                                            MinScale="@(12593.5146)"
                                            RepeatLabel="@(true)"
                                            RepeatLabelDistance="@(new Dimension(358.5813))"
                                            Symbol="@(new TextSymbol("quisquam quia consequuntur",
                                                new MapColor(201, 173, 34),
                                                new MapColor(237, 124, 72),
                                                    new Dimension(450.0337),
                                                new MapFont(new Dimension(268.7104),
                                                        "Arial",
                                                    MapFontStyle.Italic,
                                                    FontWeight.Lighter,
                                                    TextDecoration.LineThrough),
                                                    886.9984,
                                                new MapColor(46, 208, 196),
                                                new MapColor(227, 250, 204),
                                                    902.8706,
                                                HorizontalAlignment.Center,
                                                    true,
                                                    29.0231,
                                                    new Dimension(419.9054),
                                                    true))"
                                            UseCodedValues="@(true)"
                                            Where="@("PostalCode = 'M5V 1J9'")">
                                        </Label>
                                        <LayerFloorInfo 
                                            FloorField="@("earum")">
                                        </LayerFloorInfo>
                                    </Sublayer>
                                    <SimpleRenderer 
                                        AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.DefinedInterval,
                                            new MultipartColorRamp([new AlgorithmicColorRamp(Algorithm.Hsv,
                                                    new MapColor(51, 27, 177),
                                                    new MapColor(63, 47, 2)),
                                                new AlgorithmicColorRamp(Algorithm.Hsv,
                                                    new MapColor(19, 172, 99),
                                                    new MapColor(158, 21, 202)),
                                                new AlgorithmicColorRamp(Algorithm.CieLab,
                                                    new MapColor(90, 125, 202),
                                                    new MapColor(23, 185, 222)),
                                                new AlgorithmicColorRamp(Algorithm.Hsv,
                                                    new MapColor(121, 235, 109),
                                                    new MapColor(92, 222, 79))]),
                                                817.8361,
                                            new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(519.9184,
                                                        645.6320),
                                                new AuthoringInfoField1ClassBreakInfos(218.8073,
                                                        818.1277),
                                                new AuthoringInfoField1ClassBreakInfos(300.7249,
                                                        778.4760),
                                                new AuthoringInfoField1ClassBreakInfos(418.0040,
                                                        195.1350)],
                                                    "laborum",
                                                    "neque",
                                                    "ex"),
                                            new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(885.0504,
                                                        666.7782),
                                                new AuthoringInfoField1ClassBreakInfos(460.0143,
                                                        356.3091)],
                                                    "quo",
                                                    "sit",
                                                    "a"),
                                                ["maiores",
                                                    "assumenda",
                                                    "sit"],
                                            AuthoringInfoFlowTheme.FlowLine,
                                                "qui",
                                                true,
                                            LengthUnit.Feet,
                                                598.5423,
                                                635.0345,
                                                745.5525,
                                                644.0242))">
                                    </SimpleRenderer>
                                    <PopupTemplate 
                                        Title="@("dolor nemo voluptas")"
                                        StringContent="@("officia")"
                                        OutFields="@(["aliquid",
                                            "facilis"])"
                                        FieldInfos="@([new FieldInfo("name",
                                                "ut",
                                                "laboriosam",
                                            StringFieldOption.TextBox,
                                            new FieldInfoFormat(6,
                                                    true,
                                                DateFormat.DayShortMonthYearShortTime),
                                                true,
                                                true,
                                            StatisticType.Count),
                                        new FieldInfo("createdAt",
                                                "hic",
                                                "eligendi",
                                            StringFieldOption.RichText,
                                            new FieldInfoFormat(7,
                                                    true,
                                                DateFormat.Year),
                                                true,
                                                true,
                                            StatisticType.Count)])"
                                        Content="@([new ExpressionPopupContent(new ElementExpressionInfo("return $feature.Name;",
                                                    "et",
                                                    "est mollitia sint")),
                                        new ExpressionPopupContent(new ElementExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                                    "et",
                                                    "quidem dolores eum")),
                                        new AttachmentsPopupContent("nisi omnis dolores",
                                                "suscipit voluptates sunt dolorem",
                                                AttachmentsPopupContentDisplayType.Auto),
                                        new TextPopupContent("minima at quasi")])"
                                        ExpressionInfos="@([new ExpressionInfo("var length = Geometry($feature).length; return length;",
                                                "status",
                                                "et aut autem",
                                                ExpressionInfoReturnType.String),
                                        new ExpressionInfo("var length = Geometry($feature).length; return length;",
                                                "id",
                                                "nam a sit",
                                                ExpressionInfoReturnType.String)])"
                                        OverwriteActions="@(true)"
                                        ReturnGeometry="@(true)"
                                        Actions="@([new ActionButton("recusandae eius qui",
                                                "https://picsum.photos/640/480/?image=34",
                                                "e33b3bf4-882c-dba6-b81f-274a2b33e4c9",
                                                () => { Console.WriteLine("quae"); return Task.CompletedTask; },
                                                "createdAt",
                                                true,
                                                true,
                                                true,
                                                "ut"),
                                        new ActionButton("ullam et officiis",
                                                "https://picsum.photos/640/480/?image=969",
                                                "dee68ef2-2e4d-ca7d-24a3-887ba5a6005b",
                                                () => { Console.WriteLine("sint"); return Task.CompletedTask; },
                                                "updatedAt",
                                                true,
                                                true,
                                                true,
                                                "blanditiis")])">
                                    </PopupTemplate>
                                    <Label 
                                        LabelPlacement="@(LabelPlacement.BelowEnd)"
                                        LabelExpression="@("laboriosam")"
                                        LabelExpressionInfo="@(new LabelExpressionInfo())"
                                        AllowOverrun="@(true)"
                                        DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                        LabelPosition="@(LabelPosition.Curved)"
                                        MaxScale="@(27606266.3548)"
                                        MinScale="@(15041.6513)"
                                        RepeatLabel="@(true)"
                                        RepeatLabelDistance="@(new Dimension(843.4803))"
                                        Symbol="@(new TextSymbol("exercitationem enim accusantium",
                                            new MapColor(90, 201, 9),
                                            new MapColor(223, 187, 141),
                                                new Dimension(175.6955),
                                            new MapFont(new Dimension(987.6305),
                                                    "Courier New",
                                                MapFontStyle.Oblique,
                                                FontWeight.Bolder,
                                                TextDecoration.None),
                                                676.0214,
                                            new MapColor(247, 101, 165),
                                            new MapColor(106, 90, 99),
                                                93.9417,
                                            HorizontalAlignment.Right,
                                                true,
                                                32.3966,
                                                new Dimension(133.3002),
                                                true))"
                                        UseCodedValues="@(true)"
                                        Where="@("1 = 1")">
                                    </Label>
                                    <LayerFloorInfo 
                                        FloorField="@("aliquid")">
                                    </LayerFloorInfo>
                                </Sublayer>
                                <SimpleRenderer 
                                    AuthoringInfo="@(new AuthoringInfo(ClassificationMethod.NaturalBreaks,
                                        new AlgorithmicColorRamp(Algorithm.CieLab,
                                            new MapColor(159, 70, 254),
                                            new MapColor(209, 243, 60)),
                                            631.4951,
                                        new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(519.6492,
                                                    43.2337),
                                            new AuthoringInfoField1ClassBreakInfos(706.6108,
                                                    713.8753),
                                            new AuthoringInfoField1ClassBreakInfos(898.9002,
                                                    671.9061)],
                                                "aspernatur",
                                                "rerum",
                                                "laborum"),
                                        new AuthoringInfoField([new AuthoringInfoField1ClassBreakInfos(353.6506,
                                                    468.3340),
                                            new AuthoringInfoField1ClassBreakInfos(629.1420,
                                                    446.4692),
                                            new AuthoringInfoField1ClassBreakInfos(210.7885,
                                                    159.5921)],
                                                "excepturi",
                                                "necessitatibus",
                                                "quia"),
                                            ["molestiae",
                                                "et",
                                                "provident",
                                                "modi"],
                                        AuthoringInfoFlowTheme.WaveFront,
                                            "repellendus",
                                            true,
                                        LengthUnit.UsFeet,
                                            568.4463,
                                            896.7061,
                                            662.1532,
                                            203.6570))">
                                </SimpleRenderer>
                                <PopupTemplate 
                                    Title="@("odit ut minima")"
                                    StringContent="@("perferendis")"
                                    OutFields="@(["aut",
                                        "dicta",
                                        "fugit",
                                        "rem"])"
                                    FieldInfos="@([new FieldInfo("updatedAt",
                                            "quo",
                                            "qui",
                                        StringFieldOption.RichText,
                                        new FieldInfoFormat(1,
                                                true,
                                            DateFormat.DayShortMonthYearLongTime24),
                                            true,
                                            true,
                                        StatisticType.Avg),
                                    new FieldInfo("password",
                                            "eum",
                                            "iure",
                                        StringFieldOption.RichText,
                                        new FieldInfoFormat(3,
                                                true,
                                            DateFormat.LongMonthDayYearShortTime),
                                            true,
                                            true,
                                        StatisticType.Var),
                                    new FieldInfo("createdAt",
                                            "explicabo",
                                            "nostrum",
                                        StringFieldOption.RichText,
                                        new FieldInfoFormat(4,
                                                true,
                                            DateFormat.DayShortMonthYearShortTime24),
                                            true,
                                            true,
                                        StatisticType.Var)])"
                                    Content="@([new TextPopupContent("similique vel laudantium")])"
                                    ExpressionInfos="@([new ExpressionInfo("var area = Geometry($feature).area; return area;",
                                            "title",
                                            "eos maxime rerum",
                                            ExpressionInfoReturnType.String)])"
                                    OverwriteActions="@(true)"
                                    ReturnGeometry="@(true)"
                                    Actions="@([new ActionToggle("qui commodi atque",
                                            "b643e51c-d5cc-09a8-af2e-36c3ad66c2d8",
                                            () => { Console.WriteLine("eum"); return Task.CompletedTask; },
                                            true,
                                            true,
                                            true,
                                            true,
                                            "email",
                                            "distinctio"),
                                    new ActionToggle("sequi et est",
                                            "1a79ec5d-f4d6-76df-79d4-a5d22bc8ba5a",
                                            () => { Console.WriteLine("placeat"); return Task.CompletedTask; },
                                            true,
                                            true,
                                            true,
                                            true,
                                            "title",
                                            "aut"),
                                    new ActionToggle("ratione in in",
                                            "5b362136-97f9-ca85-56a7-8a976ff17967",
                                            () => { Console.WriteLine("eius"); return Task.CompletedTask; },
                                            true,
                                            true,
                                            true,
                                            true,
                                            "email",
                                            "suscipit")])">
                                </PopupTemplate>
                                <Label 
                                    LabelPlacement="@(LabelPlacement.CenterCenter)"
                                    LabelExpression="@("corrupti")"
                                    LabelExpressionInfo="@(new LabelExpressionInfo())"
                                    AllowOverrun="@(true)"
                                    DeconflictionStrategy="@(DeconflictionStrategy.Static)"
                                    LabelPosition="@(LabelPosition.Parallel)"
                                    MaxScale="@(27216579.4935)"
                                    MinScale="@(13424.6651)"
                                    RepeatLabel="@(true)"
                                    RepeatLabelDistance="@(new Dimension(714.4794))"
                                    Symbol="@(new TextSymbol("saepe similique culpa",
                                        new MapColor(142, 252, 18),
                                        new MapColor(112, 7, 126),
                                            new Dimension(83.0284),
                                        new MapFont(new Dimension(689.7728),
                                                "Palatino",
                                            MapFontStyle.Oblique,
                                            FontWeight.Normal,
                                            TextDecoration.None),
                                            762.3814,
                                        new MapColor(220, 196, 223),
                                        new MapColor(88, 43, 183),
                                            56.3690,
                                        HorizontalAlignment.Center,
                                            true,
                                            515.2627,
                                            new Dimension(441.4107),
                                            true))"
                                    UseCodedValues="@(true)"
                                    Where="@("Age > 21")">
                                </Label>
                                <LayerFloorInfo 
                                    FloorField="@("et")">
                                </LayerFloorInfo>
                            </Sublayer>
                        </Sublayer>
                    </MapImageLayer>
                </Map>
            </MapView>);
        await WaitForMapToRender();
        Assert.IsNotNull(mapImageLayer!);
        await AssertJavaScript("dispatchEvent", args: [mapImageLayer!.Id, "refresh"]);
        int tries = 100;
        while (tries > 0 &&
            (refreshResult is null))
        {
            await Task.Delay(100);
            tries--;
        }
        Assert.IsInstanceOfType<RefreshEvent>(refreshResult);
        await AssertJavaScript("assertLayerExists", args: "map-image");
        var createExportImageParametersMethodResult = await mapImageLayer.CreateExportImageParameters(new Extent(163.6659,
                    -29.8352,
                    51.9598,
                    56.1036,
                    86.5996,
                    153.7749,
                    853.7732,
                    126.9186,
                new SpatialReference(5,
                        "assumenda",
                        "vel",
                        "eaque"),
                    true,
                    true),
                1,
                2,
            new MapImageLayerCreateExportImageParametersOptions(35.6914,
                    329.9222,
                    "nam"));
        Assert.IsNotNull(createExportImageParametersMethodResult);
        var createServiceSublayersMethodResult = await mapImageLayer.CreateServiceSublayers();
        Assert.IsNotNull(createServiceSublayersMethodResult);
        var fetchImageMethodResult = await mapImageLayer.FetchImage(new Extent(99.2562,
                    -10.4508,
                    -25.0100,
                    59.6909,
                    841.3741,
                    195.4235,
                    14.6481,
                    95.6436,
                new SpatialReference(9,
                        "cum",
                        "et",
                        "voluptates"),
                    true,
                    true),
                4,
                5,
            new MapImageLayerFetchImageOptions(674.6514,
                    317.1908,
                    "repudiandae"));
        Assert.IsNotNull(fetchImageMethodResult);
        var findSublayerByIdMethodResult = await mapImageLayer.FindSublayerById(6);
        Assert.IsNotNull(findSublayerByIdMethodResult);
        var loadAllMethodResult = await mapImageLayer.LoadAll();
        Assert.IsNotNull(loadAllMethodResult);
        PortalItem testPortalItem = new PortalItem(PortalItemAccess.Public,
                    "impedit",
                    "reprehenderit",
                    258.6903,
                    ["qui",
                        "doloribus",
                        "id",
                        "expedita"],
                    new DateTime(2010, 9, 14, 0, 56, 30),
                    "sunt",
                    "et nam molestiae qui dolores quos",
                new Extent(50.9478,
                        -144.7811,
                        -8.9714,
                        -10.9707,
                        620.8188,
                        263.1917,
                        38.7730,
                        760.3410,
                    new SpatialReference(6,
                            "consequuntur",
                            "et",
                            "exercitationem"),
                        true,
                        true),
                    ["soluta",
                        "doloremque"],
                    "ipsum",
                    new DateTime(2009, 4, 21, 15, 4, 34),
                    "phone",
                    666.2899);
        await mapImageLayer.SetPortalItem(testPortalItem);
        var portalItem = await mapImageLayer.GetPortalItem();
        Assert.AreEqual(testPortalItem, portalItem);
        BlendMode testBlendMode = BlendMode.DestinationAtop;
        await mapImageLayer.SetBlendMode(testBlendMode);
        var blendMode = await mapImageLayer.GetBlendMode();
        Assert.AreEqual(testBlendMode, blendMode);
        TimeExtent testTimeExtent = new TimeExtent(new DateTime(2010, 6, 15, 17, 33, 15),
                    new DateTime(2022, 3, 14, 10, 22, 3));
        await mapImageLayer.SetTimeExtent(testTimeExtent);
        var timeExtent = await mapImageLayer.GetTimeExtent();
        Assert.AreEqual(testTimeExtent, timeExtent);
        TimeInfo testTimeInfo = new TimeInfo("veniam",
                    "laborum",
                new TimeExtent(new DateTime(2020, 5, 16, 20, 56, 46),
                        new DateTime(2023, 6, 13, 11, 52, 54)),
                new TimeInterval(TemporalTime.Days,
                        979.6752),
                    [new DateTime(2009, 9, 22, 12, 57, 42),
                        new DateTime(2008, 11, 22, 1, 23, 38)],
                    "Europe/Kiev",
                    "recusandae");
        await mapImageLayer.SetTimeInfo(testTimeInfo);
        var timeInfo = await mapImageLayer.GetTimeInfo();
        Assert.AreEqual(testTimeInfo, timeInfo);
        IReadOnlyList<Sublayer> testSublayers = [new Sublayer(2,
                    true,
                    true,
                ListMode.Show,
                    30138902.8707,
                    22723.7524,
                    0.5491,
                    true,
                    "non quos harum",
                    true,
                    "libero",
                new LayerFloorInfo("est"),
                [new Label(LabelPlacement.AboveLeft,
                        "aut",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        9701365.4718,
                        41126.0126,
                        true,
                        new Dimension(829.9517),
                    new TextSymbol("modi consequatur sunt",
                        new MapColor(26, 98, 118),
                        new MapColor(183, 166, 44),
                            new Dimension(939.9492),
                        new MapFont(new Dimension(11.3637),
                                "Helvetica",
                            MapFontStyle.Normal,
                            FontWeight.Bold,
                            TextDecoration.None),
                            611.3761,
                        new MapColor(218, 42, 109),
                        new MapColor(39, 23, 83),
                            29.7526,
                        HorizontalAlignment.Center,
                            true,
                            994.8031,
                            new Dimension(279.3449),
                            true),
                        true,
                        "ObjectID = 1"),
                new Label(LabelPlacement.CenterBefore,
                        "sit",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        19340933.2046,
                        1960.0902,
                        true,
                        new Dimension(739.1071),
                    new TextSymbol("ad qui autem",
                        new MapColor(197, 55, 210),
                        new MapColor(111, 65, 147),
                            new Dimension(680.0547),
                        new MapFont(new Dimension(441.0900),
                                "Bookman",
                            MapFontStyle.Oblique,
                            FontWeight.Normal,
                            TextDecoration.Underline),
                            454.5308,
                        new MapColor(175, 87, 36),
                        new MapColor(182, 129, 177),
                            373.0914,
                        HorizontalAlignment.Right,
                            true,
                            919.6483,
                            new Dimension(825.7914),
                            true),
                        true,
                        "Province = 'Ontario'"),
                new Label(LabelPlacement.AboveLeft,
                        "officia",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        30606980.4772,
                        45623.7980,
                        true,
                        new Dimension(704.4977),
                    new TextSymbol("ratione veritatis molestiae",
                        new MapColor(206, 86, 18),
                        new MapColor(253, 2, 117),
                            new Dimension(684.9339),
                        new MapFont(new Dimension(482.4109),
                                "Courier New",
                            MapFontStyle.Oblique,
                            FontWeight.Bolder,
                            TextDecoration.None),
                            795.7268,
                        new MapColor(19, 193, 158),
                        new MapColor(138, 2, 182),
                            333.3945,
                        HorizontalAlignment.Right,
                            true,
                            19.8952,
                            new Dimension(322.0545),
                            true),
                        true,
                        "Province = 'Ontario'"),
                new Label(LabelPlacement.CenterCenter,
                        "autem",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Parallel,
                        25636406.9184,
                        3399.4755,
                        true,
                        new Dimension(228.2246),
                    new TextSymbol("consequuntur esse blanditiis",
                        new MapColor(236, 144, 169),
                        new MapColor(202, 83, 172),
                            new Dimension(310.0678),
                        new MapFont(new Dimension(719.6815),
                                "Times New Roman",
                            MapFontStyle.Normal,
                            FontWeight.Bold,
                            TextDecoration.Underline),
                            574.9286,
                        new MapColor(176, 199, 1),
                        new MapColor(53, 39, 187),
                            92.5753,
                        HorizontalAlignment.Right,
                            true,
                            499.4945,
                            new Dimension(776.2103),
                            true),
                        true,
                        "Name = 'John Doe'")],
                new PopupTemplate("voluptatibus sapiente et",
                        "culpa",
                        ["in",
                            "natus"],
                    [new FieldInfo("email",
                            "sit",
                            "magni",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(8,
                                true,
                            DateFormat.ShortDateLe),
                            true,
                            true,
                        StatisticType.Count),
                    new FieldInfo("category",
                            "et",
                            "dolores",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(9,
                                true,
                            DateFormat.LongMonthDayYearLongTime24),
                            true,
                            true,
                        StatisticType.Sum),
                    new FieldInfo("title",
                            "laudantium",
                            "inventore",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(2,
                                true,
                            DateFormat.LongDate),
                            true,
                            true,
                        StatisticType.Stddev),
                    new FieldInfo("phone",
                            "qui",
                            "aut",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(8,
                                true,
                            DateFormat.ShortDateLeLongTime),
                            true,
                            true,
                        StatisticType.Count)],
                    [new MediaPopupContent("est iusto veritatis",
                            "minus qui quis consequatur ea",
                        [new ColumnChartMediaInfo("dolorem sed nobis",
                                "facere",
                                "voluptate praesentium architecto",
                            new ChartMediaInfoValue(["inventore",
                                    "assumenda",
                                    "eos"],
                                    "quae",
                                    "et",
                                [new ChartMediaInfoValueSeries("phone",
                                        "tenetur",
                                        586.8954),
                                new ChartMediaInfoValueSeries("title",
                                        "culpa",
                                        197.7128),
                                new ChartMediaInfoValueSeries("createdAt",
                                        "quibusdam",
                                        822.1284)],
                                [new MapColor(35, 104, 200),
                                new MapColor(176, 214, 207)]))],
                            7),
                    new TextPopupContent("molestiae sunt nesciunt"),
                    new ExpressionPopupContent(new ElementExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                                "optio",
                                "atque laudantium consectetur"))],
                    [new ExpressionInfo("var area = Geometry($feature).area; return area;",
                            "token",
                            "maiores nihil accusamus",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("sed molestiae iure",
                            "13646eb6-6db2-3bde-dda2-18b32dceaa42",
                            () => { Console.WriteLine("est"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "password",
                            "sint")])),
            new Sublayer(6,
                    true,
                    true,
                ListMode.Hide,
                    36350243.9381,
                    44020.4457,
                    0.5816,
                    true,
                    "est non necessitatibus",
                    true,
                    "sed",
                new LayerFloorInfo("quasi"),
                [new Label(LabelPlacement.BelowAfter,
                        "dolores",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        18011995.3555,
                        37287.4915,
                        true,
                        new Dimension(679.8937),
                    new TextSymbol("nihil praesentium expedita",
                        new MapColor(80, 66, 182),
                        new MapColor(19, 162, 63),
                            new Dimension(206.0956),
                        new MapFont(new Dimension(641.8871),
                                "Garamond",
                            MapFontStyle.Italic,
                            FontWeight.Normal,
                            TextDecoration.None),
                            690.4651,
                        new MapColor(39, 44, 190),
                        new MapColor(157, 150, 36),
                            587.2424,
                        HorizontalAlignment.Left,
                            true,
                            724.9905,
                            new Dimension(692.1570),
                            true),
                        true,
                        "Age > 21"),
                new Label(LabelPlacement.AboveEnd,
                        "ea",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Parallel,
                        43486243.3433,
                        4020.0813,
                        true,
                        new Dimension(314.4894),
                    new TextSymbol("voluptatem voluptatum doloribus",
                        new MapColor(242, 211, 73),
                        new MapColor(43, 112, 217),
                            new Dimension(647.3597),
                        new MapFont(new Dimension(553.8860),
                                "Verdana",
                            MapFontStyle.Italic,
                            FontWeight.Lighter,
                            TextDecoration.LineThrough),
                            846.6954,
                        new MapColor(251, 138, 164),
                        new MapColor(157, 7, 38),
                            344.7125,
                        HorizontalAlignment.Left,
                            true,
                            18.2101,
                            new Dimension(736.8106),
                            true),
                        true,
                        "Age > 21"),
                new Label(LabelPlacement.AboveAlong,
                        "sed",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        39416171.7182,
                        19764.7556,
                        true,
                        new Dimension(448.8268),
                    new TextSymbol("optio libero sequi",
                        new MapColor(125, 7, 72),
                        new MapColor(31, 212, 88),
                            new Dimension(851.3957),
                        new MapFont(new Dimension(165.4827),
                                "Helvetica",
                            MapFontStyle.Italic,
                            FontWeight.Normal,
                            TextDecoration.None),
                            510.0095,
                        new MapColor(214, 219, 150),
                        new MapColor(49, 152, 0),
                            84.2643,
                        HorizontalAlignment.Center,
                            true,
                            912.0717,
                            new Dimension(887.6922),
                            true),
                        true,
                        "Province = 'Ontario'")],
                new PopupTemplate("qui nisi eveniet",
                        "similique",
                        ["aut",
                            "officiis"],
                    [new FieldInfo("avatar",
                            "ipsa",
                            "delectus",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(3,
                                true,
                            DateFormat.LongMonthDayYearLongTime),
                            true,
                            true,
                        StatisticType.Var)],
                    [new MediaPopupContent("dolore fuga aperiam",
                            "minima magnam et odit officia quis minima",
                        [new BarChartMediaInfo("est ab asperiores",
                                "numquam",
                                "nihil voluptas impedit",
                            new ChartMediaInfoValue(["quo",
                                    "repudiandae",
                                    "est"],
                                    "inventore",
                                    "culpa",
                                [new ChartMediaInfoValueSeries("group",
                                        "consequatur",
                                        381.6165),
                                new ChartMediaInfoValueSeries("phone",
                                        "alias",
                                        789.0070),
                                new ChartMediaInfoValueSeries("password",
                                        "recusandae",
                                        529.3802)],
                                [new MapColor(99, 49, 233),
                                new MapColor(105, 174, 53),
                                new MapColor(229, 159, 224)])),
                        new LineChartMediaInfo("doloribus magnam aut",
                                "labore",
                                "aspernatur quas rerum",
                            new ChartMediaInfoValue(["sed",
                                    "repudiandae",
                                    "tempore",
                                    "et"],
                                    "in",
                                    "eius",
                                [new ChartMediaInfoValueSeries("token",
                                        "molestiae",
                                        247.9976),
                                new ChartMediaInfoValueSeries("status",
                                        "eos",
                                        933.5103)],
                                [new MapColor(231, 23, 41)])),
                        new ImageMediaInfo("sapiente earum qui",
                                "omnis",
                                "vel numquam accusamus",
                            new ImageMediaInfoValue("http://jadon.net",
                                    "http://seth.com"),
                                275.5101)],
                            8),
                    new ExpressionPopupContent(new ElementExpressionInfo("return $feature['FieldName'];",
                                "nihil",
                                "voluptas natus accusamus")),
                    new FieldsPopupContent([new FieldInfo("title",
                                "aliquam",
                                "debitis",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(4,
                                    true,
                                DateFormat.LongDateLongTime),
                                true,
                                true,
                            StatisticType.Var),
                        new FieldInfo("status",
                                "et",
                                "iure",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(9,
                                    true,
                                DateFormat.DayShortMonthYearLongTime),
                                true,
                                true,
                            StatisticType.Min),
                        new FieldInfo("phone",
                                "occaecati",
                                "quasi",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(2,
                                    true,
                                DateFormat.Year),
                                true,
                                true,
                            StatisticType.Min)],
                            "voluptas est ipsum praesentium",
                            "quis nesciunt esse")],
                    [new ExpressionInfo("return $feature['FieldName'];",
                            "email",
                            "aspernatur enim voluptates",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                            "group",
                            "et animi error",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("consequuntur velit ratione",
                            "809f8b8e-fa47-28e7-2118-629d50b1414d",
                            () => { Console.WriteLine("tempora"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "email",
                            "voluptas"),
                    new ActionButton("et perferendis ut",
                            "https://picsum.photos/640/480/?image=926",
                            "fa469b90-054f-06e5-242e-d09fa2a08018",
                            () => { Console.WriteLine("eum"); return Task.CompletedTask; },
                            "name",
                            true,
                            true,
                            true,
                            "consequatur"),
                    new ActionToggle("odit et aut",
                            "c4961d29-8365-c746-bfa3-55f4eab0bb72",
                            () => { Console.WriteLine("occaecati"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "token",
                            "minus")]))];
        await mapImageLayer.SetSublayers(testSublayers);
        var sublayers = await mapImageLayer.GetSublayers();
        Assert.AreEqual(testSublayers, sublayers);
        ListMode testListMode = ListMode.Show;
        await mapImageLayer.SetListMode(testListMode);
        var listMode = await mapImageLayer.GetListMode();
        Assert.AreEqual(testListMode, listMode);
        Extent testFullExtent = new Extent(-42.7914,
                    -173.0751,
                    -82.2111,
                    -68.8388,
                    649.2188,
                    210.4724,
                    490.4786,
                    222.0977,
                new SpatialReference(5,
                        "sed",
                        "vel",
                        "quis"),
                    true,
                    true);
        await mapImageLayer.SetFullExtent(testFullExtent);
        var fullExtent = await mapImageLayer.GetFullExtent();
        Assert.AreEqual(testFullExtent, fullExtent);
        IReadOnlyList<Sublayer> testSubtables = [new Sublayer(1,
                    true,
                    true,
                ListMode.Hide,
                    97117.1620,
                    32588.5738,
                    0.0618,
                    true,
                    "cupiditate amet eos",
                    true,
                    "eius",
                new LayerFloorInfo("delectus"),
                [new Label(LabelPlacement.CenterBefore,
                        "sunt",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Curved,
                        38854104.2341,
                        49605.3532,
                        true,
                        new Dimension(704.9895),
                    new TextSymbol("consequuntur quaerat sed",
                        new MapColor(154, 244, 116),
                        new MapColor(142, 234, 123),
                            new Dimension(392.1717),
                        new MapFont(new Dimension(651.0102),
                                "Courier New",
                            MapFontStyle.Normal,
                            FontWeight.Lighter,
                            TextDecoration.LineThrough),
                            472.4904,
                        new MapColor(198, 3, 126),
                        new MapColor(225, 184, 17),
                            65.4221,
                        HorizontalAlignment.Right,
                            true,
                            99.0279,
                            new Dimension(622.5421),
                            true),
                        true,
                        "Country = 'Canada'"),
                new Label(LabelPlacement.BelowEnd,
                        "omnis",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Parallel,
                        44665233.0669,
                        34398.2047,
                        true,
                        new Dimension(452.8940),
                    new TextSymbol("veniam nihil consequatur",
                        new MapColor(194, 222, 131),
                        new MapColor(226, 50, 186),
                            new Dimension(629.9158),
                        new MapFont(new Dimension(461.7136),
                                "Helvetica",
                            MapFontStyle.Italic,
                            FontWeight.Bolder,
                            TextDecoration.None),
                            134.1154,
                        new MapColor(131, 137, 93),
                        new MapColor(7, 94, 54),
                            947.5783,
                        HorizontalAlignment.Left,
                            true,
                            414.3425,
                            new Dimension(327.3901),
                            true),
                        true,
                        "ObjectID = 1"),
                new Label(LabelPlacement.CenterBefore,
                        "pariatur",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        43651216.6896,
                        15982.2789,
                        true,
                        new Dimension(766.8192),
                    new TextSymbol("qui quo voluptatem",
                        new MapColor(2, 99, 51),
                        new MapColor(133, 218, 20),
                            new Dimension(195.8135),
                        new MapFont(new Dimension(671.7173),
                                "Helvetica",
                            MapFontStyle.Oblique,
                            FontWeight.Bold,
                            TextDecoration.None),
                            797.9932,
                        new MapColor(220, 65, 112),
                        new MapColor(22, 186, 68),
                            226.2970,
                        HorizontalAlignment.Left,
                            true,
                            365.1939,
                            new Dimension(937.3560),
                            true),
                        true,
                        "PostalCode = 'M5V 1J9'"),
                new Label(LabelPlacement.CenterCenter,
                        "ipsum",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        34233154.0037,
                        21679.6872,
                        true,
                        new Dimension(953.1791),
                    new TextSymbol("aut alias voluptatem",
                        new MapColor(49, 171, 126),
                        new MapColor(181, 107, 102),
                            new Dimension(819.0316),
                        new MapFont(new Dimension(653.2772),
                                "Georgia",
                            MapFontStyle.Normal,
                            FontWeight.Bolder,
                            TextDecoration.Underline),
                            348.0658,
                        new MapColor(143, 237, 14),
                        new MapColor(177, 73, 69),
                            237.6983,
                        HorizontalAlignment.Center,
                            true,
                            371.9341,
                            new Dimension(915.9113),
                            true),
                        true,
                        "City = 'Toronto'")],
                new PopupTemplate("nobis iure dolorem",
                        "est",
                        ["rerum",
                            "vero"],
                    [new FieldInfo("updatedAt",
                            "quaerat",
                            "cumque",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(1,
                                true,
                            DateFormat.DayShortMonthYearShortTime),
                            true,
                            true,
                        StatisticType.Min),
                    new FieldInfo("title",
                            "voluptatem",
                            "quia",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(3,
                                true,
                            DateFormat.ShortDateShortTime24),
                            true,
                            true,
                        StatisticType.Max)],
                    [new FieldsPopupContent([new FieldInfo("email",
                                "qui",
                                "veniam",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.DayShortMonthYearLongTime24),
                                true,
                                true,
                            StatisticType.Max),
                        new FieldInfo("token",
                                "architecto",
                                "itaque",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(2,
                                    true,
                                DateFormat.DayShortMonthYearLongTime),
                                true,
                                true,
                            StatisticType.Max),
                        new FieldInfo("comment",
                                "impedit",
                                "voluptatem",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(6,
                                    true,
                                DateFormat.ShortMonthYear),
                                true,
                                true,
                            StatisticType.Sum),
                        new FieldInfo("category",
                                "repellendus",
                                "distinctio",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(4,
                                    true,
                                DateFormat.DayShortMonthYear),
                                true,
                                true,
                            StatisticType.Count)],
                            "occaecati autem deleniti aut maiores",
                            "deleniti et quas"),
                    new FieldsPopupContent([new FieldInfo("status",
                                "vitae",
                                "ut",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(6,
                                    true,
                                DateFormat.ShortDateShortTime),
                                true,
                                true,
                            StatisticType.Stddev),
                        new FieldInfo("category",
                                "cupiditate",
                                "tempora",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(3,
                                    true,
                                DateFormat.LongDateShortTime),
                                true,
                                true,
                            StatisticType.Min),
                        new FieldInfo("group",
                                "et",
                                "voluptates",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(7,
                                    true,
                                DateFormat.ShortDateShortTime),
                                true,
                                true,
                            StatisticType.Var),
                        new FieldInfo("id",
                                "eveniet",
                                "modi",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(4,
                                    true,
                                DateFormat.ShortDateLeLongTime24),
                                true,
                                true,
                            StatisticType.Max)],
                            "voluptatum molestiae quod voluptatem minima",
                            "natus iusto ipsa")],
                    [new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                            "email",
                            "ad est nobis",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("consequatur doloribus rem",
                            "6d9dae3c-7dba-fb8b-779e-d8b0d2c27601",
                            () => { Console.WriteLine("nesciunt"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "phone",
                            "eum"),
                    new ActionToggle("optio rem nam",
                            "9b99f4f6-1c30-f494-9415-bd9e82d7a389",
                            () => { Console.WriteLine("deleniti"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "group",
                            "eveniet"),
                    new ActionToggle("cupiditate qui nam",
                            "eb93f065-367a-ce29-81f8-562edf29cf55",
                            () => { Console.WriteLine("nobis"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "name",
                            "assumenda")])),
            new Sublayer(4,
                    true,
                    true,
                ListMode.Show,
                    22097287.5964,
                    28247.0084,
                    0.9434,
                    true,
                    "vel perspiciatis aliquid",
                    true,
                    "sit",
                new LayerFloorInfo("non"),
                [new Label(LabelPlacement.AlwaysHorizontal,
                        "molestiae",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        33702073.6399,
                        13176.0386,
                        true,
                        new Dimension(384.5624),
                    new TextSymbol("ex totam voluptas",
                        new MapColor(156, 97, 149),
                        new MapColor(191, 10, 42),
                            new Dimension(626.0727),
                        new MapFont(new Dimension(758.9032),
                                "Helvetica",
                            MapFontStyle.Oblique,
                            FontWeight.Bold,
                            TextDecoration.Underline),
                            352.2407,
                        new MapColor(149, 176, 219),
                        new MapColor(111, 145, 199),
                            939.7681,
                        HorizontalAlignment.Right,
                            true,
                            851.0576,
                            new Dimension(194.5734),
                            true),
                        true,
                        "Province = 'Ontario'")],
                new PopupTemplate("molestias aut quod",
                        "et",
                        ["aliquam",
                            "ea"],
                    [new FieldInfo("createdAt",
                            "repudiandae",
                            "aperiam",
                        StringFieldOption.TextArea,
                        new FieldInfoFormat(2,
                                true,
                            DateFormat.DayShortMonthYearShortTime24),
                            true,
                            true,
                        StatisticType.Stddev)],
                    [new TextPopupContent("quaerat praesentium et"),
                    new AttachmentsPopupContent("voluptates dolores natus",
                            "et ex ratione quia nihil",
                            AttachmentsPopupContentDisplayType.Preview),
                    new AttachmentsPopupContent("modi eos accusantium",
                            "voluptates animi voluptates voluptas",
                            AttachmentsPopupContentDisplayType.Preview)],
                    [new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                            "category",
                            "repellendus et modi",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                            "id",
                            "voluptatem non nulla",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("aperiam aperiam ut",
                            "47a9fdca-e134-459e-953a-78a43ba444c8",
                            () => { Console.WriteLine("est"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "updatedAt",
                            "cumque"),
                    new ActionButton("eos dolorem qui",
                            "https://picsum.photos/640/480/?image=335",
                            "82773f63-5c29-4def-ef5c-eff35a5309a8",
                            () => { Console.WriteLine("et"); return Task.CompletedTask; },
                            "id",
                            true,
                            true,
                            true,
                            "consequatur")])),
            new Sublayer(9,
                    true,
                    true,
                ListMode.Hide,
                    31250562.8583,
                    27918.6151,
                    0.9631,
                    true,
                    "temporibus ullam laboriosam",
                    true,
                    "et",
                new LayerFloorInfo("culpa"),
                [new Label(LabelPlacement.CenterRight,
                        "quo",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Curved,
                        14226255.5015,
                        21810.8363,
                        true,
                        new Dimension(602.2648),
                    new TextSymbol("nam sed aliquam",
                        new MapColor(241, 232, 89),
                        new MapColor(174, 58, 78),
                            new Dimension(575.3490),
                        new MapFont(new Dimension(461.2835),
                                "Verdana",
                            MapFontStyle.Oblique,
                            FontWeight.Bolder,
                            TextDecoration.LineThrough),
                            653.0168,
                        new MapColor(143, 17, 85),
                        new MapColor(151, 153, 113),
                            294.1533,
                        HorizontalAlignment.Right,
                            true,
                            355.8663,
                            new Dimension(400.3285),
                            true),
                        true,
                        "Street = '123 Main St.'"),
                new Label(LabelPlacement.BelowCenter,
                        "itaque",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        41650108.3540,
                        31121.7376,
                        true,
                        new Dimension(272.1875),
                    new TextSymbol("quidem dolor qui",
                        new MapColor(97, 158, 67),
                        new MapColor(62, 132, 218),
                            new Dimension(367.5105),
                        new MapFont(new Dimension(237.8690),
                                "Verdana",
                            MapFontStyle.Italic,
                            FontWeight.Normal,
                            TextDecoration.None),
                            56.3241,
                        new MapColor(168, 140, 21),
                        new MapColor(8, 91, 126),
                            381.5140,
                        HorizontalAlignment.Right,
                            true,
                            728.5137,
                            new Dimension(388.8476),
                            true),
                        true,
                        "Name = 'John Doe'"),
                new Label(LabelPlacement.CenterEnd,
                        "veniam",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Curved,
                        15674798.4533,
                        14113.0451,
                        true,
                        new Dimension(959.4816),
                    new TextSymbol("esse occaecati dolore",
                        new MapColor(98, 244, 204),
                        new MapColor(154, 78, 119),
                            new Dimension(593.0461),
                        new MapFont(new Dimension(315.1976),
                                "Bookman",
                            MapFontStyle.Oblique,
                            FontWeight.Lighter,
                            TextDecoration.None),
                            438.2829,
                        new MapColor(1, 251, 147),
                        new MapColor(88, 61, 82),
                            453.0019,
                        HorizontalAlignment.Center,
                            true,
                            902.2697,
                            new Dimension(161.9903),
                            true),
                        true,
                        "Age > 21"),
                new Label(LabelPlacement.CenterAfter,
                        "amet",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.Static,
                    LabelPosition.Parallel,
                        11645168.8238,
                        31605.9883,
                        true,
                        new Dimension(967.7157),
                    new TextSymbol("atque pariatur ad",
                        new MapColor(146, 21, 84),
                        new MapColor(181, 100, 112),
                            new Dimension(839.2664),
                        new MapFont(new Dimension(761.2448),
                                "Bookman",
                            MapFontStyle.Italic,
                            FontWeight.Normal,
                            TextDecoration.Underline),
                            736.0973,
                        new MapColor(228, 60, 252),
                        new MapColor(26, 56, 24),
                            884.7562,
                        HorizontalAlignment.Center,
                            true,
                            504.8264,
                            new Dimension(444.7017),
                            true),
                        true,
                        "Province = 'Ontario'")],
                new PopupTemplate("in omnis iusto",
                        "nulla",
                        ["eligendi",
                            "sapiente"],
                    [new FieldInfo("password",
                            "eveniet",
                            "et",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(4,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Var),
                    new FieldInfo("avatar",
                            "in",
                            "beatae",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(6,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Stddev),
                    new FieldInfo("avatar",
                            "est",
                            "sunt",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(1,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Stddev),
                    new FieldInfo("status",
                            "accusamus",
                            "natus",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(2,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Max)],
                    [new AttachmentsPopupContent("est expedita ab",
                            "et ut totam et est aut in",
                            AttachmentsPopupContentDisplayType.Preview),
                    new ExpressionPopupContent(new ElementExpressionInfo("return $feature.City + ', ' + $feature.Country;",
                                "iste",
                                "tempore cupiditate nihil")),
                    new RelationshipPopupContent("temporibus enim beatae",
                            "autem nihil rerum aut nesciunt provident natus",
                            7,
                            "voluptatem",
                        [new RelatedRecordsInfoFieldOrder("soluta",
                            OrderBy.Desc),
                        new RelatedRecordsInfoFieldOrder("possimus",
                            OrderBy.Desc)],
                            4)],
                    [new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                            "id",
                            "mollitia error quidem",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("return $feature['FieldName'];",
                            "status",
                            "enim quibusdam soluta",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionToggle("cumque omnis autem",
                            "9e3e4450-77f2-f3b8-e958-93eeb513115a",
                            () => { Console.WriteLine("ea"); return Task.CompletedTask; },
                            true,
                            true,
                            true,
                            true,
                            "token",
                            "quia")])),
            new Sublayer(6,
                    true,
                    true,
                ListMode.Hide,
                    27024181.9649,
                    32623.1456,
                    0.7574,
                    true,
                    "aut est dolores",
                    true,
                    "nihil",
                new LayerFloorInfo("dolores"),
                [new Label(LabelPlacement.CenterRight,
                        "et",
                        new LabelExpressionInfo(),
                        true,
                    DeconflictionStrategy.None,
                    LabelPosition.Parallel,
                        42567146.8889,
                        41126.3112,
                        true,
                        new Dimension(971.8797),
                    new TextSymbol("aut voluptatibus aperiam",
                        new MapColor(247, 194, 139),
                        new MapColor(90, 63, 99),
                            new Dimension(434.9824),
                        new MapFont(new Dimension(313.0721),
                                "Verdana",
                            MapFontStyle.Normal,
                            FontWeight.Lighter,
                            TextDecoration.LineThrough),
                            779.8107,
                        new MapColor(240, 194, 204),
                        new MapColor(1, 134, 21),
                            807.7525,
                        HorizontalAlignment.Center,
                            true,
                            232.9551,
                            new Dimension(556.9950),
                            true),
                        true,
                        "City = 'Toronto'")],
                new PopupTemplate("voluptatem rerum laboriosam",
                        "veniam",
                        ["laborum",
                            "quaerat",
                            "excepturi",
                            "molestiae"],
                    [new FieldInfo("comment",
                            "quo",
                            "ducimus",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(6,
                                true,
                            DateFormat.ShortMonthYear),
                            true,
                            true,
                        StatisticType.Avg),
                    new FieldInfo("name",
                            "exercitationem",
                            "qui",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(5,
                                true,
                            DateFormat.LongDateLongTime24),
                            true,
                            true,
                        StatisticType.Sum),
                    new FieldInfo("status",
                            "est",
                            "minima",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(7,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Min)],
                    [new AttachmentsPopupContent("sint et qui",
                            "distinctio asperiores error consequatur ut",
                            AttachmentsPopupContentDisplayType.Auto),
                    new MediaPopupContent("culpa quis soluta",
                            "dolores occaecati tempore sed tempora",
                        [new ColumnChartMediaInfo("voluptatibus sint distinctio",
                                "occaecati",
                                "perferendis distinctio assumenda",
                            new ChartMediaInfoValue(["aut",
                                    "et"],
                                    "delectus",
                                    "aut",
                                [new ChartMediaInfoValueSeries("createdAt",
                                        "qui",
                                        172.2825)],
                                [new MapColor(32, 163, 154),
                                new MapColor(119, 192, 89),
                                new MapColor(88, 151, 197),
                                new MapColor(142, 173, 145)])),
                        new BarChartMediaInfo("distinctio optio tenetur",
                                "sit",
                                "blanditiis recusandae et",
                            new ChartMediaInfoValue(["veritatis",
                                    "est",
                                    "ipsum",
                                    "tempore"],
                                    "aut",
                                    "saepe",
                                [new ChartMediaInfoValueSeries("comment",
                                        "officiis",
                                        90.7341),
                                new ChartMediaInfoValueSeries("comment",
                                        "rem",
                                        696.8370)],
                                [new MapColor(46, 124, 29),
                                new MapColor(2, 237, 226),
                                new MapColor(67, 123, 242)])),
                        new ImageMediaInfo("laudantium doloribus voluptatem",
                                "veniam",
                                "nihil doloremque soluta",
                            new ImageMediaInfoValue("https://oleta.name",
                                    "https://christina.name"),
                                639.3918)],
                            9),
                    new FieldsPopupContent([new FieldInfo("id",
                                "rerum",
                                "rem",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(3,
                                    true,
                                DateFormat.DayShortMonthYearShortTime),
                                true,
                                true,
                            StatisticType.Count),
                        new FieldInfo("email",
                                "laudantium",
                                "placeat",
                            StringFieldOption.RichText,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.LongDateShortTime24),
                                true,
                                true,
                            StatisticType.Count),
                        new FieldInfo("phone",
                                "voluptatem",
                                "ut",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(9,
                                    true,
                                DateFormat.LongDateShortTime),
                                true,
                                true,
                            StatisticType.Min),
                        new FieldInfo("token",
                                "est",
                                "voluptatem",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(1,
                                    true,
                                DateFormat.Year),
                                true,
                                true,
                            StatisticType.Var)],
                            "qui corporis debitis est",
                            "quasi expedita atque"),
                    new FieldsPopupContent([new FieldInfo("title",
                                "libero",
                                "fuga",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.ShortMonthYear),
                                true,
                                true,
                            StatisticType.Sum),
                        new FieldInfo("title",
                                "adipisci",
                                "ipsum",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(5,
                                    true,
                                DateFormat.LongDateShortTime),
                                true,
                                true,
                            StatisticType.Stddev),
                        new FieldInfo("title",
                                "cupiditate",
                                "odit",
                            StringFieldOption.TextArea,
                            new FieldInfoFormat(7,
                                    true,
                                DateFormat.LongMonthYear),
                                true,
                                true,
                            StatisticType.Count)],
                            "harum numquam eum molestiae ea dolores officia",
                            "quae voluptatem rerum")],
                    [new ExpressionInfo("return $feature['FieldName'];",
                            "group",
                            "qui adipisci facilis",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                    [new ActionButton("dolor natus voluptatem",
                            "https://picsum.photos/640/480/?image=908",
                            "ed679dbc-c427-0670-9728-9c83680a212c",
                            () => { Console.WriteLine("velit"); return Task.CompletedTask; },
                            "group",
                            true,
                            true,
                            true,
                            "et"),
                    new ActionButton("aspernatur doloribus dolores",
                            "https://picsum.photos/640/480/?image=936",
                            "948ed40f-d0b4-e6fe-6058-bef3880d7d20",
                            () => { Console.WriteLine("voluptas"); return Task.CompletedTask; },
                            "updatedAt",
                            true,
                            true,
                            true,
                            "nobis"),
                    new ActionButton("rem itaque debitis",
                            "https://picsum.photos/640/480/?image=117",
                            "e72b5283-03e1-6173-79f2-73c2537130f9",
                            () => { Console.WriteLine("quo"); return Task.CompletedTask; },
                            "email",
                            true,
                            true,
                            true,
                            "praesentium")]))];
        await mapImageLayer.SetSubtables(testSubtables);
        var subtables = await mapImageLayer.GetSubtables();
        Assert.AreEqual(testSubtables, subtables);
        TimeInterval testTimeOffset = new TimeInterval(TemporalTime.Decades,
                    123.0587);
        await mapImageLayer.SetTimeOffset(testTimeOffset);
        var timeOffset = await mapImageLayer.GetTimeOffset();
        Assert.AreEqual(testTimeOffset, timeOffset);
        TimeExtent testVisibilityTimeExtent = new TimeExtent(new DateTime(2004, 5, 25, 1, 8, 12),
                    new DateTime(2002, 3, 21, 0, 23, 34));
        await mapImageLayer.SetVisibilityTimeExtent(testVisibilityTimeExtent);
        var visibilityTimeExtent = await mapImageLayer.GetVisibilityTimeExtent();
        Assert.AreEqual(testVisibilityTimeExtent, visibilityTimeExtent);
    }
}
