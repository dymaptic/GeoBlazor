@inherits TestRunnerBase

@{
    base.BuildRenderTree(__builder);
}

@code {

    [TestMethod]
    public async Task TestCanRenderGeneratedTableListListItemPanelWidget(Action renderHandler)
    {
        TableListListItemPanelWidget? tableListListItemPanelWidget = null;

        AddMapRenderFragment(
            @<MapView class="map-view" OnViewRendered="renderHandler">
                <Map>
                    <Basemap>
                        <BasemapStyle Name="BasemapStyleName.ArcgisTopographic" />
                    </Basemap>
                </Map>
                <TableListListItemPanelWidget 
                    Disabled="@(true)"
                    FlowEnabled="@(true)"
                    Icon="@("et")"
                    Image="@("https://picsum.photos/640/480/?image=1012")"
                    Label="@("provident")"
                    ListItem="@(new TableListListItem(true,
                            [[new ActionButton("animi aspernatur cumque",
                                "https://picsum.photos/640/480/?image=1030",
                                "18b4048d-7cb3-3b96-ce2f-a225615ae73a",
                                () => { Console.WriteLine("earum"); return Task.CompletedTask; },
                                "status",
                                true,
                                true,
                                true,
                                "nulla")],
                                [new ActionButton("eaque ut explicabo",
                                    "https://picsum.photos/640/480/?image=128",
                                    "0f90f417-a903-674b-1c58-d7f0f1615193",
                                    () => { Console.WriteLine("earum"); return Task.CompletedTask; },
                                    "category",
                                    true,
                                    true,
                                    true,
                                    "quis")]],
                            true,
                        new MapImageLayer("https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",
                            new PortalItem(),
                            BlendMode.Overlay,
                                default,
                                479.5238,
                                new Effect("est",
                                    16813397.9066),
                                "1.8.8.0",
                                MapImageFormat.Png24,
                                8,
                                2,
                                true,
                                true,
                                2764420.0298,
                                9992.3435,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                            null,
                                true),
                        new TableListListItemPanelWidget("exercitationem",
                                "iste",
                                "ipsam",
                                true,
                                true,
                                "https://picsum.photos/640/480/?image=694",
                            new TableListListItem(true,
                                    [[new ActionButton("voluptatum eveniet sit",
                                        "https://picsum.photos/640/480/?image=56",
                                        "3e3752ea-9582-7a6e-a924-0e9322049640",
                                        () => { Console.WriteLine("harum"); return Task.CompletedTask; },
                                        "comment",
                                        true,
                                        true,
                                        true,
                                        "modi")],
                                        [new ActionButton("aliquam molestiae voluptate",
                                            "https://picsum.photos/640/480/?image=591",
                                            "8aad754c-31b0-9124-e5f5-0a6b63562a31",
                                            () => { Console.WriteLine("fuga"); return Task.CompletedTask; },
                                            "category",
                                            true,
                                            true,
                                            true,
                                            "temporibus")]],
                                    true,
                                new ElevationLayer("sint",
                                    new Extent(-30.6767,
                                            -165.1809,
                                            -4.2824,
                                            71.4488,
                                            630.1617,
                                            850.7820,
                                            679.3586,
                                            806.8897,
                                        new SpatialReference(8,
                                                "quia",
                                                "in",
                                                "deleniti"),
                                            true,
                                            true),
                                    ListMode.Hide,
                                        0.1862,
                                        true,
                                    new PortalItem(),
                                    new TileInfo(637.5950,
                                            TileInfoFormat.Mixed,
                                            true,
                                        [new LOD(3,
                                                "aliquid",
                                                49.2357,
                                                21344258.1283),
                                        new LOD(8,
                                                "dolore",
                                                32.5283,
                                                30295032.5542)],
                                        new Point(158.7278,
                                                5.2252,
                                                -52.3253,
                                                -54.3629,
                                                175.6197,
                                            new SpatialReference(1,
                                                    "quis",
                                                    "asperiores",
                                                    "dolorem"),
                                                true,
                                                true,
                                                370.0832),
                                            [4],
                                        new SpatialReference(9,
                                                "rem",
                                                "et",
                                                "culpa")),
                                        "soluta ut atque",
                                        "https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/weather_stations_010417/FeatureServer/0",
                                    new TimeExtent(new DateTime(2021, 9, 13, 17, 48, 49),
                                            new DateTime(2014, 8, 27, 6, 58, 50))),
                                new TableListListItemPanelWidget("ad",
                                        "nobis",
                                        "quia",
                                        true,
                                        true,
                                        "https://picsum.photos/640/480/?image=676",
                                    new TableListListItem(true,
                                            [[new ActionButton("voluptatem a impedit",
                                                "https://picsum.photos/640/480/?image=1049",
                                                "960a21d1-b2a6-e93d-6c69-c42f5fec47c2",
                                                () => { Console.WriteLine("est"); return Task.CompletedTask; },
                                                "createdAt",
                                                true,
                                                true,
                                                true,
                                                "incidunt")]],
                                            true,
                                        new KMLLayer("https://earthquake.usgs.gov/fdsnws/event/1/query?format=kml&minmagnitude=5.8",
                                            new PortalItem(),
                                            BlendMode.SourceIn,
                                                new Effect("soluta",
                                                    36990011.7460),
                                            new Extent(129.1861,
                                                    32.2137,
                                                    -21.4090,
                                                    85.7762,
                                                    114.4018,
                                                    230.5365,
                                                    556.0722,
                                                    655.7122,
                                                new SpatialReference(5,
                                                        "est",
                                                        "necessitatibus",
                                                        "enim"),
                                                    true,
                                                    true),
                                            ListMode.Show,
                                                19923449.8428,
                                                14270.8776,
                                                0.7129,
                                                true,
                                            [new KMLSublayer("cupiditate et",
                                                    5,
                                                    "vero",
                                                    "dolores ea quia")],
                                                "illum earum vero",
                                            new TimeExtent(new DateTime(2001, 2, 19, 22, 48, 43),
                                                    new DateTime(2021, 4, 23, 3, 7, 10))),
                                        new TableListListItemPanelWidget("quia",
                                                "error",
                                                "consequatur",
                                                true,
                                                true,
                                                "https://picsum.photos/640/480/?image=731",
                                            new TableListListItem(true,
                                                    [[new ActionButton("id optio perspiciatis",
                                                        "https://picsum.photos/640/480/?image=806",
                                                        "fe714a4f-5de8-4651-29d3-3a082abba712",
                                                        () => { Console.WriteLine("recusandae"); return Task.CompletedTask; },
                                                        "status",
                                                        true,
                                                        true,
                                                        true,
                                                        "eligendi")],
                                                        [null,
                                                            null]],
                                                    true,
                                                new WebTileLayer(BlendMode.HardLight,
                                                        "doloribus",
                                                        null,
                                                    new Extent(66.8553,
                                                            -87.4863,
                                                            -33.0456,
                                                            -76.1927),
                                                    ListMode.Show,
                                                        29817382.2829,
                                                        13992.0563,
                                                        0.0573,
                                                        true,
                                                    new PortalItem(),
                                                        491.0681,
                                                        ["ex"],
                                                    new TileInfo(),
                                                        "earum qui quia"),
                                                new TableListListItemPanelWidget("eaque",
                                                        "corporis",
                                                        "aspernatur",
                                                        true,
                                                        true,
                                                        "https://picsum.photos/640/480/?image=559",
                                                    new TableListListItem(),
                                                        true,
                                                        "qui quia et"),
                                                    "quia nam qui"),
                                                true,
                                                "iste voluptas architecto"),
                                            "maxime nostrum est"),
                                        true,
                                        "ut ab et"),
                                    "in quia velit"),
                                true,
                                "itaque explicabo sed"),
                            "reiciendis voluptatem rerum"))"
                    Open="@(true)"
                    Title="@("laboriosam unde voluptatem")"
                    WidgetId="@("deserunt")">
                </TableListListItemPanelWidget>
            </MapView>);
        await WaitForMapToRender();
        Assert.IsNotNull(tableListListItemPanelWidget!);
        await AssertJavaScript("assertWidgetExists", args: "table-list-list-item-panel");
        TableListListItem testListItem = new TableListListItem(true,
                    [[new ActionButton("blanditiis sed illo",
                        "https://picsum.photos/640/480/?image=763",
                        "13e5924c-8f82-d22a-8a6c-c558b8b14e9f",
                        () => { Console.WriteLine("ex"); return Task.CompletedTask; },
                        "avatar",
                        true,
                        true,
                        true,
                        "sint")]],
                    true,
                new GeoRSSLayer("https://arcgis.github.io/arcgis-samples-javascript/sample-data/layers-georss/sample-georss.xml",
                        "non eos fugit",
                        0.1977,
                        true,
                    ListMode.Hide,
                    BlendMode.Xor,
                        new Effect("sit",
                            45403170.6726),
                    new Extent(-16.2308,
                            -124.0566,
                            -34.5427,
                            -56.8744,
                            104.2166,
                            225.1076,
                            527.8606,
                            415.7439,
                        new SpatialReference(1,
                                "dolor",
                                "et",
                                "sit"),
                            true,
                            true),
                        true,
                    new SimpleLineSymbol(new MapColor(101, 24, 185),
                            new Dimension(319.9149),
                        SimpleLineSymbolStyle.LongDash,
                        Cap.Butt,
                        Join.Miter,
                        new LineSymbolMarker(new MapColor(157, 85, 162),
                            LinePlacement.BeginEnd,
                            LineSymbolMarkerStyle.Square),
                            214.7175),
                        1093154.2369,
                        13495.9242,
                        true,
                    new PictureMarkerSymbol("https://upload.wikimedia.org/wikipedia/commons/5/53/Blue_Glass_Arrow_RTL.svg",
                            new Dimension(703.8960),
                            new Dimension(561.1905),
                            963.3080,
                            new Dimension(688.0659),
                            new Dimension(89.1869),
                        new MapColor(142, 212, 186))),
                new TableListListItemPanelWidget("fugiat",
                        "recusandae",
                        "tempora",
                        true,
                        true,
                        "https://picsum.photos/640/480/?image=467",
                    new TableListListItem(true,
                            [[new ActionButton("unde deserunt laboriosam",
                                "https://picsum.photos/640/480/?image=1015",
                                "3776ee49-384d-b4c1-a11d-89a3ad731ed5",
                                () => { Console.WriteLine("itaque"); return Task.CompletedTask; },
                                "avatar",
                                true,
                                true,
                                true,
                                "suscipit"),
                                new ActionButton("fugiat voluptatem in",
                                    "https://picsum.photos/640/480/?image=278",
                                    "eb62dc2e-e547-4b34-d952-a4b63263c05a",
                                    () => { Console.WriteLine("aliquid"); return Task.CompletedTask; },
                                    "name",
                                    true,
                                    true,
                                    true,
                                    "voluptate")]],
                            true,
                        new ElevationLayer("blanditiis",
                            new Extent(-20.8074,
                                    42.1677,
                                    -27.5795,
                                    -76.3535,
                                    50.1759,
                                    208.0889,
                                    769.4048,
                                    832.9868,
                                new SpatialReference(1,
                                        "quis",
                                        "molestiae",
                                        "dolorem"),
                                    true,
                                    true),
                            ListMode.Hide,
                                0.3486,
                                true,
                            new PortalItem(),
                            new TileInfo(507.0147,
                                    TileInfoFormat.Png24,
                                    true,
                                [new LOD(8,
                                        "id",
                                        89.5066,
                                        27431366.0745),
                                new LOD(9,
                                        "minima",
                                        23.7991,
                                        19184442.4268)],
                                new Point(-86.3366,
                                        -27.2710,
                                        113.9402,
                                        73.2279,
                                        861.5063,
                                    new SpatialReference(8,
                                            "cum",
                                            "eum",
                                            "ut"),
                                        true,
                                        true,
                                        355.1445),
                                    [3,
                                        9],
                                new SpatialReference(7,
                                        "hic",
                                        "porro",
                                        "molestiae")),
                                "ut culpa et",
                                "https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads/FeatureServer/0",
                            new TimeExtent(new DateTime(2005, 1, 2, 13, 12, 17),
                                    new DateTime(2021, 4, 6, 16, 0, 41))),
                        new TableListListItemPanelWidget("sit",
                                "aut",
                                "dolores",
                                true,
                                true,
                                "https://picsum.photos/640/480/?image=1023",
                            new TableListListItem(true,
                                    [[new ActionButton("dicta illum dolorem",
                                        "https://picsum.photos/640/480/?image=986",
                                        "c7d88c25-6fb0-b6ab-5f2c-d75d989b6640",
                                        () => { Console.WriteLine("voluptas"); return Task.CompletedTask; },
                                        "group",
                                        true,
                                        true,
                                        true,
                                        "qui"),
                                        new ActionButton("nihil aut laboriosam",
                                            "https://picsum.photos/640/480/?image=426",
                                            "b9442000-19fb-be72-7d8f-7678150ca78f",
                                            () => { Console.WriteLine("est"); return Task.CompletedTask; },
                                            "title",
                                            true,
                                            true,
                                            true,
                                            "harum")]],
                                    true,
                                new KMLLayer("https://earthquake.usgs.gov/fdsnws/event/1/query?format=kml&minmagnitude=5.8",
                                    new PortalItem(),
                                    BlendMode.Difference,
                                        new Effect("dolorem",
                                            30508457.7750),
                                    new Extent(-5.5627,
                                            153.9943,
                                            69.8294,
                                            -88.7164,
                                            484.3642,
                                            117.6868,
                                            967.7789,
                                            411.5922,
                                        new SpatialReference(4,
                                                "voluptatem",
                                                "voluptates",
                                                "quas"),
                                            true,
                                            true),
                                    ListMode.Hide,
                                        1045910.9875,
                                        19701.8128,
                                        0.8653,
                                        true,
                                    [new KMLSublayer("sit magnam eum",
                                            6,
                                            "accusantium",
                                            "omnis id ratione")],
                                        "pariatur dolorum officia",
                                    new TimeExtent(new DateTime(2023, 10, 13, 18, 38, 5),
                                            new DateTime(2004, 5, 13, 12, 6, 27))),
                                new TableListListItemPanelWidget("quae",
                                        "molestiae",
                                        "voluptates",
                                        true,
                                        true,
                                        "https://picsum.photos/640/480/?image=1067",
                                    new TableListListItem(true,
                                            [[new ActionButton("dolor autem quod",
                                                "https://picsum.photos/640/480/?image=635",
                                                "77023d70-3d28-d20f-5d67-23f688724b28",
                                                () => { Console.WriteLine("minima"); return Task.CompletedTask; },
                                                "category",
                                                true,
                                                true,
                                                true,
                                                "aut"),
                                                new ActionButton("consectetur neque voluptates",
                                                    "https://picsum.photos/640/480/?image=551",
                                                    "d0b7d3a2-dc91-c03e-3b6c-d98320560349",
                                                    () => { Console.WriteLine("numquam"); return Task.CompletedTask; },
                                                    "title",
                                                    true,
                                                    true,
                                                    true,
                                                    "quod")],
                                                [new ActionButton("est dolorem ducimus",
                                                    "https://picsum.photos/640/480/?image=1003",
                                                    "492c2bcd-51b6-e2c7-c09d-184b39e8bfcf",
                                                    () => { Console.WriteLine("assumenda"); return Task.CompletedTask; },
                                                    "category",
                                                    true,
                                                    true,
                                                    true,
                                                    "repellat"),
                                                    new ActionButton("voluptas quia autem",
                                                        "https://picsum.photos/640/480/?image=687",
                                                        "596187c5-1c76-8beb-92d7-385c52d06273",
                                                        () => { Console.WriteLine("molestiae"); return Task.CompletedTask; },
                                                        "updatedAt",
                                                        true,
                                                        true,
                                                        true,
                                                        "autem")]],
                                            true,
                                        new BaseTileLayer(BlendMode.Multiply,
                                                new Effect("ipsa",
                                                    4915505.7221),
                                                29859808.8801,
                                                14679.6340,
                                                941.9583,
                                            new SpatialReference(9,
                                                    "temporibus",
                                                    "commodi",
                                                    "est"),
                                            new Extent(91.5172,
                                                    129.0240,
                                                    31.6212,
                                                    -5.9431,
                                                    43.0356,
                                                    437.2369,
                                                    620.4017,
                                                    346.9503,
                                                new SpatialReference(3,
                                                        "rerum",
                                                        "ipsum",
                                                        "sunt"),
                                                    true,
                                                    true),
                                            ListMode.Show,
                                                0.8441,
                                                true,
                                            new TileInfo(34.8587,
                                                    TileInfoFormat.Svg,
                                                    true,
                                                [new LOD(6,
                                                        "id",
                                                        1.1455,
                                                        31053503.0213),
                                                new LOD(9,
                                                        "ex",
                                                        49.8032,
                                                        32309899.9417)],
                                                new Point(-134.6748,
                                                        -88.9600,
                                                        -38.0707,
                                                        85.5341,
                                                        306.2088,
                                                    new SpatialReference(),
                                                        true,
                                                        true,
                                                        48.3993),
                                                    [5,
                                                        3],
                                                new SpatialReference(2,
                                                        "amet",
                                                        "maiores",
                                                        "dolorum")),
                                                "consequatur quaerat facere",
                                            new TimeExtent(new DateTime(2000, 7, 5, 20, 51, 13),
                                                    new DateTime(2023, 2, 24, 21, 24, 51))),
                                        new TableListListItemPanelWidget("voluptatem",
                                                "explicabo",
                                                "id",
                                                true,
                                                true,
                                                "https://picsum.photos/640/480/?image=380",
                                            new TableListListItem(true,
                                                    [[new ActionButton("earum dolorem quibusdam",
                                                        "https://picsum.photos/640/480/?image=990",
                                                        "4fe3dc9b-e569-58f6-edd7-55d88d66cf10",
                                                        () => { Console.WriteLine("nam"); return Task.CompletedTask; },
                                                        "name",
                                                        true,
                                                        true,
                                                        true,
                                                        "ea"),
                                                        null]],
                                                    true,
                                                new GraphicsLayer([new Graphic(null,
                                                        null,
                                                        null,
                                                        null,
                                                            true,
                                                            "delectus"),
                                                    new Graphic(null,
                                                        null,
                                                        null,
                                                        null,
                                                            true,
                                                            "ab")],
                                                        "aliquid in aspernatur",
                                                        0.6161,
                                                        true,
                                                    ListMode.Hide,
                                                        true,
                                                        4324.7215,
                                                        34752858.4217,
                                                        true,
                                                    BlendMode.Difference,
                                                        null,
                                                    new GraphicsLayerElevationInfo(),
                                                    new Extent(21.8800,
                                                            -65.8836,
                                                            -1.2376,
                                                            -17.4860),
                                                    new TimeExtent(new DateTime(2022, 1, 26, 5, 6, 25),
                                                            new DateTime(2014, 8, 15, 10, 56, 49))),
                                                new TableListListItemPanelWidget("at",
                                                        "impedit",
                                                        "id",
                                                        true,
                                                        true,
                                                        "https://picsum.photos/640/480/?image=585",
                                                    new TableListListItem(),
                                                        true,
                                                        "ut explicabo aliquid"),
                                                    "qui assumenda iste"),
                                                true,
                                                "deserunt et repudiandae"),
                                            "reiciendis explicabo ipsa"),
                                        true,
                                        "sunt veritatis velit"),
                                    "earum accusamus rerum"),
                                true,
                                "nobis sit voluptate"),
                            "unde et doloremque"),
                        true,
                        "eligendi non quae"),
                    "ipsum cumque officia");
        await tableListListItemPanelWidget.SetListItem(testListItem);
        var listItem = await tableListListItemPanelWidget.GetListItem();
        Assert.AreEqual(testListItem, listItem);
    }
}
