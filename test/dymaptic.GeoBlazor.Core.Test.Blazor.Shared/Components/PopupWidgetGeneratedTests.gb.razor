@inherits TestRunnerBase

@{
    base.BuildRenderTree(__builder);
}

@code {

    [TestMethod]
    public async Task TestCanRenderGeneratedPopupWidget(Action renderHandler)
    {
        PopupWidget? popupWidget = null;

        AddMapRenderFragment(
            @<MapView class="map-view" OnViewRendered="renderHandler">
                <Map>
                    <Basemap>
                        <BasemapStyle Name="BasemapStyleName.ArcgisTopographic" />
                    </Basemap>
                </Map>
                <PopupWidget 
                    Actions="@([new ActionButton("non quia odio",
                        "https://picsum.photos/640/480/?image=680",
                        "e1d4b5de-860f-d048-39fc-f5c9a3815618",
                        () => { Console.WriteLine("repudiandae"); return Task.CompletedTask; },
                        "status",
                        true,
                        true,
                        true,
                        "quia")])"
                    Alignment="@(PopupAlignment.TopRight)"
                    AutoCloseEnabled="@(true)"
                    DefaultPopupTemplateEnabled="@(true)"
                    DockEnabled="@(true)"
                    GoToOverride="@(new GoToOverride())"
                    HeadingLevel="@(8)"
                    HighlightEnabled="@(true)"
                    Icon="@("autem")"
                    Label="@("autem")"
                    Promises="@("dolores")"
                    SelectedFeatureIndex="@(9)"
                    Title="@("veritatis non corrupti")"
                    WidgetId="@("unde")">
                    <PopupVisibleElements 
                        CloseButton="@(true)"
                        FeatureNavigation="@(true)"
                        ActionBar="@(true)"
                        CollapseButton="@(true)"
                        FeatureListLayerTitle="@(true)"
                        Heading="@(true)"
                        Spinner="@(true)">
                    </PopupVisibleElements>
                    <PopupViewModel 
                        Actions="@([new ActionButton("eaque facilis eos",
                            "https://picsum.photos/640/480/?image=712",
                            "efcf952f-417b-847b-d516-625d6b7f357a",
                            () => { Console.WriteLine("et"); return Task.CompletedTask; },
                            "password",
                            true,
                            true,
                            true,
                            "aspernatur"),
                            new ActionButton("rerum tenetur maxime",
                                "https://picsum.photos/640/480/?image=642",
                                "b743d1ca-aa5d-8a4c-b3f5-9f32e642913a",
                                () => { Console.WriteLine("aspernatur"); return Task.CompletedTask; },
                                "password",
                                true,
                                true,
                                true,
                                "quo")])"
                        AutoCloseEnabled="@(true)"
                        BrowseClusterEnabled="@(true)"
                        DefaultPopupTemplateEnabled="@(true)"
                        FeaturesPerPage="@(418.4638)"
                        FeatureViewModelAbilities="@(new Abilities(true,
                                true,
                                true,
                                true,
                                true,
                                true))"
                        GoToOverride="@(new GoToOverride())"
                        HighlightEnabled="@(true)"
                        IncludeDefaultActions="@(true)"
                        Promises="@("dolore")"
                        SelectedFeatureIndex="@(1)"
                        SpatialReference="@(new SpatialReference(4,
                                "est",
                                "eum",
                                "animi"))"
                        TimeZone="@("Europe/Madrid")"
                        Title="@("cupiditate neque natus")">
                        <Point 
                            Longitude="@(-131.0284)"
                            Latitude="@(77.0790)"
                            X="@(78.7570)"
                            Y="@(-34.2725)"
                            Z="@(415.3074)"
                            HasM="@(true)"
                            HasZ="@(true)"
                            M="@(165.6408)">
                            <SpatialReference 
                                Wkid="@(7)"
                                ImageCoordinateSystem="@("sit")"
                                Wkt="@("repellendus")"
                                Wkt2="@("omnis")">
                            </SpatialReference>
                        </Point>
                        <Graphic 
                            Geometry="@(new Polygon([new MapPath([new MapPoint([333.7701,
                                        858.5182]),
                                    new MapPoint([318.7272])])],
                                new SpatialReference(9,
                                        "est",
                                        "ea",
                                        "vero"),
                                new Point(131.8447,
                                        6.2252,
                                        163.6734,
                                        -7.8153,
                                        23.4395,
                                    new SpatialReference(5,
                                            "nihil",
                                            "autem",
                                            "eos"),
                                        true,
                                        true,
                                        435.1609),
                                    true,
                                    true,
                                    true))"
                            Symbol="@(new TextSymbol("cumque et aut",
                                new MapColor(2, 254, 219),
                                new MapColor(191, 221, 186),
                                    new Dimension(951.5150),
                                new MapFont(new Dimension(211.3352),
                                        "Georgia",
                                    MapFontStyle.Normal,
                                    FontWeight.Lighter,
                                    TextDecoration.LineThrough),
                                    386.7597,
                                new MapColor(24, 91, 101),
                                new MapColor(251, 223, 207),
                                    788.1610,
                                HorizontalAlignment.Right,
                                    true,
                                    694.5902,
                                    new Dimension(592.6457),
                                    true))"
                            PopupTemplate="@(new PopupTemplate("adipisci officia fugiat",
                                    "inventore",
                                    ["consequatur",
                                        "eaque"],
                                [new FieldInfo("email",
                                        "debitis",
                                        "in",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(2,
                                            true,
                                        DateFormat.LongMonthDayYear),
                                        true,
                                        true,
                                    StatisticType.Avg),
                                new FieldInfo("id",
                                        "qui",
                                        "aut",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(4,
                                            true,
                                        DateFormat.ShortDateLeLongTime24),
                                        true,
                                        true,
                                    StatisticType.Min)],
                                [new FieldsPopupContent([new FieldInfo("password",
                                            "doloremque",
                                            "deserunt",
                                        StringFieldOption.TextBox,
                                        new FieldInfoFormat(2,
                                                true,
                                            DateFormat.DayShortMonthYear),
                                            true,
                                            true,
                                        StatisticType.Max)],
                                        "reprehenderit repellendus",
                                        "dicta quia quia")],
                                [new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                                        "token",
                                        "non velit et",
                                        ExpressionInfoReturnType.String)],
                                    true,
                                    true,
                                    [new ActionButton("repudiandae quisquam rerum",
                                        "https://picsum.photos/640/480/?image=266",
                                        "e09f1e26-583b-cff2-69aa-0e926a910fd5",
                                        () => { Console.WriteLine("veritatis"); return Task.CompletedTask; },
                                        "email",
                                        true,
                                        true,
                                        true,
                                        "vitae"),
                                        new ActionButton("repudiandae perspiciatis accusantium",
                                            "https://picsum.photos/640/480/?image=576",
                                            "4677afd4-ea96-1a20-6748-29623831e944",
                                            () => { Console.WriteLine("sed"); return Task.CompletedTask; },
                                            "title",
                                            true,
                                            true,
                                            true,
                                            "aut")]))"
                            Attributes="@(new AttributesDictionary())"
                            Visible="@(true)"
                            LegendLabel="@("repellat")"
                            AggregateGeometries="@("quos")"
                            Origin="@(new GraphicOrigin(Guid.NewGuid(),
                                "modi",
                                5))">
                        </Graphic>
                    </PopupViewModel>
                    <Point 
                        Longitude="@(13.3126)"
                        Latitude="@(-59.9678)"
                        X="@(-166.7594)"
                        Y="@(58.1081)"
                        Z="@(177.8005)"
                        SpatialReference="@(new SpatialReference(5,
                                "soluta",
                                "esse",
                                "in"))"
                        HasM="@(true)"
                        HasZ="@(true)"
                        M="@(322.8142)">
                    </Point>
                    <Graphic 
                        Geometry="@(new Polygon([new MapPath([new MapPoint([184.7367,
                                    921.2760])])],
                            new SpatialReference(2,
                                    "omnis",
                                    "et",
                                    "laborum"),
                            new Point(-64.0788,
                                    -4.5393,
                                    -139.9010,
                                    48.6304,
                                    834.6808,
                                new SpatialReference(5,
                                        "ipsum",
                                        "ducimus",
                                        "quo"),
                                    true,
                                    true,
                                    331.7229),
                                true,
                                true,
                                true))"
                        Symbol="@(new TextSymbol("nisi voluptatibus in",
                            new MapColor(239, 10, 160),
                            new MapColor(213, 198, 119),
                                new Dimension(536.6806),
                            new MapFont(new Dimension(275.5872),
                                    "Arial",
                                MapFontStyle.Oblique,
                                FontWeight.Normal,
                                TextDecoration.Underline),
                                213.5401,
                            new MapColor(162, 102, 170),
                            new MapColor(171, 152, 3),
                                987.7726,
                            HorizontalAlignment.Center,
                                true,
                                580.5446,
                                new Dimension(987.3080),
                                true))"
                        PopupTemplate="@(new PopupTemplate("neque illum saepe",
                                "soluta",
                                ["et"],
                            [new FieldInfo("email",
                                    "quo",
                                    "nulla",
                                StringFieldOption.TextArea,
                                new FieldInfoFormat(5,
                                        true,
                                    DateFormat.Year),
                                    true,
                                    true,
                                StatisticType.Sum),
                            new FieldInfo("phone",
                                    "voluptas",
                                    "delectus",
                                StringFieldOption.TextArea,
                                new FieldInfoFormat(7,
                                        true,
                                    DateFormat.ShortDateLeLongTime),
                                    true,
                                    true,
                                StatisticType.Avg)],
                            [new TextPopupContent("sed alias perspiciatis")],
                            [new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                                    "category",
                                    "velit amet aut",
                                    ExpressionInfoReturnType.String)],
                                true,
                                true,
                                [new ActionButton("facilis sequi est",
                                    "https://picsum.photos/640/480/?image=417",
                                    "6085945e-b453-f898-560f-7c381f4bbd78",
                                    () => { Console.WriteLine("fugit"); return Task.CompletedTask; },
                                    "token",
                                    true,
                                    true,
                                    true,
                                    "maiores")]))"
                        Attributes="@(new AttributesDictionary())"
                        Visible="@(true)"
                        LegendLabel="@("labore")"
                        AggregateGeometries="@("sit")"
                        Origin="@(new GraphicOrigin(Guid.NewGuid(),
                            "ducimus",
                            9))">
                    </Graphic>
                    <PopupDockOptions 
                        Position="@(PopupDockPosition.Auto)"
                        ButtonEnabled="@(true)"
                        BreakPoint="@(new BreakPoint(187.3395,
                            175.1263))"
                        BoolBreakpoint="@(true)"
                        PopupDockOptionsBreakpoint="@(new PopupDockOptionsBreakpoint(5,
                                3))">
                    </PopupDockOptions>
                </PopupWidget>
            </MapView>);
        await WaitForMapToRender();
        Assert.IsNotNull(popupWidget!);
        await AssertJavaScript("assertWidgetExists", args: "popup");
        await popupWidget.Blur();
        await popupWidget.Focus();
        var nextMethodResult = await popupWidget.Next();
        Assert.IsNotNull(nextMethodResult);
        await popupWidget.Open(new PopupOpenOptions(true,
                    default,
                    true,
                [new Graphic(new Polyline([new MapPath([new MapPoint([911.0820]),
                            new MapPoint([748.2501,
                                805.2338])]),
                            new MapPath([new MapPoint([562.8959]),
                                new MapPoint([881.9122])])],
                        new SpatialReference(8,
                                "repellendus",
                                "hic",
                                "molestias"),
                            true,
                            true),
                    new TextSymbol("sit odit eaque",
                        new MapColor(196, 153, 175),
                        new MapColor(30, 173, 227),
                            new Dimension(699.9430),
                        new MapFont(new Dimension(799.5944),
                                "Helvetica",
                            MapFontStyle.Normal,
                            FontWeight.Normal,
                            TextDecoration.LineThrough),
                            568.2962,
                        new MapColor(208, 148, 144),
                        new MapColor(254, 97, 75),
                            755.1013,
                        HorizontalAlignment.Right,
                            true,
                            393.2066,
                            new Dimension(894.7157),
                            true),
                    new PopupTemplate("temporibus maxime dolor",
                            "eum",
                            ["quia",
                                "accusamus"],
                        [new FieldInfo("title",
                                "sed",
                                "veritatis",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(6,
                                    true,
                                DateFormat.LongMonthDayYearShortTime24),
                                true,
                                true,
                            StatisticType.Avg)],
                        [new AttachmentsPopupContent("quia nihil harum",
                                "qui aliquam eligendi sequi",
                                AttachmentsPopupContentDisplayType.Preview)],
                        [new ExpressionInfo("if ($feature.Age > 21) { return 'Adult'; } else { return 'Minor'; }",
                                "group",
                                "aut aut neque",
                                ExpressionInfoReturnType.String)],
                            true,
                            true,
                            [new ActionButton("ipsum nemo exercitationem",
                                "https://picsum.photos/640/480/?image=1015",
                                "01c405db-822e-f1c2-ff1d-5f78abfd077e",
                                () => { Console.WriteLine("omnis"); return Task.CompletedTask; },
                                "id",
                                true,
                                true,
                                true,
                                "labore"),
                                new ActionButton("sed ea consectetur",
                                    "https://picsum.photos/640/480/?image=894",
                                    "d6fde66a-effa-a7db-2d65-34f0cb3cdf23",
                                    () => { Console.WriteLine("porro"); return Task.CompletedTask; },
                                    "password",
                                    true,
                                    true,
                                    true,
                                    "maiores")]),
                        new AttributesDictionary(),
                        true,
                        "tenetur",
                        "numquam",
                        new GraphicOrigin(Guid.NewGuid(),
                            "dolorum",
                            1))],
                    true,
                new Point(-103.2163,
                        -8.5781,
                        -102.5449,
                        -35.0872,
                        257.9731,
                    new SpatialReference(7,
                            "optio",
                            "rerum",
                            "nemo"),
                        true,
                        true,
                        271.0178),
                    "culpa",
                    true,
                    "iusto",
                    "vitae et magni",
                    true,
                new LayerListWidget(new LayerListCatalogOptions("quisquam",
                        new CatalogLayerListListItemCreatedHandler(),
                            616.6255,
                            "nihil",
                            "qui",
                        new LayerListCatalogOptionsVisibleElements(true,
                                true,
                                true,
                                true)),
                        true,
                        true,
                        "aut",
                        "et eum fugiat",
                        951.8546,
                        "hic",
                    new LayerListKnowledgeGraphOptions("esse",
                        new TableListListItemCreatedHandler(new { Value = "quia" },
                            default),
                            350.4763,
                            "voluptas",
                        new LayerListKnowledgeGraphOptionsVisibleElements(true,
                                true,
                                true)),
                        "amet",
                    new LayerListListItemCreatedHandler(),
                        691.0097,
                        269.9922,
                    [new ListItem(true,
                            new ActionButton("eveniet nesciunt omnis",
                                "https://picsum.photos/640/480/?image=253",
                                "736f89c5-d000-49d2-dcd2-19e05133eb67",
                                () => { Console.WriteLine("dolores"); return Task.CompletedTask; },
                                "comment",
                                true,
                                true,
                                true,
                                "vero"),
                            true,
                            true,
                        new ElevationLayer("et",
                            new Extent(-167.1925,
                                    178.5930,
                                    22.5511,
                                    78.4234,
                                    444.5628,
                                    600.0966,
                                    451.9556,
                                    629.3479,
                                new SpatialReference(2,
                                        "voluptatem",
                                        "inventore",
                                        "nisi"),
                                    true,
                                    true),
                            ListMode.Show,
                                0.3625,
                                true,
                            new PortalItem(),
                            new TileInfo(765.4380,
                                    TileInfoFormat.Mixed,
                                    true,
                                [new LOD(7,
                                        "aliquam",
                                        14.7924,
                                        24116073.8210),
                                new LOD(3,
                                        "facilis",
                                        5.3407,
                                        1234171.4849)],
                                new Point(35.8360,
                                        37.4473,
                                        -37.9812,
                                        -25.2038,
                                        810.7226,
                                    new SpatialReference(5,
                                            "nam",
                                            "reprehenderit",
                                            "dignissimos"),
                                        true,
                                        true,
                                        123.7862),
                                    [5],
                                new SpatialReference(2,
                                        "quia",
                                        "repellat",
                                        "quia")),
                                "magni tenetur et",
                                "https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/IncidentsReport/FeatureServer/0",
                            new TimeExtent(new DateTime(2005, 9, 5, 13, 55, 57),
                                    new DateTime(2002, 5, 18, 1, 0, 29))),
                            true,
                            true,
                            true,
                            "quia cum autem"),
                    new ListItem(true,
                            new ActionButton("reprehenderit omnis voluptatem",
                                "https://picsum.photos/640/480/?image=260",
                                "7278321b-8d9c-b6e1-a3ee-009d68e5ab40",
                                () => { Console.WriteLine("ipsum"); return Task.CompletedTask; },
                                "status",
                                true,
                                true,
                                true,
                                "et"),
                            true,
                            true,
                        new ImageryTileLayer("https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",
                            new PortalItem(),
                                new RasterStretchRenderer(new AlgorithmicColorRamp(Algorithm.CieLab,
                                        new MapColor(51, 203, 23),
                                        new MapColor(62, 18, 211)),
                                    true,
                                    true,
                                    [7,
                                    3],
                                    6,
                                    4,
                                    StretchType.MinMax,
                                    [new RasterBandStatistics(467.2442,
                                        7,
                                        836.4779,
                                        558.5599,
                                        218.5907,
                                        840.4223,
                                        783.7028,
                                        235.5259),
                                    new RasterBandStatistics(343.4083,
                                        5,
                                        799.6972,
                                        186.7628,
                                        231.9119,
                                        767.0318,
                                        163.7527,
                                        160.8980)],
                                    true,
                                    9),
                                [1],
                            BlendMode.ColorDodge,
                                "rem",
                                new Effect("quidem",
                                    37544079.8320),
                                PixelInterpolation.Nearest,
                                true,
                            ListMode.Show,
                                17158129.9491,
                                8227.5572,
                            [new DimensionalDefinition("title",
                                    true,
                                    "name")],
                            new MultidimensionalSubset(new Extent(113.6899,
                                        69.3743,
                                        -62.6635,
                                        -27.3168,
                                        84.5808,
                                        759.6122,
                                        614.0124,
                                        868.3060,
                                    new SpatialReference(7,
                                            "doloribus",
                                            "mollitia",
                                            "fugit"),
                                        true,
                                        true),
                                [new DimensionalDefinition("updatedAt",
                                        true,
                                        "comment"),
                                new DimensionalDefinition("group",
                                        true,
                                        "comment")])),
                            true,
                            true,
                            true,
                            "cum explicabo quia")],
                    SelectionMode.None)));
        var previousMethodResult = await popupWidget.Previous();
        Assert.IsNotNull(previousMethodResult);
        await popupWidget.Reposition();
        await popupWidget.TriggerAction(1);
        PopupDockOptions testDockOptions = new PopupDockOptions(PopupDockPosition.Auto,
                    true,
                    new BreakPoint(211.5644,
                        22.0625),
                    true,
                new PopupDockOptionsBreakpoint(8,
                        5));
        await popupWidget.SetDockOptions(testDockOptions);
        var dockOptions = await popupWidget.GetDockOptions();
        Assert.AreEqual(testDockOptions, dockOptions);
        IReadOnlyList<Graphic> testFeatures = [new Graphic(new Polyline([new MapPath([new MapPoint([221.0035,
                            33.0993])])],
                    new SpatialReference(1,
                            "enim",
                            "aut",
                            "ullam"),
                        true,
                        true),
                new TextSymbol("illum assumenda ad",
                    new MapColor(244, 48, 234),
                    new MapColor(222, 74, 26),
                        new Dimension(677.9131),
                    new MapFont(new Dimension(274.7491),
                            "Garamond",
                        MapFontStyle.Italic,
                        FontWeight.Bolder,
                        TextDecoration.None),
                        729.5454,
                    new MapColor(38, 76, 196),
                    new MapColor(5, 207, 173),
                        951.9069,
                    HorizontalAlignment.Right,
                        true,
                        715.1214,
                        new Dimension(108.2016),
                        true),
                new PopupTemplate("repudiandae non perspiciatis",
                        "alias",
                        ["quisquam"],
                    [new FieldInfo("updatedAt",
                            "est",
                            "perferendis",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(6,
                                true,
                            DateFormat.ShortDateLeLongTime24),
                            true,
                            true,
                        StatisticType.Min),
                    new FieldInfo("email",
                            "excepturi",
                            "corporis",
                        StringFieldOption.TextBox,
                        new FieldInfoFormat(2,
                                true,
                            DateFormat.LongDateLongTime),
                            true,
                            true,
                        StatisticType.Max)],
                    [new TextPopupContent("illum aut et")],
                    [new ExpressionInfo("return Date();",
                            "id",
                            "voluptatem culpa consequatur",
                            ExpressionInfoReturnType.String),
                    new ExpressionInfo("var length = Geometry($feature).length; return length;",
                            "createdAt",
                            "nulla natus aliquam",
                            ExpressionInfoReturnType.String)],
                        true,
                        true,
                        [new ActionButton("molestias delectus et",
                            "https://picsum.photos/640/480/?image=440",
                            "cc7e6df7-782d-2f07-b2a3-f1996ba0cfdb",
                            () => { Console.WriteLine("rerum"); return Task.CompletedTask; },
                            "createdAt",
                            true,
                            true,
                            true,
                            "nesciunt")]),
                    new AttributesDictionary(),
                    true,
                    "omnis",
                    "quis",
                    new GraphicOrigin(Guid.NewGuid(),
                        "pariatur",
                        5))];
        await popupWidget.SetFeatures(testFeatures);
        var features = await popupWidget.GetFeatures();
        Assert.AreEqual(testFeatures, features);
        GoToOverride testGoToOverride = new GoToOverride();
        await popupWidget.SetGoToOverride(testGoToOverride);
        var goToOverride = await popupWidget.GetGoToOverride();
        Assert.AreEqual(testGoToOverride, goToOverride);
        Point testLocation = new Point(41.3692,
                    -5.3523,
                    -128.5076,
                    -71.3561,
                    425.5313,
                new SpatialReference(7,
                        "ex",
                        "sequi",
                        "occaecati"),
                    true,
                    true,
                    103.7321);
        await popupWidget.SetLocation(testLocation);
        var location = await popupWidget.GetLocation();
        Assert.AreEqual(testLocation, location);
        PopupViewModel testViewModel = new PopupViewModel([new ActionButton("cum corrupti aliquid",
                    "https://picsum.photos/640/480/?image=355",
                    "c0bc2a14-4ed2-0b64-0251-8e7aa8d437d2",
                    () => { Console.WriteLine("ea"); return Task.CompletedTask; },
                    "name",
                    true,
                    true,
                    true,
                    "eligendi"),
                    new ActionButton("illo sit aspernatur",
                        "https://picsum.photos/640/480/?image=812",
                        "b9d75aa6-4eb3-1a22-c625-2a1ab715d6ab",
                        () => { Console.WriteLine("distinctio"); return Task.CompletedTask; },
                        "phone",
                        true,
                        true,
                        true,
                        "a")],
                    true,
                    true,
                    true,
                [new Graphic(new Extent(-128.1883,
                            129.7847,
                            14.8828,
                            -8.2940,
                            143.7096,
                            516.3565,
                            705.3218,
                            875.7265,
                        new SpatialReference(7,
                                "iste",
                                "doloribus",
                                "reprehenderit"),
                            true,
                            true),
                    new TextSymbol("et aliquam sit",
                        new MapColor(118, 32, 155),
                        new MapColor(90, 81, 134),
                            new Dimension(336.1765),
                        new MapFont(new Dimension(111.2185),
                                "Garamond",
                            MapFontStyle.Normal,
                            FontWeight.Normal,
                            TextDecoration.Underline),
                            332.3849,
                        new MapColor(29, 18, 234),
                        new MapColor(107, 168, 138),
                            290.9440,
                        HorizontalAlignment.Left,
                            true,
                            713.4212,
                            new Dimension(908.0987),
                            true),
                    new PopupTemplate("eum aut odit",
                            "nemo",
                            ["labore"],
                        [new FieldInfo("phone",
                                "porro",
                                "eum",
                            StringFieldOption.TextBox,
                            new FieldInfoFormat(8,
                                    true,
                                DateFormat.ShortDateLe),
                                true,
                                true,
                            StatisticType.Stddev)],
                        [new MediaPopupContent("beatae velit et",
                                "explicabo earum",
                            [new PieChartMediaInfo("recusandae neque magnam",
                                    "necessitatibus",
                                    "necessitatibus quisquam totam",
                                new ChartMediaInfoValue(["deserunt"],
                                        "vel",
                                        "quia",
                                    [new ChartMediaInfoValueSeries("status",
                                            "dolorum",
                                            62.2643)],
                                    [new MapColor(117, 10, 135)]))],
                                7),
                        new AttachmentsPopupContent("impedit aliquam est",
                                "aut beatae quis",
                                AttachmentsPopupContentDisplayType.Auto)],
                        [new ExpressionInfo("return Date();",
                                "category",
                                "earum doloremque quia",
                                ExpressionInfoReturnType.String)],
                            true,
                            true,
                            [new ActionButton("et ut laudantium",
                                "https://picsum.photos/640/480/?image=773",
                                "4f4b5d09-2d50-88f6-f5ba-651cb257acee",
                                () => { Console.WriteLine("exercitationem"); return Task.CompletedTask; },
                                "phone",
                                true,
                                true,
                                true,
                                "est")]),
                        new AttributesDictionary(),
                        true,
                        "mollitia",
                        "beatae",
                        new GraphicOrigin(Guid.NewGuid(),
                            "dolor",
                            1))],
                    574.7530,
                new Abilities(true,
                        true,
                        true,
                        true,
                        true,
                        true),
                new GoToOverride(),
                    true,
                    true,
                new Point(-82.2156,
                        -5.2230,
                        34.7522,
                        72.1726,
                        929.2641,
                    new SpatialReference(3,
                            "aut",
                            "neque",
                            "saepe"),
                        true,
                        true,
                        415.2670),
                    "deleniti",
                    9,
                new SpatialReference(6,
                        "consequuntur",
                        "quis",
                        "iste"));
        await popupWidget.SetViewModel(testViewModel);
        var viewModel = await popupWidget.GetViewModel();
        Assert.AreEqual(testViewModel, viewModel);
        PopupVisibleElements testVisibleElements = new PopupVisibleElements(true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true);
        await popupWidget.SetVisibleElements(testVisibleElements);
        var visibleElements = await popupWidget.GetVisibleElements();
        Assert.AreEqual(testVisibleElements, visibleElements);
    }
}
