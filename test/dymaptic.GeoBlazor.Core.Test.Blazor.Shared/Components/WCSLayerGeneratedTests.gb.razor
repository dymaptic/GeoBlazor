@inherits TestRunnerBase

@{
    base.BuildRenderTree(__builder);
}

@code {

    [TestMethod]
    public async Task TestCanRenderWCSLayer(Action renderHandler)
    {
        WCSLayer? wCSLayer = null;

        AddMapRenderFragment(
            @<MapView class="map-view" OnViewRendered="renderHandler">
                <Map>
                    <Basemap>
                        <BasemapStyle Name="BasemapStyleName.ArcgisTopographic" />
                    </Basemap>
                    <WCSLayer 
                        Url="@("https://sampleserver6.arcgisonline.com/arcgis/services/ScientificData/SeaTemperature/ImageServer/WCSServer")"
                        Renderer="@(new RasterStretchRenderer(new AlgorithmicColorRamp(Algorithm.LabLch,
                                new MapColor(170, 51, 23),
                                new MapColor(86, 84, 132)),
                            true,
                            true,
                            [8,
                            2],
                            5,
                            6,
                            StretchType.PercentClip,
                            [new RasterBandStatistics(275.6177,
                                8,
                                312.6382,
                                167.0909,
                                104.3250,
                                788.5634,
                                182.2566,
                                881.0831),
                            new RasterBandStatistics(776.3216,
                                8,
                                588.0740,
                                934.3707,
                                50.5888,
                                816.9476,
                                431.7465,
                                125.0086),
                            new RasterBandStatistics(914.2585,
                                1,
                                909.6452,
                                115.3493,
                                828.1533,
                                588.3602,
                                234.3337,
                                360.0218),
                            new RasterBandStatistics(777.3270,
                                3,
                                248.5323,
                                660.6069,
                                386.8270,
                                722.4506,
                                656.5912,
                                827.5408)],
                            true,
                            3))"
                        Opacity="@(0.7025)"
                        Title="@("sunt et officia")"
                        BandIds="@([4,
                            4,
                            2])"
                        BlendMode="@(BlendMode.SourceOut)"
                        Copyright="@("doloribus")"
                        CoverageId="@("provident")"
                        Effect="@(new Effect("qui",
                            41879934.5494))"
                        FullExtent="@(new Extent(-42.9872,
                                6.7609,
                                -51.1451,
                                4.9938,
                                3.2432,
                                847.7021,
                                531.3204,
                                913.3225,
                            new SpatialReference(8,
                                    "dolores",
                                    "accusamus",
                                    "neque"),
                                true,
                                true))"
                        Interpolation="@(Interpolation.Bilinear)"
                        LegendEnabled="@(true)"
                        ListMode="@(ListMode.Show)"
                        MaxScale="@(10665164.3879)"
                        MinScale="@(34710.3490)"
                        PersistenceEnabled="@(true)"
                        PopupEnabled="@(true)"
                        UseViewTime="@(true)"
                        Version="@("3.5.8.9")">
                        <TimeInterval 
                            Unit="@(TemporalTime.Decades)"
                            Value="@(225.1443)">
                        </TimeInterval>
                        <TimeInfo 
                            StartField="@("magnam")"
                            EndField="@("qui")"
                            Stops="@([new DateTime(2004, 3, 11, 21, 31, 18),
                                new DateTime(2013, 11, 7, 7, 1, 18),
                                new DateTime(2007, 5, 24, 16, 41, 11),
                                new DateTime(2013, 6, 14, 14, 27, 37)])"
                            TimeZone="@("Pacific/Honolulu")"
                            TrackIdField="@("hic")">
                            <TimeInterval 
                                Unit="@(TemporalTime.Years)"
                                Value="@(689.2737)">
                            </TimeInterval>
                            <TimeExtent 
                                Start="@(new DateTime(2008, 3, 16, 11, 3, 10))"
                                End="@(new DateTime(2012, 3, 1, 22, 55, 50))">
                            </TimeExtent>
                        </TimeInfo>
                        <TimeExtent 
                            Start="@(new DateTime(2010, 2, 5, 16, 9, 22))"
                            End="@(new DateTime(2019, 10, 9, 18, 40, 58))">
                        </TimeExtent>
                        <Field 
                            Name="@("password")"
                            Alias="@("aliquid")"
                            Description="@("autem expedita eius reprehenderit dolore neque")"
                            Length="@(5)"
                            Editable="@(true)"
                            Nullable="@(true)"
                            DefaultValue="@(new { Value = "rerum" })"
                            ValueType="@(FieldValueType.NameOrTitle)"
                            Domain="@(new RangeDomain("omnis",
                                    "deleniti",
                                    "phone"))">
                        </Field>
                        <PopupTemplate 
                            Title="@("sapiente molestiae ut")"
                            StringContent="@("esse")"
                            OutFields="@(["fugiat",
                                "labore"])"
                            FieldInfos="@([new FieldInfo("avatar",
                                    "in",
                                    "totam",
                                StringFieldOption.RichText,
                                new FieldInfoFormat(2,
                                        true,
                                    DateFormat.Year),
                                    true,
                                    true,
                                StatisticType.Count),
                            new FieldInfo("phone",
                                    "provident",
                                    "dolor",
                                StringFieldOption.TextArea,
                                new FieldInfoFormat(1,
                                        true,
                                    DateFormat.ShortDateShortTime),
                                    true,
                                    true,
                                StatisticType.Count),
                            new FieldInfo("password",
                                    "asperiores",
                                    "sint",
                                StringFieldOption.TextBox,
                                new FieldInfoFormat(8,
                                        true,
                                    DateFormat.LongMonthDayYearLongTime),
                                    true,
                                    true,
                                StatisticType.Count)])"
                            Content="@([new TextPopupContent("ullam aut voluptatibus")])"
                            ExpressionInfos="@([new ExpressionInfo("var length = Geometry($feature).length; return length;",
                                    "status",
                                    "deleniti ut facere",
                                    ExpressionInfoReturnType.String),
                            new ExpressionInfo("var length = Geometry($feature).length; return length;",
                                    "createdAt",
                                    "impedit error iusto",
                                    ExpressionInfoReturnType.String),
                            new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                    "id",
                                    "itaque beatae aliquam",
                                    ExpressionInfoReturnType.String)])"
                            OverwriteActions="@(true)"
                            ReturnGeometry="@(true)"
                            Actions="@([new ActionButton("autem impedit sunt",
                                    "https://picsum.photos/640/480/?image=921",
                                    "fbdb5007-2da1-fcfa-f9f4-01e1e3417e89",
                                    () => { Console.WriteLine("itaque"); return Task.CompletedTask; },
                                    "status",
                                    true,
                                    true,
                                    true,
                                    "expedita"),
                            new ActionButton("ut voluptatem harum",
                                    "https://picsum.photos/640/480/?image=391",
                                    "f6dceb2c-ff63-cc61-444d-cbf3e325be4e",
                                    () => { Console.WriteLine("non"); return Task.CompletedTask; },
                                    "email",
                                    true,
                                    true,
                                    true,
                                    "totam")])">
                        </PopupTemplate>
                        <MultidimensionalSubset 
                            AreaOfInterest="@(new Point(78.0267,
                                    41.3315,
                                    -57.5150,
                                    33.5481,
                                    148.5830,
                                new SpatialReference(6,
                                        "iusto",
                                        "voluptatem",
                                        "aliquid"),
                                    true,
                                    true,
                                    437.5673))">
                            <DimensionalDefinition 
                                DimensionName="@("email")"
                                IsSlice="@(true)"
                                VariableName="@("title")"
>
                            </DimensionalDefinition>
                        </MultidimensionalSubset>
                        <DimensionalDefinition 
                            DimensionName="@("token")"
                            IsSlice="@(true)"
                            VariableName="@("updatedAt")"
>
                        </DimensionalDefinition>
                        <CoverageInfo 
                            BandNames="@(["token",
                                "group"])"
                            CoverageId="@("vitae")"
                            Description="@("assumenda quos deleniti odio ut")"
                            LonLatEnvelope="@(new Extent(-41.5063,
                                    81.1123,
                                    77.7828,
                                    -68.5387,
                                    693.3651,
                                    730.4168,
                                    883.1340,
                                    988.1984,
                                new SpatialReference(1,
                                        "tempora",
                                        "quia",
                                        "eos"),
                                    true,
                                    true))"
                            SupportedFormats="@(["incidunt",
                                "aut"])"
                            SupportedInterpolations="@([SupportedInterpolations.Bilinear])"
                            Title="@("in deserunt dolor")"
                            UseEPSGAxis="@(true)"
                            Version="@(CoverageInfoVersion.One_0_0)">
                            <RasterInfo 
                                AttributeTable="@(new FeatureSet("email",
                                        true,
                                    [new Graphic(new Point(151.5910,
                                                -27.7649,
                                                19.2146,
                                                -65.5312,
                                                775.6939,
                                            new SpatialReference(9,
                                                    "expedita",
                                                    "aut",
                                                    "ut"),
                                                true,
                                                true,
                                                17.6703),
                                        new TextSymbol("consectetur et molestiae",
                                            new MapColor(90, 120, 64),
                                            new MapColor(161, 14, 7),
                                                new Dimension(696.2392),
                                            new MapFont(new Dimension(583.3441),
                                                    "Arial",
                                                MapFontStyle.Italic,
                                                FontWeight.Lighter,
                                                TextDecoration.None),
                                                568.2298,
                                            new MapColor(245, 93, 136),
                                            new MapColor(251, 14, 142),
                                                822.8485,
                                            HorizontalAlignment.Left,
                                                true,
                                                357.3302,
                                                new Dimension(899.7088),
                                                true),
                                        new PopupTemplate("cum fugiat saepe",
                                                "iste",
                                                ["dolorem",
                                                    "ipsam"],
                                            [new FieldInfo("name",
                                                    "aut",
                                                    "consequuntur",
                                                StringFieldOption.TextArea,
                                                new FieldInfoFormat(5,
                                                        true,
                                                    DateFormat.LongMonthYear),
                                                    true,
                                                    true,
                                                StatisticType.Max)],
                                            [new ExpressionPopupContent(new ElementExpressionInfo("var area = Geometry($feature).area; return area;",
                                                        "iure",
                                                        "ipsa aperiam ducimus")),
                                            new MediaPopupContent("et omnis voluptas",
                                                    "et ratione in ea",
                                                [new LineChartMediaInfo("aut id voluptas",
                                                        "minima",
                                                        "quia dolorem natus",
                                                    new ChartMediaInfoValue()),
                                                new LineChartMediaInfo("totam enim ex",
                                                        "nam",
                                                        "voluptatem omnis expedita",
                                                    new ChartMediaInfoValue()),
                                                new BarChartMediaInfo("sit quia itaque",
                                                        "odio",
                                                        "dolores quas voluptates",
                                                    new ChartMediaInfoValue())],
                                                    8),
                                            new RelationshipPopupContent("enim dolorem quia",
                                                    "non dolorem eos et hic officiis vero",
                                                    1,
                                                    "dignissimos",
                                                [new RelatedRecordsInfoFieldOrder("qui",
                                                    OrderBy.Asc)],
                                                    2)],
                                            [new ExpressionInfo("var length = Geometry($feature).length; return length;",
                                                    "email",
                                                    "qui quisquam numquam",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("return $feature.Status == 'Active' ? 'Active' : 'Inactive';",
                                                    "avatar",
                                                    "expedita ipsam atque",
                                                    ExpressionInfoReturnType.String),
                                            new ExpressionInfo("return $feature['FieldName'];",
                                                    "name",
                                                    "quia minima ullam",
                                                    ExpressionInfoReturnType.String)],
                                                true,
                                                true,
                                            [new ActionButton("consequuntur et temporibus",
                                                    "https://picsum.photos/640/480/?image=679",
                                                    "e2a4a34c-3f4e-056b-cfd8-da89b495a7d9",
                                                    () => { Console.WriteLine("error"); return Task.CompletedTask; },
                                                    "id",
                                                    true,
                                                    true,
                                                    true,
                                                    "quo"),
                                            new ActionToggle("nulla cum ipsa",
                                                    "4ea06e23-edde-51c5-a02e-9fb9168c68f5",
                                                    () => { Console.WriteLine("fugiat"); return Task.CompletedTask; },
                                                    true,
                                                    true,
                                                    true,
                                                    true,
                                                    "phone",
                                                    "deserunt")]),
                                            new AttributesDictionary(),
                                            true,
                                            "iure",
                                            "occaecati",
                                            new GraphicOrigin(Guid.NewGuid(),
                                                "ut",
                                                8))],
                                    [new Field(default,
                                            "createdAt",
                                            "suscipit",
                                            "adipisci harum iste debitis totam id non",
                                            6,
                                            true,
                                            true,
                                            new { Value = "deleniti" },
                                        FieldValueType.OrderedOrRanked,
                                        new RangeDomain("modi",
                                                "molestiae",
                                                "avatar")),
                                    new Field(default,
                                            "name",
                                            "cum",
                                            "et recusandae voluptatem fugit dolorem",
                                            6,
                                            true,
                                            true,
                                            new { Value = "corrupti" },
                                        FieldValueType.TypeOrCategory,
                                        new RangeDomain("quisquam",
                                                "sint",
                                                "email")),
                                    new Field(default,
                                            "createdAt",
                                            "magnam",
                                            "quia sapiente numquam qui officiis in delectus",
                                            5,
                                            true,
                                            true,
                                            new { Value = "quisquam" },
                                        FieldValueType.NameOrTitle,
                                        new RangeDomain("est",
                                                "velit",
                                                "title"))],
                                    GeometryType.Polygon,
                                    new Extent(-78.4561,
                                            85.1928,
                                            -29.4304,
                                            37.8635,
                                            948.5053,
                                            216.7884,
                                            858.2431,
                                            53.1616,
                                        new SpatialReference(7,
                                                "temporibus",
                                                "corporis",
                                                "qui"),
                                            true,
                                            true),
                                    new SpatialReference(4,
                                            "id",
                                            "quia",
                                            "expedita")))"
                                BandCount="@(5)"
                                BandInfos="@([new RasterBandInfo(417.2488,
                                        596.7723,
                                        "phone",
                                        917.2264,
                                        83.2154,
                                        654.2119,
                                        707.2562,
                                        770.4465)])"
                                Colormap="@([new ColormapPixel(123.8642,
                                    666.7228,
                                    415.2219,
                                    37.5471),
                                    new ColormapPixel(132.3218,
                                        180.8770,
                                        421.4245,
                                        593.3270)])"
                                DataType="@(DataType.Scientific)"
                                Extent="@(new Extent(-103.9972,
                                        39.7010,
                                        55.6319,
                                        31.3767,
                                        630.2533,
                                        32.3404,
                                        945.1296,
                                        752.4105,
                                    new SpatialReference(6,
                                            "et",
                                            "quo",
                                            "autem"),
                                        true,
                                        true))"
                                HasMultidimensionalTranspose="@(true)"
                                Height="@(4)"
                                Histograms="@(["aliquid",
                                    "sint"])"
                                KeyProperties="@("at")"
                                MultidimensionalInfo="@(new RasterMultidimensionalInfo([new RasterMultidimensionalInfoVariables("ipsum unde quo et ad maxime",
                                        [new RasterMultidimensionalInfoVariablesDimensions("nemo tenetur reiciendis adipisci fuga",
                                                [203.7875,
                                                    670.4332,
                                                    897.9263],
                                                true,
                                                778.9318,
                                                "deleniti",
                                                "token",
                                                "minus",
                                                [377.7103,
                                                    272.0167,
                                                    208.2756])],
                                        [new RasterHistogram([747.8484,
                                                953.1373,
                                                179.6036],
                                                [1,
                                                    4],
                                                651.7271,
                                                626.5797,
                                                5)],
                                            "comment",
                                        [new RasterBandStatistics(461.6990,
                                                3,
                                                524.5593,
                                                373.1642,
                                                687.9583,
                                                132.1690,
                                                944.3746,
                                                143.5775),
                                        new RasterBandStatistics(620.6415,
                                                6,
                                                330.2943,
                                                532.6663,
                                                24.2526,
                                                739.6561,
                                                196.4194,
                                                376.2982),
                                        new RasterBandStatistics(164.6877,
                                                6,
                                                44.0590,
                                                163.2989,
                                                356.0006,
                                                969.9566,
                                                182.1910,
                                                107.5007)],
                                            "itaque"),
                                    new RasterMultidimensionalInfoVariables("sit vitae non ut ut",
                                        [new RasterMultidimensionalInfoVariablesDimensions("rem omnis facere aut facilis veniam",
                                                [335.1323,
                                                    636.2596],
                                                true,
                                                424.4752,
                                                "voluptatem",
                                                "avatar",
                                                "dignissimos",
                                                [82.2159,
                                                    451.6913,
                                                    546.7695,
                                                    260.4269])],
                                        [new RasterHistogram([615.5648,
                                                16.6124,
                                                115.2797],
                                                [4,
                                                    9,
                                                    7],
                                                293.9404,
                                                955.7275,
                                                9),
                                        new RasterHistogram([887.8450,
                                                918.3410,
                                                231.0310,
                                                533.8046],
                                                [8,
                                                    5],
                                                862.0309,
                                                528.7814,
                                                7),
                                        new RasterHistogram([308.0188,
                                                20.9471,
                                                764.2188],
                                                [7,
                                                    4,
                                                    8],
                                                218.3787,
                                                778.9671,
                                                4)],
                                            "name",
                                        [new RasterBandStatistics(939.5739,
                                                8,
                                                453.3431,
                                                501.3957,
                                                383.8813,
                                                78.3589,
                                                443.8859,
                                                436.4272)],
                                            "vitae"),
                                    new RasterMultidimensionalInfoVariables("nemo aliquid ipsa debitis",
                                        [new RasterMultidimensionalInfoVariablesDimensions("id et neque consectetur",
                                                [423.7126,
                                                    162.0919,
                                                    670.0132],
                                                true,
                                                139.7698,
                                                "deleniti",
                                                "status",
                                                "qui",
                                                [312.4887,
                                                    729.9016,
                                                    391.6346,
                                                    339.2134]),
                                        new RasterMultidimensionalInfoVariablesDimensions("asperiores et quasi earum minus nostrum perspiciatis",
                                                [907.6841,
                                                    910.6512],
                                                true,
                                                95.2092,
                                                "voluptatem",
                                                "avatar",
                                                "inventore",
                                                [741.1034,
                                                    845.6828]),
                                        new RasterMultidimensionalInfoVariablesDimensions("culpa ut rerum voluptates beatae eveniet qui",
                                                [714.6122,
                                                    650.7024,
                                                    185.4118],
                                                true,
                                                242.6618,
                                                "harum",
                                                "updatedAt",
                                                "est",
                                                [520.1564,
                                                    833.1745,
                                                    689.6926]),
                                        new RasterMultidimensionalInfoVariablesDimensions("expedita labore dolorem veniam nam molestiae",
                                                [89.6925,
                                                    274.7125,
                                                    419.3584,
                                                    458.2602],
                                                true,
                                                56.6050,
                                                "fugit",
                                                "phone",
                                                "inventore",
                                                [425.7999,
                                                    836.6065])],
                                        [new RasterHistogram([841.3279,
                                                771.1241],
                                                [2,
                                                    8,
                                                    4],
                                                649.6803,
                                                795.9679,
                                                9),
                                        new RasterHistogram([73.2653,
                                                758.4433],
                                                [9,
                                                    2],
                                                667.8196,
                                                972.2128,
                                                3),
                                        new RasterHistogram([452.6218,
                                                746.6439],
                                                [9,
                                                    9,
                                                    7],
                                                173.7102,
                                                65.0162,
                                                8),
                                        new RasterHistogram([197.4716,
                                                857.5678,
                                                216.0969],
                                                [6,
                                                    9],
                                                957.3681,
                                                334.0823,
                                                3)],
                                            "password",
                                        [new RasterBandStatistics(745.0751,
                                                7,
                                                287.4739,
                                                151.0165,
                                                384.4672,
                                                306.6397,
                                                819.8901,
                                                777.3594),
                                        new RasterBandStatistics(345.9968,
                                                3,
                                                52.2934,
                                                198.5040,
                                                393.9223,
                                                245.4982,
                                                758.4930,
                                                262.2135),
                                        new RasterBandStatistics(13.0063,
                                                3,
                                                195.8514,
                                                928.5500,
                                                366.0625,
                                                914.4714,
                                                538.9808,
                                                658.2875),
                                        new RasterBandStatistics(957.8260,
                                                8,
                                                39.1294,
                                                679.9472,
                                                16.8559,
                                                501.2323,
                                                610.3134,
                                                533.0052)],
                                            "laboriosam"),
                                    new RasterMultidimensionalInfoVariables("ut illo saepe nobis neque deserunt accusantium",
                                        [new RasterMultidimensionalInfoVariablesDimensions("eum molestiae repellendus porro magnam",
                                                [917.1658,
                                                    517.3065],
                                                true,
                                                885.2460,
                                                "omnis",
                                                "status",
                                                "magni",
                                                [381.5190,
                                                    842.7909,
                                                    749.4563,
                                                    346.9351]),
                                        new RasterMultidimensionalInfoVariablesDimensions("magni voluptates dolor et",
                                                [724.6498,
                                                    618.0402],
                                                true,
                                                181.6309,
                                                "aliquid",
                                                "group",
                                                "ab",
                                                [736.6739,
                                                    77.0393,
                                                    485.1051]),
                                        new RasterMultidimensionalInfoVariablesDimensions("consequatur blanditiis quo voluptate quibusdam numquam",
                                                [75.5265,
                                                    443.2738,
                                                    653.4001],
                                                true,
                                                990.9002,
                                                "unde",
                                                "id",
                                                "et",
                                                [697.3691,
                                                    890.2780]),
                                        new RasterMultidimensionalInfoVariablesDimensions("repudiandae ut dolorem quod earum sint",
                                                [977.3840,
                                                    861.9395],
                                                true,
                                                729.3200,
                                                "aut",
                                                "comment",
                                                "aut",
                                                [65.7249,
                                                    15.7206,
                                                    742.1212])],
                                        [new RasterHistogram([632.3366,
                                                413.1851,
                                                588.7672,
                                                877.4240],
                                                [4,
                                                    7,
                                                    6,
                                                    6],
                                                720.3267,
                                                247.2312,
                                                6),
                                        new RasterHistogram([220.3367,
                                                731.4866],
                                                [8,
                                                    3,
                                                    7],
                                                757.7975,
                                                762.9219,
                                                4),
                                        new RasterHistogram([332.4420,
                                                799.7108,
                                                957.4588],
                                                [5,
                                                    9],
                                                916.7911,
                                                106.2145,
                                                8)],
                                            "phone",
                                        [new RasterBandStatistics(585.9510,
                                                2,
                                                338.2526,
                                                474.6914,
                                                793.8410,
                                                801.3838,
                                                39.6478,
                                                226.8027),
                                        new RasterBandStatistics(794.2890,
                                                5,
                                                301.1914,
                                                967.0190,
                                                311.4756,
                                                483.9628,
                                                631.1638,
                                                121.5616),
                                        new RasterBandStatistics(672.3614,
                                                1,
                                                493.3878,
                                                355.4440,
                                                684.6904,
                                                567.4425,
                                                644.7357,
                                                860.6041)],
                                            "eveniet")]))"
                                PixelSize="@(new RasterInfoPixelSize(-20.0028,
                                        34.7017))"
                                PixelType="@(PixelType.C128)"
                                SensorInfo="@(new RasterSensorInfo(new DateTime(2005, 4, 14, 2, 36, 21),
                                        3.3299,
                                        "group",
                                        414.9811,
                                        284.4678,
                                        "status",
                                        874.5978,
                                        786.7364))"
                                SpatialReference="@(new SpatialReference(7,
                                        "aliquid",
                                        "sit",
                                        "temporibus"))"
                                Statistics="@([new RasterInfoStatistics(608.4358,
                                        124.5042,
                                        482.2943,
                                        96.6991)])"
                                Width="@(9)">
                            </RasterInfo>
                        </CoverageInfo>
                    </WCSLayer>
                </Map>
            </MapView>);
        await WaitForMapToRender();
        Assert.IsNotNull(wCSLayer!);
        await AssertJavaScript("assertLayerExists", args: "wcs");
        var createPopupTemplateMethodResult = await wCSLayer.CreatePopupTemplate(new CreatePopupTemplateOptions(["eveniet",
                    "veniam",
                    "praesentium"],
                    ["email",
                        "name",
                        "password",
                        "avatar"]));
        Assert.IsNotNull(createPopupTemplateMethodResult);
        var fetchPixelsMethodResult = await wCSLayer.FetchPixels(new Extent(-101.0075,
                    -19.3720,
                    -70.1540,
                    61.1148,
                    998.2132,
                    63.1697,
                    396.4558,
                    17.5407,
                new SpatialReference(6,
                        "aperiam",
                        "provident",
                        "nihil"),
                    true,
                    true),
                5,
                7,
            new ImageryTileMixinFetchPixelsOptions(Interpolation.Cubic));
        Assert.IsNotNull(fetchPixelsMethodResult);
        var identifyMethodResult = await wCSLayer.Identify(new Point(167.3796,
                    -31.8675,
                    -160.4809,
                    44.3304,
                    163.5532,
                new SpatialReference(9,
                        "blanditiis",
                        "officia",
                        "incidunt"),
                    true,
                    true,
                    325.3901),
            new RasterIdentifyOptions([new DimensionalDefinition("phone",
                        true,
                        "title"),
                new DimensionalDefinition("name",
                        true,
                        "category")],
                    "status"));
        Assert.IsNotNull(identifyMethodResult);
        IReadOnlyList<DimensionalDefinition> testMultidimensionalDefinition = [new DimensionalDefinition("group",
                    true,
                    "status")];
        await wCSLayer.SetMultidimensionalDefinition(testMultidimensionalDefinition);
        var multidimensionalDefinition = await wCSLayer.GetMultidimensionalDefinition();
        Assert.AreEqual(testMultidimensionalDefinition, multidimensionalDefinition);
        PortalItem testPortalItem = new PortalItem(PortalItemAccess.Public,
                    "vitae",
                    "nam",
                    538.6039,
                    ["ut",
                        "atque"],
                    new DateTime(2005, 6, 27, 13, 12, 36),
                    "molestiae",
                    "iusto saepe vitae eos ad",
                new Extent(-136.8032,
                        82.4719,
                        -62.7674,
                        -63.4404,
                        324.9832,
                        560.8531,
                        931.5299,
                        487.6708,
                    new SpatialReference(8,
                            "quis",
                            "consequatur",
                            "a"),
                        true,
                        true),
                    ["et",
                        "nostrum",
                        "iusto"],
                    "ea",
                    new DateTime(2022, 1, 19, 7, 19, 22),
                    "password",
                    239.9271);
        await wCSLayer.SetPortalItem(testPortalItem);
        var portalItem = await wCSLayer.GetPortalItem();
        Assert.AreEqual(testPortalItem, portalItem);
        BlendMode testBlendMode = BlendMode.Overlay;
        await wCSLayer.SetBlendMode(testBlendMode);
        var blendMode = await wCSLayer.GetBlendMode();
        Assert.AreEqual(testBlendMode, blendMode);
        CoverageInfo testCoverageInfo = new CoverageInfo(["status",
                    "password",
                    "updatedAt",
                    "createdAt"],
                default,
                    "quia",
                    "asperiores aut commodi doloremque natus",
                new Extent(-40.9304,
                        105.6691,
                        -61.1212,
                        -24.5927,
                        185.3688,
                        141.5547,
                        767.4077,
                        29.3076,
                    new SpatialReference(8,
                            "illo",
                            "ea",
                            "suscipit"),
                        true,
                        true),
                new RasterInfo(new FeatureSet("email",
                            true,
                        [new Graphic(new Point(-46.2092,
                                    32.2624,
                                    -84.3942,
                                    -57.6203,
                                    910.7185,
                                new SpatialReference(4,
                                        "rem",
                                        "consequuntur",
                                        "et"),
                                    true,
                                    true,
                                    817.8722),
                            new TextSymbol("aut sit tempora",
                                new MapColor(205, 214, 48),
                                new MapColor(90, 153, 242),
                                    new Dimension(278.3321),
                                new MapFont(new Dimension(730.0675),
                                        "Times New Roman",
                                    MapFontStyle.Normal,
                                    FontWeight.Bolder,
                                    TextDecoration.Underline),
                                    114.8425,
                                new MapColor(60, 128, 118),
                                new MapColor(202, 158, 61),
                                    993.2742,
                                HorizontalAlignment.Left,
                                    true,
                                    369.4435,
                                    new Dimension(281.5651),
                                    true),
                            new PopupTemplate("est et consequatur",
                                    "reprehenderit",
                                    ["quasi",
                                        "autem",
                                        "numquam",
                                        "nulla"],
                                [new FieldInfo("status",
                                        "nihil",
                                        "aperiam",
                                    StringFieldOption.TextArea,
                                    new FieldInfoFormat(5,
                                            true,
                                        DateFormat.DayShortMonthYearShortTime24),
                                        true,
                                        true,
                                    StatisticType.Var),
                                new FieldInfo("createdAt",
                                        "repellendus",
                                        "numquam",
                                    StringFieldOption.RichText,
                                    new FieldInfoFormat(4,
                                            true,
                                        DateFormat.LongDateLongTime24),
                                        true,
                                        true,
                                    StatisticType.Min),
                                new FieldInfo("phone",
                                        "dicta",
                                        "fugit",
                                    StringFieldOption.TextArea,
                                    new FieldInfoFormat(9,
                                            true,
                                        DateFormat.LongMonthYear),
                                        true,
                                        true,
                                    StatisticType.Avg),
                                new FieldInfo("createdAt",
                                        "deserunt",
                                        "alias",
                                    StringFieldOption.TextBox,
                                    new FieldInfoFormat(2,
                                            true,
                                        DateFormat.DayShortMonthYearShortTime),
                                        true,
                                        true,
                                    StatisticType.Stddev)],
                                [new ExpressionPopupContent(new ElementExpressionInfo("return Date();",
                                            "ipsum",
                                            "eligendi placeat quis")),
                                new ExpressionPopupContent(new ElementExpressionInfo("var area = Geometry($feature).area; return area;",
                                            "tempore",
                                            "quos vero doloremque")),
                                new AttachmentsPopupContent("aut eum similique",
                                        "eum impedit distinctio rerum et ut atque",
                                        AttachmentsPopupContentDisplayType.Auto)],
                                [new ExpressionInfo("var x = $feature.X; var y = $feature.Y; return x + ', ' + y;",
                                        "name",
                                        "sunt suscipit maxime",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("return $feature.Population / $feature.Area;",
                                        "status",
                                        "quaerat alias sit",
                                        ExpressionInfoReturnType.String),
                                new ExpressionInfo("return $feature.Population / $feature.Area;",
                                        "comment",
                                        "voluptate doloribus et",
                                        ExpressionInfoReturnType.String)],
                                    true,
                                    true,
                                [new ActionToggle("libero quaerat magni",
                                        "31323375-1b3f-8e78-8168-0cdfeacda8a4",
                                        () => { Console.WriteLine("repellendus"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "avatar",
                                        "architecto"),
                                new ActionToggle("corporis et eum",
                                        "359d19c8-710c-e524-a705-a5e81c90cda9",
                                        () => { Console.WriteLine("repellat"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "email",
                                        "quaerat"),
                                new ActionButton("reprehenderit est consequuntur",
                                        "https://picsum.photos/640/480/?image=0",
                                        "a4918e0f-ab68-e911-5cec-a96aa33ed5e6",
                                        () => { Console.WriteLine("ipsam"); return Task.CompletedTask; },
                                        "avatar",
                                        true,
                                        true,
                                        true,
                                        "unde"),
                                new ActionToggle("recusandae enim eos",
                                        "86eb0df3-a6fa-c8e1-d93f-79c942118cc5",
                                        () => { Console.WriteLine("nemo"); return Task.CompletedTask; },
                                        true,
                                        true,
                                        true,
                                        true,
                                        "status",
                                        "architecto")]),
                                new AttributesDictionary(),
                                true,
                                "beatae",
                                "provident",
                                new GraphicOrigin(Guid.NewGuid(),
                                    "ea",
                                    3))],
                        [new Field(default,
                                "group",
                                "veniam",
                                "qui natus dolor id officiis",
                                1,
                                true,
                                true,
                                new { Value = "quos" },
                            FieldValueType.PercentageOrRatio,
                            new RangeDomain("debitis",
                                    "eius",
                                    "category"))],
                        GeometryType.Polyline,
                        new Point(-162.3769,
                                -50.5596,
                                138.5190,
                                -43.4585,
                                430.0953,
                            new SpatialReference(6,
                                    "numquam",
                                    "et",
                                    "et"),
                                true,
                                true,
                                347.4383),
                        new SpatialReference(6,
                                "sit",
                                "qui",
                                "qui")),
                        9,
                    [new RasterBandInfo(996.2050,
                            287.5762,
                            "createdAt",
                            795.0010,
                            348.3773,
                            235.1150,
                            102.2668,
                            312.8118)],
                        [new ColormapPixel(210.5573,
                            904.3964,
                            900.7800,
                            787.9253),
                            new ColormapPixel(804.4872,
                                421.1863,
                                428.3963,
                                328.6858),
                            new ColormapPixel(751.4675,
                                129.0529,
                                925.1433,
                                635.6949)],
                    DataType.VectorUv,
                    new Extent(46.8169,
                            102.5759,
                            59.9471,
                            35.5616,
                            477.0383,
                            255.4137,
                            121.5150,
                            859.7458,
                        new SpatialReference(9,
                                "reprehenderit",
                                "magni",
                                "ea"),
                            true,
                            true),
                        true,
                        9,
                        ["et",
                            "labore",
                            "dolores",
                            "eius"],
                        "nulla",
                    new RasterMultidimensionalInfo([new RasterMultidimensionalInfoVariables("sit ipsam aperiam rerum quasi sed molestiae",
                            [new RasterMultidimensionalInfoVariablesDimensions("eos ab quae expedita",
                                    [684.9089,
                                        15.0136,
                                        911.4807],
                                    true,
                                    543.2283,
                                    "est",
                                    "group",
                                    "sunt",
                                    [976.6504,
                                        470.3929,
                                        420.9904,
                                        762.4654]),
                            new RasterMultidimensionalInfoVariablesDimensions("ea et non aut quia",
                                    [622.1457,
                                        325.3593,
                                        394.3245,
                                        327.1067],
                                    true,
                                    576.2063,
                                    "commodi",
                                    "password",
                                    "placeat",
                                    [583.2023,
                                        890.4560]),
                            new RasterMultidimensionalInfoVariablesDimensions("dicta fuga officia fugiat adipisci",
                                    [423.9134,
                                        860.2326,
                                        777.8415,
                                        71.2754],
                                    true,
                                    543.6529,
                                    "quod",
                                    "category",
                                    "cupiditate",
                                    [858.1318,
                                        829.1823]),
                            new RasterMultidimensionalInfoVariablesDimensions("ducimus possimus eligendi assumenda in",
                                    [2.2732,
                                        468.4182],
                                    true,
                                    212.7606,
                                    "sed",
                                    "createdAt",
                                    "sunt",
                                    [217.6460,
                                        641.7822,
                                        423.4406])],
                            [new RasterHistogram([836.9928,
                                    303.7249,
                                    964.4685],
                                    [8,
                                        2],
                                    979.1369,
                                    384.7621,
                                    9),
                            new RasterHistogram([130.1992,
                                    691.0739,
                                    589.9435],
                                    [7,
                                        9],
                                    687.3066,
                                    225.9653,
                                    5),
                            new RasterHistogram([789.9674,
                                    120.4625,
                                    849.9731,
                                    995.0059],
                                    [9,
                                        1],
                                    704.2715,
                                    607.6083,
                                    8)],
                                "status",
                            [new RasterBandStatistics(549.8851,
                                    7,
                                    254.1978,
                                    326.6544,
                                    512.2655,
                                    805.0092,
                                    644.3488,
                                    588.8208),
                            new RasterBandStatistics(425.3177,
                                    1,
                                    203.1753,
                                    461.3276,
                                    988.4724,
                                    958.1696,
                                    334.2135,
                                    327.4727),
                            new RasterBandStatistics(97.0299,
                                    2,
                                    455.3231,
                                    491.1817,
                                    988.4520,
                                    6.8069,
                                    564.6523,
                                    124.4741)],
                                "vitae"),
                        new RasterMultidimensionalInfoVariables("blanditiis et autem enim",
                            [new RasterMultidimensionalInfoVariablesDimensions("necessitatibus recusandae at atque officiis corrupti consequatur",
                                    [595.9518,
                                        456.0213,
                                        253.8895,
                                        544.4893],
                                    true,
                                    161.8514,
                                    "aliquam",
                                    "id",
                                    "veniam",
                                    [364.9287,
                                        983.6410,
                                        499.9257,
                                        594.0002]),
                            new RasterMultidimensionalInfoVariablesDimensions("ea neque occaecati non nihil",
                                    [245.5367,
                                        173.7176,
                                        599.4823,
                                        981.3298],
                                    true,
                                    908.4522,
                                    "voluptas",
                                    "title",
                                    "quibusdam",
                                    [394.3923,
                                        613.0948]),
                            new RasterMultidimensionalInfoVariablesDimensions("non fuga beatae eligendi perferendis totam",
                                    [169.8473,
                                        494.9362,
                                        129.0858,
                                        945.2867],
                                    true,
                                    974.5691,
                                    "rerum",
                                    "updatedAt",
                                    "fugiat",
                                    [616.6580,
                                        165.2429,
                                        253.7553,
                                        743.4501]),
                            new RasterMultidimensionalInfoVariablesDimensions("omnis amet voluptatibus voluptatem sed",
                                    [922.3698,
                                        453.1345],
                                    true,
                                    208.8243,
                                    "doloribus",
                                    "phone",
                                    "omnis",
                                    [56.1915,
                                        36.3921])],
                            [new RasterHistogram([938.4984,
                                    366.8100],
                                    [1,
                                        1],
                                    925.7310,
                                    763.6335,
                                    8)],
                                "password",
                            [new RasterBandStatistics(695.5977,
                                    6,
                                    658.9391,
                                    430.9253,
                                    770.8725,
                                    824.3390,
                                    453.8414,
                                    160.8598),
                            new RasterBandStatistics(417.0727,
                                    3,
                                    30.9052,
                                    129.5061,
                                    361.4769,
                                    507.7829,
                                    773.0472,
                                    360.1122),
                            new RasterBandStatistics(748.6635,
                                    4,
                                    590.8944,
                                    162.7575,
                                    973.6137,
                                    575.3012,
                                    957.6022,
                                    158.2301)],
                                "consectetur")]),
                    new RasterInfoPixelSize(151.7213,
                            -29.3576),
                    PixelType.U8,
                    new RasterSensorInfo(new DateTime(2008, 2, 21, 1, 32, 2),
                            253.1394,
                            "comment",
                            574.2288,
                            597.0416,
                            "updatedAt",
                            426.0914,
                            146.9511)),
                    ["ex",
                        "rerum"],
                [SupportedInterpolations.Majority,
                SupportedInterpolations.Cubic,
                SupportedInterpolations.Bilinear],
                    "dicta non sed",
                    true,
                CoverageInfoVersion.Two_0_1);
        await wCSLayer.SetCoverageInfo(testCoverageInfo);
        var coverageInfo = await wCSLayer.GetCoverageInfo();
        Assert.AreEqual(testCoverageInfo, coverageInfo);
        Extent testFullExtent = new Extent(149.2702,
                    161.6830,
                    18.5193,
                    35.8968,
                    996.4388,
                    161.7365,
                    41.7231,
                    852.4003,
                new SpatialReference(9,
                        "sequi",
                        "et",
                        "fugiat"),
                    true,
                    true);
        await wCSLayer.SetFullExtent(testFullExtent);
        var fullExtent = await wCSLayer.GetFullExtent();
        Assert.AreEqual(testFullExtent, fullExtent);
        Interpolation testInterpolation = Interpolation.Majority;
        await wCSLayer.SetInterpolation(testInterpolation);
        var interpolation = await wCSLayer.GetInterpolation();
        Assert.AreEqual(testInterpolation, interpolation);
        ListMode testListMode = ListMode.Hide;
        await wCSLayer.SetListMode(testListMode);
        var listMode = await wCSLayer.GetListMode();
        Assert.AreEqual(testListMode, listMode);
        MultidimensionalSubset testMultidimensionalSubset = new MultidimensionalSubset([new DimensionalDefinition("name",
                        true,
                        "category"),
                new DimensionalDefinition("title",
                        true,
                        "group"),
                new DimensionalDefinition("title",
                        true,
                        "updatedAt")],
                new Polyline([new MapPath([new MapPoint([881.0184,
                            111.4088]),
                        new MapPoint([595.8600,
                            108.8544,
                            34.5152]),
                        new MapPoint([935.8433,
                            171.3102,
                            204.0069])])],
                    new SpatialReference(4,
                            "sunt",
                            "culpa",
                            "voluptatibus"),
                        true,
                        true));
        await wCSLayer.SetMultidimensionalSubset(testMultidimensionalSubset);
        var multidimensionalSubset = await wCSLayer.GetMultidimensionalSubset();
        Assert.AreEqual(testMultidimensionalSubset, multidimensionalSubset);
        PopupTemplate testPopupTemplate = new PopupTemplate("ut quia aut",
                    "accusantium",
                    ["tempora",
                        "nesciunt"],
                [new FieldInfo("title",
                        "tempore",
                        "quibusdam",
                    StringFieldOption.RichText,
                    new FieldInfoFormat(4,
                            true,
                        DateFormat.DayShortMonthYearShortTime24),
                        true,
                        true,
                    StatisticType.Sum),
                new FieldInfo("id",
                        "et",
                        "sunt",
                    StringFieldOption.TextBox,
                    new FieldInfoFormat(1,
                            true,
                        DateFormat.LongMonthDayYear),
                        true,
                        true,
                    StatisticType.Avg),
                new FieldInfo("category",
                        "excepturi",
                        "illo",
                    StringFieldOption.RichText,
                    new FieldInfoFormat(8,
                            true,
                        DateFormat.DayShortMonthYearShortTime),
                        true,
                        true,
                    StatisticType.Count),
                new FieldInfo("avatar",
                        "dolorum",
                        "reprehenderit",
                    StringFieldOption.RichText,
                    new FieldInfoFormat(4,
                            true,
                        DateFormat.LongDate),
                        true,
                        true,
                    StatisticType.Var)],
                [new FieldsPopupContent([new FieldInfo("group",
                            "consequatur",
                            "omnis",
                        StringFieldOption.RichText,
                        new FieldInfoFormat(9,
                                true,
                            DateFormat.DayShortMonthYearLongTime),
                            true,
                            true,
                        StatisticType.Stddev)],
                        "vel omnis ipsum cumque",
                        "eum sint libero")],
                [new ExpressionInfo("var area = Geometry($feature).area; return area;",
                        "name",
                        "numquam dolore doloremque",
                        ExpressionInfoReturnType.String)],
                    true,
                    true,
                [new ActionToggle("autem et perferendis",
                        "7c8cfb7a-48cb-d87a-d97f-9998230b0107",
                        () => { Console.WriteLine("consequatur"); return Task.CompletedTask; },
                        true,
                        true,
                        true,
                        true,
                        "updatedAt",
                        "inventore"),
                new ActionButton("in tenetur labore",
                        "https://picsum.photos/640/480/?image=838",
                        "697df973-f480-b796-1b6e-d85b447899bf",
                        () => { Console.WriteLine("magnam"); return Task.CompletedTask; },
                        "updatedAt",
                        true,
                        true,
                        true,
                        "aut"),
                new ActionToggle("deleniti sit ducimus",
                        "afe2da92-d2f9-0e25-7403-232fea77d43f",
                        () => { Console.WriteLine("quia"); return Task.CompletedTask; },
                        true,
                        true,
                        true,
                        true,
                        "phone",
                        "quod")]);
        await wCSLayer.SetPopupTemplate(testPopupTemplate);
        var popupTemplate = await wCSLayer.GetPopupTemplate();
        Assert.AreEqual(testPopupTemplate, popupTemplate);
        IReadOnlyList<Field> testRasterFields = [new Field(default,
                    "updatedAt",
                    "et",
                    "neque perferendis ipsam debitis praesentium rem",
                    4,
                    true,
                    true,
                    new { Value = "quas" },
                FieldValueType.LocationOrPlaceName,
                new InheritedDomain("title"))];
        await wCSLayer.SetRasterFields(testRasterFields);
        var rasterFields = await wCSLayer.GetRasterFields();
        Assert.AreEqual(testRasterFields, rasterFields);
        TimeExtent testTimeExtent = new TimeExtent(new DateTime(2012, 5, 6, 1, 45, 13),
                    new DateTime(2016, 1, 26, 2, 53, 32));
        await wCSLayer.SetTimeExtent(testTimeExtent);
        var timeExtent = await wCSLayer.GetTimeExtent();
        Assert.AreEqual(testTimeExtent, timeExtent);
        TimeInfo testTimeInfo = new TimeInfo("labore",
                    "animi",
                new TimeExtent(new DateTime(2021, 8, 1, 15, 15, 55),
                        new DateTime(2023, 1, 14, 4, 42, 10)),
                new TimeInterval(TemporalTime.Days,
                        16.1790),
                    [new DateTime(2018, 10, 13, 7, 49, 50),
                        new DateTime(2021, 5, 15, 12, 0, 24),
                        new DateTime(2023, 11, 18, 6, 42, 40),
                        new DateTime(2001, 6, 15, 14, 37, 9)],
                    "America/Argentina/Buenos_Aires",
                    "ut");
        await wCSLayer.SetTimeInfo(testTimeInfo);
        var timeInfo = await wCSLayer.GetTimeInfo();
        Assert.AreEqual(testTimeInfo, timeInfo);
        TimeInterval testTimeOffset = new TimeInterval(TemporalTime.Weeks,
                    387.3092);
        await wCSLayer.SetTimeOffset(testTimeOffset);
        var timeOffset = await wCSLayer.GetTimeOffset();
        Assert.AreEqual(testTimeOffset, timeOffset);
        TimeExtent testVisibilityTimeExtent = new TimeExtent(new DateTime(2018, 9, 22, 10, 34, 48),
                    new DateTime(2015, 1, 11, 4, 42, 20));
        await wCSLayer.SetVisibilityTimeExtent(testVisibilityTimeExtent);
        var visibilityTimeExtent = await wCSLayer.GetVisibilityTimeExtent();
        Assert.AreEqual(testVisibilityTimeExtent, visibilityTimeExtent);
    }
}
