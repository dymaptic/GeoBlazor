import {copyValuesIfExists, hasValue} from "./arcGisJsInterop";

export async function buildDotNetAggregateField(jsField): Promise<any> {
    let dnField: any = {};

    if (hasValue(jsField.onStatisticExpression)) {
        let { buildDotNetExpressionInfo } = await import('./expressionInfo');
        dnField.onStatisticExpression = await buildDotNetExpressionInfo(jsField.onStatisticExpression);
    }

    copyValuesIfExists(jsField, dnField, 'alias', 'isAutoGenerated', 'name', 'onStatisticField', 'statisticType');
    return dnField;
}
export async function buildJsAggregateField(dotNetObject: any, layerId: string | null, viewId: string | null): Promise<any> {
    let { buildJsAggregateFieldGenerated } = await import('./aggregateField.gb');
    return await buildJsAggregateFieldGenerated(dotNetObject, layerId, viewId);
}
