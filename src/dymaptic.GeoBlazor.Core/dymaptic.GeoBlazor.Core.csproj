<Project Sdk="Microsoft.NET.Sdk.Razor">

    <PropertyGroup>
        <PackageId>dymaptic.GeoBlazor.Core</PackageId>
        <PackageTags>Blazor;ArcGIS;JsInterop;Javascript;Asp.NET</PackageTags>
        <Description>
            GeoBlazor is a GIS Component Library and SDK for building interactive maps in Blazor, powered by ArcGIS.
            For more information, visit https://www.geoblazor.com or contact dymaptic at geoblazor@dymaptic.com
        </Description>
        <Title>GeoBlazor</Title>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageVersion>$(CoreVersion)</PackageVersion>
        <Version>$(CoreVersion)</Version>
        <Authors>dymaptic</Authors>
        <Company>dymaptic</Company>
        <Copyright>©2024 by dymaptic</Copyright>
        <PackageReadmeFile>ReadMe.md</PackageReadmeFile>
        <RepositoryUrl>https://github.com/dymaptic/GeoBlazor</RepositoryUrl>
        <PackageProjectUrl>https://geoblazor.com</PackageProjectUrl>
        <RepositoryType>git</RepositoryType>
        <PackageIcon>Blazor-API-500px.png</PackageIcon>
        <GeneratePackageOnBuild Condition="$(Configuration) == 'RELEASE' AND $(GeneratePackage) != 'false'">true</GeneratePackageOnBuild>
        <TargetFramework>net8.0</TargetFramework>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
	    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
        <Nullable>enable</Nullable>
        <ImplicitUsings>enable</ImplicitUsings>
        <CompressionEnabled>false</CompressionEnabled>
        <SkipStaticWebAssets Condition="$(SkipStaticWebAssets) == 'true'">false</SkipStaticWebAssets>
    </PropertyGroup>

    <ItemGroup>
        <SupportedPlatform Include="browser" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Pro" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Core.Sample.Shared" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Core.Test" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Pro.Test.Unit" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Core.Test.Blazor.Shared" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.Pro.Test.Blazor.Shared" />
        <InternalsVisibleTo Include="dymaptic.GeoBlazor.CodeGen" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="DefaultDocumentation" Version="0.8.2" PrivateAssets="all" />
        <PackageReference Include="protobuf-net" Version="3.2.45" />
    </ItemGroup>
    <ItemGroup Condition=" '$(TargetFramework)' == 'net8.0' ">
        <PackageReference Include="Microsoft.AspNetCore.Components.Web" Version="8.0.11" />
        <PackageReference Include="Microsoft.Extensions.Configuration" Version="8.0.0" />
        <PackageReference Include="Microsoft.Extensions.Configuration.Binder" Version="8.0.2" />
        <PackageReference Include="Microsoft.Extensions.Http" Version="8.0.1" />
    </ItemGroup>
    <PropertyGroup Condition="$(Configuration) == 'RELEASE' AND $(TargetFrameworks.StartsWith($(TargetFramework)))">
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
        <DefaultDocumentationFolder>Documentation</DefaultDocumentationFolder>
        <DefaultDocumentationGeneratedPages>Types</DefaultDocumentationGeneratedPages>
        <DefaultDocumentationGeneratedAccessModifiers>Public</DefaultDocumentationGeneratedAccessModifiers>
    </PropertyGroup>

    <ItemGroup>
        <None Include="Blazor-API-500px.png" Pack="true" PackagePath="" />
        <Content Remove="package.json" />
        <Content Remove="package-lock.json" />
        <Content Remove="tsconfig.json" />
        <Content Include="package.json" Pack="false" />
        <Content Include="package-lock.json" Pack="false" />
        <Content Include="tsconfig.json" Pack="false" />
        <None Remove="ReadMe.md" />
        <None Include="ReadMe.md" Pack="true" PackagePath="" />
        <None Remove="Scripts\chartMediaInfoValueSeries.gb.ts" />
        <None Remove="Scripts\whereClause.ts" />
        <None Remove="Scripts\wfsUtils.ts" />
        <None Remove="Scripts\webStyleSymbolUtils.ts" />
        <None Remove="Scripts\webMercatorUtils.ts" />
        <None Remove="Scripts\webDocTimeSlider.ts" />
        <None Remove="Scripts\weatherWidget.ts" />
        <None Remove="Scripts\weatherViewModel.ts" />
        <None Remove="Scripts\wMTSSublayer.ts" />
        <None Remove="Scripts\wMTSLayer.ts" />
        <None Remove="Scripts\wMSLayer.ts" />
        <None Remove="Scripts\voxelLayer.ts" />
        <None Remove="Scripts\visualVariablesResultSize.ts" />
        <None Remove="Scripts\virtualLighting.ts" />
        <None Remove="Scripts\viewAnimation.ts" />
        <None Remove="Scripts\videoPlayerWidget.ts" />
        <None Remove="Scripts\videoPlayerViewModel.ts" />
        <None Remove="Scripts\videoLayer.ts" />
        <None Remove="Scripts\versionManagementViewModel.ts" />
        <None Remove="Scripts\versionManagementService.ts" />
        <None Remove="Scripts\valuePickerWidget.ts" />
        <None Remove="Scripts\utilityNetworkValidateTopologyWidget.ts" />
        <None Remove="Scripts\utilityNetworkValidateTopologyViewModel.ts" />
        <None Remove="Scripts\utilityNetworkTraceWidget.ts" />
        <None Remove="Scripts\utilityNetworkTraceViewModel.ts" />
        <None Remove="Scripts\utilityNetworkAssociationsWidget.ts" />
        <None Remove="Scripts\utilityNetworkAssociationsViewModel.ts" />
        <None Remove="Scripts\urlUtils.ts" />
        <None Remove="Scripts\univariateColorSizeContinuousRendererResult.ts" />
        <None Remove="Scripts\univariateColorSize.ts" />
        <None Remove="Scripts\uniqueValues.ts" />
        <None Remove="Scripts\uI.ts" />
        <None Remove="Scripts\typeCreatePCClassRendererParams.ts" />
        <None Remove="Scripts\trace.ts" />
        <None Remove="Scripts\timeZoneLabelWidget.ts" />
        <None Remove="Scripts\tileMatrixSet.ts" />
        <None Remove="Scripts\tableMenuConfig.ts" />
        <None Remove="Scripts\tableListItemPanelWidget.ts" />
        <None Remove="Scripts\synthesizeAssociationGeometries.ts" />
        <None Remove="Scripts\symbolsWaterSymbol3DLayer.ts" />
        <None Remove="Scripts\symbolsObjectSymbol3DLayer.ts" />
        <None Remove="Scripts\symbolsLineSymbol3DLayer.ts" />
        <None Remove="Scripts\symbolsFillSymbol3DLayer.ts" />
        <None Remove="Scripts\symbolsExtrudeSymbol3DLayer.ts" />
        <None Remove="Scripts\symbologyType.ts" />
        <None Remove="Scripts\symbologySize.ts" />
        <None Remove="Scripts\symbologyPredominance.ts" />
        <None Remove="Scripts\symbologyPieChart.ts" />
        <None Remove="Scripts\symbologyLocation.ts" />
        <None Remove="Scripts\symbologyDotDensity.ts" />
        <None Remove="Scripts\symbolService.ts" />
        <None Remove="Scripts\symbol3DLayer.ts" />
        <None Remove="Scripts\symbol3D.ts" />
        <None Remove="Scripts\svgUtils.ts" />
        <None Remove="Scripts\supportUtils.ts" />
        <None Remove="Scripts\sunLighting.ts" />
        <None Remove="Scripts\summaryStatisticsSummaryStatisticsParams.ts" />
        <None Remove="Scripts\subtypeGroupLayer.ts" />
        <None Remove="Scripts\styleUtils.ts" />
        <None Remove="Scripts\streamLayer.ts" />
        <None Remove="Scripts\stopsByInterval.ts" />
        <None Remove="Scripts\stopsByCount.ts" />
        <None Remove="Scripts\statisticsClassBreaks.ts" />
        <None Remove="Scripts\sql.ts" />
        <None Remove="Scripts\snappingControlsWidget.ts" />
        <None Remove="Scripts\smartMappingSupportUtils.ts" />
        <None Remove="Scripts\smartMappingPrimaryHandleSliderViewModel.ts" />
        <None Remove="Scripts\sliderViewModel.ts" />
        <None Remove="Scripts\sliderViewModel.gb.ts" />
        <None Remove="Scripts\sliceWidget.ts" />
        <None Remove="Scripts\sketchUtils.ts" />
        <None Remove="Scripts\sizeVisualVariableResult.ts" />
        <None Remove="Scripts\sizeSliderViewModel.ts" />
        <None Remove="Scripts\sizeSlider.ts" />
        <None Remove="Scripts\sizeRange.ts" />
        <None Remove="Scripts\sizeContinuousRendererResult.ts" />
        <None Remove="Scripts\sizeClassBreaksRendererResult.ts" />
        <None Remove="Scripts\shadowCastWidget.ts" />
        <None Remove="Scripts\shadowCastViewModel.ts" />
        <None Remove="Scripts\shadedRelief.ts" />
        <None Remove="Scripts\serviceAreaService.ts" />
        <None Remove="Scripts\serviceAreaParameters.ts" />
        <None Remove="Scripts\searchViewModel.ts" />
        <None Remove="Scripts\search.ts" />
        <None Remove="Scripts\sceneViewerUtils.ts" />
        <None Remove="Scripts\sceneViewerSymbolUtils.ts" />
        <None Remove="Scripts\sceneViewMediaHit.ts" />
        <None Remove="Scripts\sceneLayerView.ts" />
        <None Remove="Scripts\scaleRanges.ts" />
        <None Remove="Scripts\scaleRangeSliderWidget.ts" />
        <None Remove="Scripts\scaleRangeSliderViewModel.ts" />
        <None Remove="Scripts\scaleBarWidget.gb.ts" />
        <None Remove="Scripts\routeService.ts" />
        <None Remove="Scripts\routeLayerUpdateRouteLayerSolveResult.ts" />
        <None Remove="Scripts\routeLayer.ts" />
        <None Remove="Scripts\routeHit.ts" />
        <None Remove="Scripts\rgb.ts" />
        <None Remove="Scripts\request.ts" />
        <None Remove="Scripts\renderNode.ts" />
        <None Remove="Scripts\renderContext.ts" />
        <None Remove="Scripts\relationshipRendererResult.ts" />
        <None Remove="Scripts\relationshipRendererCreator.ts" />
        <None Remove="Scripts\relationshipElement.ts" />
        <None Remove="Scripts\rasterUniqueValuesResult.ts" />
        <None Remove="Scripts\rasterUniqueValueCreator.ts" />
        <None Remove="Scripts\rasterFunctionUtils.ts" />
        <None Remove="Scripts\rasterColormapResult.ts" />
        <None Remove="Scripts\rasterColormapRenderer.ts" />
        <None Remove="Scripts\rasterClassBreaksResult.ts" />
        <None Remove="Scripts\queryService.ts" />
        <None Remove="Scripts\queryAssociations.ts" />
        <None Remove="Scripts\promiseUtils.ts" />
        <None Remove="Scripts\printWidget.ts" />
        <None Remove="Scripts\printTemplateLayoutOptions.ts" />
        <None Remove="Scripts\printService.ts" />
        <None Remove="Scripts\previewSymbol2D.ts" />
        <None Remove="Scripts\predominantCategories.ts" />
        <None Remove="Scripts\predominanceRendererResult.ts" />
        <None Remove="Scripts\predominance.ts" />
        <None Remove="Scripts\portalBasemapsSource.gb.ts" />
        <None Remove="Scripts\popupViewModel.ts" />
        <None Remove="Scripts\popupViewModel.gb.ts" />
        <None Remove="Scripts\popupUtils.ts" />
        <None Remove="Scripts\popupClusters.ts" />
        <None Remove="Scripts\polylineBarrier.ts" />
        <None Remove="Scripts\polygonDrawAction.ts" />
        <None Remove="Scripts\pointDrawAction.ts" />
        <None Remove="Scripts\pointCloudLayerView.ts" />
        <None Remove="Scripts\pointCloudLayer.ts" />
        <None Remove="Scripts\pointBarrier.ts" />
        <None Remove="Scripts\orientedImageryViewerWidget.ts" />
        <None Remove="Scripts\orientedImageryViewerViewModel.ts" />
        <None Remove="Scripts\orientedImageryLayer.ts" />
        <None Remove="Scripts\opacitySliderViewModel.ts" />
        <None Remove="Scripts\opacitySlider.ts" />
        <None Remove="Scripts\opacity.ts" />
        <None Remove="Scripts\oGCFeatureLayer.ts" />
        <None Remove="Scripts\normalizeUtils.ts" />
        <None Remove="Scripts\navigationToggleWidget.ts" />
        <None Remove="Scripts\navigationToggleViewModel.ts" />
        <None Remove="Scripts\multipointDrawAction.ts" />
        <None Remove="Scripts\meshUtils.ts" />
        <None Remove="Scripts\meshSymbol3D.ts" />
        <None Remove="Scripts\mediaUtils.ts" />
        <None Remove="Scripts\mediaLayerView.ts" />
        <None Remove="Scripts\mediaLayer.ts" />
        <None Remove="Scripts\measurementWidget.gb.ts" />
        <None Remove="Scripts\mapNotesLayer.ts" />
        <None Remove="Scripts\managedFBO.ts" />
        <None Remove="Scripts\locateWidget.gb.ts" />
        <None Remove="Scripts\localBasemapsSource.ts" />
        <None Remove="Scripts\localBasemapsSource.gb.ts" />
        <None Remove="Scripts\listItem.ts" />
        <None Remove="Scripts\listItem.gb.ts" />
        <None Remove="Scripts\lineOfSightWidget.ts" />
        <None Remove="Scripts\lineOfSightLayer.ts" />
        <None Remove="Scripts\legendWidget.ts" />
        <None Remove="Scripts\legendWidget.gb.ts" />
        <None Remove="Scripts\layerUtils.ts" />
        <None Remove="Scripts\layerOriginUtils.ts" />
        <None Remove="Scripts\layerListViewModel.ts" />
        <None Remove="Scripts\layerListViewModel.gb.ts" />
        <None Remove="Scripts\labelSymbol3D.ts" />
        <None Remove="Scripts\knowledgeGraphSublayer.ts" />
        <None Remove="Scripts\knowledgeGraphService.ts" />
        <None Remove="Scripts\knowledgeGraphLayer.ts" />
        <None Remove="Scripts\jsonUtils.ts" />
        <None Remove="Scripts\integratedMesh3DTilesLayer.ts" />
        <None Remove="Scripts\imageryLayerView.ts" />
        <None Remove="Scripts\identityManagerCredentialCreateEvent.ts" />
        <None Remove="Scripts\identifyParameters.ts" />
        <None Remove="Scripts\iWaterSymbol3DLayer.ts" />
        <None Remove="Scripts\iTextSymbol3DLayer.ts" />
        <None Remove="Scripts\iTemporalSceneLayer.ts" />
        <None Remove="Scripts\iTemporalLayer.ts" />
        <None Remove="Scripts\iTablesMixin.ts" />
        <None Remove="Scripts\iSymbolsSymbol3DLayer.ts" />
        <None Remove="Scripts\iSmartMappingSliderBaseWidget.ts" />
        <None Remove="Scripts\iSearchLayer.ts" />
        <None Remove="Scripts\iRefreshableLayer.ts" />
        <None Remove="Scripts\iPublishableLayer.ts" />
        <None Remove="Scripts\iPortalLayer.ts" />
        <None Remove="Scripts\iPathSymbol3DLayer.ts" />
        <None Remove="Scripts\iOrderedLayer.ts" />
        <None Remove="Scripts\iOperationalLayer.ts" />
        <None Remove="Scripts\iOpenStreetMapLayer.ts" />
        <None Remove="Scripts\iObjectSymbol3DLayer.ts" />
        <None Remove="Scripts\iLineSymbol3DLayer.ts" />
        <None Remove="Scripts\iLayersMixin.ts" />
        <None Remove="Scripts\iImageryTileMixin.ts" />
        <None Remove="Scripts\iIconSymbol3DLayer.ts" />
        <None Remove="Scripts\iFillSymbol3DLayer.ts" />
        <None Remove="Scripts\iFeatureReductionLayer.ts" />
        <None Remove="Scripts\iFeatureLayerViewMixin.ts" />
        <None Remove="Scripts\iFeatureEffectLayer.ts" />
        <None Remove="Scripts\iCIMSymbolLayer.ts" />
        <None Remove="Scripts\iBlendLayer.ts" />
        <None Remove="Scripts\iArcGISImageService.ts" />
        <None Remove="Scripts\iArcGISCachedService.ts" />
        <None Remove="Scripts\homeWidget.ts" />
        <None Remove="Scripts\homeWidget.gb.ts" />
        <None Remove="Scripts\homeViewModel.ts" />
        <None Remove="Scripts\histogramWidget.ts" />
        <None Remove="Scripts\histogramRangeSliderWidget.ts" />
        <None Remove="Scripts\histogramCreator.ts" />
        <None Remove="Scripts\heatmapStatistics.ts" />
        <None Remove="Scripts\heatmapSliderWidget.ts" />
        <None Remove="Scripts\heatmapSliderViewModel.ts" />
        <None Remove="Scripts\handles.ts" />
        <None Remove="Scripts\handleOwner.ts" />
        <None Remove="Scripts\groupColumn.ts" />
        <None Remove="Scripts\groundView.ts" />
        <None Remove="Scripts\ground.ts" />
        <None Remove="Scripts\graphicsLayerView.ts" />
        <None Remove="Scripts\geoprocessingService.ts" />
        <None Remove="Scripts\geometryService.ts" />
        <None Remove="Scripts\geometryEngineAsync.ts" />
        <None Remove="Scripts\geographicTransformationStep.ts" />
        <None Remove="Scripts\geodesicUtils.ts" />
        <None Remove="Scripts\format.ts" />
        <None Remove="Scripts\floorFilterWidget.ts" />
        <None Remove="Scripts\fieldUtils.ts" />
        <None Remove="Scripts\fieldColumn.ts" />
        <None Remove="Scripts\fetchItemsResult.ts" />
        <None Remove="Scripts\featuresViewModel.gb.ts" />
        <None Remove="Scripts\featureWidget.ts" />
        <None Remove="Scripts\featureWidget.gb.ts" />
        <None Remove="Scripts\featureViewModel.gb.ts" />
        <None Remove="Scripts\featureTableWidget.ts" />
        <None Remove="Scripts\featureTableViewModel.ts" />
        <None Remove="Scripts\featureServiceResourcesBundle.ts" />
        <None Remove="Scripts\externalRenderers.ts" />
        <None Remove="Scripts\expandWidget.gb.ts" />
        <None Remove="Scripts\elevationProfileWidget.ts" />
        <None Remove="Scripts\elevationProfileViewModel.ts" />
        <None Remove="Scripts\drawAction.ts" />
        <None Remove="Scripts\dotDensityRenderer.ts" />
        <None Remove="Scripts\dotDensity.ts" />
        <None Remove="Scripts\distanceMeasurement2DViewModel.ts" />
        <None Remove="Scripts\directionsWidget.ts" />
        <None Remove="Scripts\directionsViewModelLastRoute.ts" />
        <None Remove="Scripts\directionsViewModel.ts" />
        <None Remove="Scripts\directionalPadWidget.ts" />
        <None Remove="Scripts\directionPoint.ts" />
        <None Remove="Scripts\directLineMeasurement3DWidget.ts" />
        <None Remove="Scripts\dimensionLayerView.ts" />
        <None Remove="Scripts\dimensionLayer.ts" />
        <None Remove="Scripts\dimensionAnalysisView.ts" />
        <None Remove="Scripts\defaultUI.ts" />
        <None Remove="Scripts\daylightWidget.ts" />
        <None Remove="Scripts\credential.ts" />
        <None Remove="Scripts\coordinateFormatter.ts" />
        <None Remove="Scripts\controlPointsGeoreference.ts" />
        <None Remove="Scripts\continuousRendererResultSize.ts" />
        <None Remove="Scripts\continuousRendererResult.ts" />
        <None Remove="Scripts\compassWidget.ts" />
        <None Remove="Scripts\compassWidget.gb.ts" />
        <None Remove="Scripts\compassViewModel.gb.ts" />
        <None Remove="Scripts\columnTableMenuConfig.ts" />
        <None Remove="Scripts\column.ts" />
        <None Remove="Scripts\colorSliderViewModel.ts" />
        <None Remove="Scripts\colorSlider.ts" />
        <None Remove="Scripts\colorSizeSliderViewModel.ts" />
        <None Remove="Scripts\colorSizeSlider.ts" />
        <None Remove="Scripts\colorCreatePCTrueColorRendererParams.ts" />
        <None Remove="Scripts\colorCreatePCContinuousRendererParams.ts" />
        <None Remove="Scripts\clusters.ts" />
        <None Remove="Scripts\closestFacilityParameters.ts" />
        <None Remove="Scripts\classedSizeSliderViewModel.ts" />
        <None Remove="Scripts\classedSizeSlider.ts" />
        <None Remove="Scripts\classedColorSliderViewModel.ts" />
        <None Remove="Scripts\classedColorSlider.ts" />
        <None Remove="Scripts\classBreaksRendererResult.ts" />
        <None Remove="Scripts\classBreaks.ts" />
        <None Remove="Scripts\cimSymbolUtils.ts" />
        <None Remove="Scripts\categoryType.ts" />
        <None Remove="Scripts\catalogUtils.ts" />
        <None Remove="Scripts\cIMPolygonSymbol.ts" />
        <None Remove="Scripts\cIMMaterialSymbolLayer.ts" />
        <None Remove="Scripts\buildingSceneLayer.ts" />
        <None Remove="Scripts\buildingPhase.ts" />
        <None Remove="Scripts\buildingExplorerWidget.ts" />
        <None Remove="Scripts\buildingExplorerViewModel.ts" />
        <None Remove="Scripts\buildingComponentSublayerView.ts" />
        <None Remove="Scripts\buildingComponentSublayer.ts" />
        <None Remove="Scripts\bookmarksWidget.gb.ts" />
        <None Remove="Scripts\bookmarksViewModel.gb.ts" />
        <None Remove="Scripts\bins.ts" />
        <None Remove="Scripts\binaryColorSizeSlider.ts" />
        <None Remove="Scripts\binLevel.ts" />
        <None Remove="Scripts\basemapToggleWidget.gb.ts" />
        <None Remove="Scripts\basemapToggleViewModel.gb.ts" />
        <None Remove="Scripts\basemapLayerListWidget.ts" />
        <None Remove="Scripts\basemapLayerListWidget.gb.ts" />
        <None Remove="Scripts\basemapLayerListViewModel.ts" />
        <None Remove="Scripts\basemapLayerListViewModel.gb.ts" />
        <None Remove="Scripts\basemapGalleryWidget.ts" />
        <None Remove="Scripts\basemapGalleryWidget.gb.ts" />
        <None Remove="Scripts\basemapGalleryViewModel.ts" />
        <None Remove="Scripts\basemapGalleryViewModel.gb.ts" />
        <None Remove="Scripts\basemapGalleryItem.ts" />
        <None Remove="Scripts\basemapGalleryItem.gb.ts" />
        <None Remove="Scripts\baseLayerViewGL2DRenderRenderParameters.ts" />
        <None Remove="Scripts\baseLayerViewGL2D.ts" />
        <None Remove="Scripts\baseLayerView2DRenderRenderParameters.ts" />
        <None Remove="Scripts\baseLayerView2D.ts" />
        <None Remove="Scripts\attributionWidget.ts" />
        <None Remove="Scripts\attachmentsWidget.ts" />
        <None Remove="Scripts\areaMeasurement3DWidget.ts" />
        <None Remove="Scripts\areaMeasurement2DWidget.gb.ts" />
        <None Remove="Scripts\areaMeasurement2DViewModel.ts" />
        <None Remove="Scripts\areaMeasurement2DViewModel.gb.ts" />
        <None Remove="Scripts\arcade.ts" />
        <None Remove="Scripts\ageUtils.ts" />
        <None Remove="Scripts\ageRendererResult.ts" />
        <None Remove="Scripts\slide.gb.ts" />
        <None Remove="Scripts\listItemPanelWidget.gb.ts" />
        <None Remove="Scripts\layerListWidget.gb.ts" />
    </ItemGroup>

    <ItemGroup>
        <Content Remove="node_modules\**" />
    </ItemGroup>

    <ItemGroup>
        <Folder Include="wwwroot/assets/" />
        <Folder Include="wwwroot/js/" />
        <Folder Include="Documentation/" />
    </ItemGroup>

    <Target Name="NPM Install" BeforeTargets="PreBuildEvent" Condition="$(TargetFrameworks.StartsWith($(TargetFramework))) AND '$(OptOutFromCoreEsBuild)' != 'true'">
        <!-- Runs synchronously to ensure all files are ready for nuget packaging in release mode -->
        <Message Importance="high" Text="Running NPM Install" />
        <Exec Command="npm install" />
    </Target>

    <Target Name="Copy Assets Debug" AfterTargets="NPM Install" Condition="$(Configuration) == 'DEBUG' AND $(TargetFrameworks.StartsWith($(TargetFramework)))">
        <Message Importance="high" Text="Copying Asset files" />
        <ExecAsync FilePath="pwsh" Arguments="./assetCopy.ps1" />
    </Target>

    <Target Name="Copy Assets Release" AfterTargets="NPM Install" Condition="$(Configuration) == 'RELEASE' AND $(TargetFrameworks.StartsWith($(TargetFramework)))">
        <Message Importance="high" Text="Copying Asset files" />
        <Exec Command="pwsh ./assetCopy.ps1" ContinueOnError="false" />
    </Target>

    <Target Name="NPM Debug Build" AfterTargets="NPM Install" Condition="$(Configuration) == 'DEBUG' AND $(TargetFrameworks.StartsWith($(TargetFramework))) AND '$(OptOutFromCoreEsBuild)' != 'true'">
        <!-- Runs asynchronously to speed up build during development -->
        <Message Importance="high" Text="Launching Async NPM Build Script" />
        <ExecAsync FilePath="pwsh" Arguments="./npmDebugBuild.ps1" />
    </Target>

    <Target Name="NPM Release Build" AfterTargets="Copy Assets Release" Condition="$(Configuration) == 'RELEASE' AND $(TargetFrameworks.StartsWith($(TargetFramework))) AND '$(OptOutFromCoreEsBuild)' != 'true'">
        <!-- Runs synchronously to ensure all files are ready for nuget packaging in release mode -->
        <Exec Command="npm run releaseBuild" ContinueOnError="false" />
    </Target>

    <!--Launch a Process in Parallel-->
    <UsingTask TaskName="ExecAsync" TaskFactory="RoslynCodeTaskFactory" AssemblyFile="$(MSBuildToolsPath)\Microsoft.Build.Tasks.Core.dll">
        <ParameterGroup>
            <FilePath ParameterType="System.String" Required="true" />
            <Arguments ParameterType="System.String" Required="true" />
        </ParameterGroup>
        <Task>
            <Code Type="Fragment" Language="cs">
                <![CDATA[ 
  System.Diagnostics.ProcessStartInfo processStartInfo = new System.Diagnostics.ProcessStartInfo(FilePath, Arguments);
  processStartInfo.UseShellExecute = true;
  System.Diagnostics.Process.Start(processStartInfo);
  ]]>
            </Code>
        </Task>
    </UsingTask>
</Project>
